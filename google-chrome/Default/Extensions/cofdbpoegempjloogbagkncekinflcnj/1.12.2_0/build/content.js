var content=function(e){"use strict";const t=[{langCode:"DE",langCodeForSpeech:"de-DE",supportsFormality:!0},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas",supportsFormality:!0},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google espaÃ±ol",label:"ES",supportsFormality:!0},{langCode:"IT",langCodeForSpeech:"it-IT",supportsFormality:!0},{langCode:"ID",langCodeForSpeech:"id-ID"},{langCode:"PL",langCodeForSpeech:"pl-PL",supportsFormality:!0},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL",supportsFormality:!0},{langCode:"PT-PT",langCodeForSpeech:"pt-PT",supportsFormality:!0},{langCode:"PT-BR",langCodeForSpeech:"pt-PT",supportsFormality:!0},{langCode:"RU",langCodeForSpeech:"ru-RU",supportsFormality:!0},{langCode:"ZH",langCodeForSpeech:"zh-CN"},{langCode:"JA",langCodeForSpeech:"ja-JP",supportsFormality:!0},{langCode:"BG",langCodeForSpeech:"bg-BG"},{langCode:"CS",langCodeForSpeech:"cs-CZ"},{langCode:"DA",langCodeForSpeech:"da-DK"},{langCode:"ET",langCodeForSpeech:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu"},{langCode:"EL",langCodeForSpeech:"el-GR"},{langCode:"HU",langCodeForSpeech:"hu-HU"},{langCode:"LV",langCodeForSpeech:"lv"},{langCode:"LT",langCodeForSpeech:"lt"},{langCode:"RO",langCodeForSpeech:"ro-RO"},{langCode:"SK",langCodeForSpeech:"sk-SK"},{langCode:"SL",langCodeForSpeech:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE"},{langCode:"TR",langCodeForSpeech:"tr-TR"},{langCode:"UK",langCodeForSpeech:"uk-UA"},{langCode:"NB",langCodeForSpeech:"nb-NO"},{langCode:"KO",langCodeForSpeech:"ko-KR"}],n=1,o=2,i="",s="ONGOING_TRANSLATION",a="IS_TRANLSATION_COMPLETE",r="SHOW_ORIGINAL",l="ON_GOING_AUTODETECTION",c="ANONYMOUS_USER_MAX_CHAR_EXCEEDED",d=1,u=2,g="inline",p="automatic",m="manual",h=1,f=2,_=3,v=1500,w=5e3,b=1,$=3,y=1,C=2,x=3,T=1,L=2,S=1,k=2,E=[/[^.]+\.deepl\.com/g,/[^.]+\.figma\.com/g],M=[/docs.google\.com\/spreadsheets/g],I=[/[^.]+\.deepl\.com/g],D={deepl_inline_ui:{z_index:2147483650}},O="HINT_KEYBOARD_SHORTCUT",N="INPUT_TRANSLATION",A="INLINE_TRANSLATION",R="FULL_PAGE_TRANSLATION",P={green_theme:"green_theme"},z="INLINE_TRANSLATION_TRIGGER_ICON",H="INLINE_TRANSLATION_SETTINGS_ICON",B="INLINE_TRANSLATION_SETTING_POPUP",U="INPUT_TRANSLATION_TRIGGER_ICON",q="INPUT_TRANSLATION_SETTINGS_ICON",F="INPUT_TRANSLATION_SETTING_POPUP",j="SETTINGS_PAGE_FPT",W="SETTINGS_PAGE_READING",G="SETTINGS_PAGE_WRITING",V="FPT_HIDE_MODAL",Z="INPUT_TRANSLATION_READ_MORE_LINK",K="INLINE_TRANSLATION_READ_MORE_LINK",X="FPT_TRANSLATION_READ_MORE_LINK",Y="EXTENSION_HUB_TOGGLE_SWITCH",Q="HUB_CUSTOMIZE_SHORTCUT",J="HUB_LOGIN_BUTTON",ee="HUB_UPGRADE_TO_PRO_LINK",te="HUB_TRY_PRO_LINK",ne="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",oe="HUB_FPT_ENABLE_CHECKBOX",ie="HUB_FPT_DISABLE_CHECKBOX",se="DEEPL_WRITE_ICON",ae="gmailOnboardingPopup",re="gmailOnboardingIcon",le="gmailCharLimitLogin",ce="gmailFeedbackSurvey",de="HUB_VIEW_INTEGRATIONS",ue="HUB_CLOSE_CUSTOMIZATIONS_WIDGET",ge="GSLIDES_FEEDBACK_SURVEY",pe="GSLIDES_CHAR_LIMIT_LOGIN",me="ZENDESK_TRY_PRO_LINK",he="trigger-translation",fe="CLICK_ON_SHORTCUT_NOTIFICATION",_e="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",ve="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",we="CLICK_ON_LOGOUT_MENU_ENTRY",be="DISABLE_PER_SITE",$e="DISABLE_EVERYWHERE",ye="INPUT_TRANSLATION",Ce="INLINE_TRANSLATION",xe=1,Te=2,Le=0,Se=1,ke=2,Ee=3,Me="cofdbpoegempjloogbagkncekinflcnj",Ie="fancfknaplihpclbhbpclnmmjcjanbaf",De="ocpdpnakdghopjcifldjidbdmfobmmoi",Oe={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},Ne={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},Ae={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},Re={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW",gmail:"GMAIL",gslides:"GSLIDES"},Pe=1,ze=2,He=3,Be={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER",gmail:"GMAIL",gslides:"GSLIDES"},Ue={translate:"translate",write:"write"},qe=["script","style"],Fe=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],je="OPEN_TICKET",We="DETECT_TICKET_LANGUAGE",Ge="SWITCH_TICKET_LANGUAGE",Ve="ENABLE_AUTOTRANSLATE",Ze="DISABLE_AUTOTRANSLATE",Ke="TRANSLATE_MESSAGE",Xe="TRANSLATE_INPUT",Ye="ERROR",Qe="TICKET",Je="LIVE_CHAT",et="free",tt="pro",nt="none",ot="TEXT_REFINEMENT_REQUEST",it="GDOCS_INSERT_COPY",st="GDOCS_DISCARD_COPY",at="GDOCS_CHAR_LIMIT_REACHED",rt="RESULT_ACCEPTED",lt="RESULT_REVERTED",ct="ERROR",dt="RESULT_ACCEPTED",ut="RESULT_REVERTED",gt="ALTERNATIVES_OPENED",pt="SEGMENTATION_SELECTED",mt="ALTERNATIVE_SELECTED",ht="SHOWN",ft="CLICKED",_t="READING_VIEW_TRANSLATE",vt="COMPOSE_VIEW_TRANSLATE",wt="COMPOSE_VIEW_IMPROVE",bt="ANONYMOUS_USER_LIMIT_EXCEEDED",$t="FREE_ACCOUNT_LIMIT_EXCEEDED",yt="PRO_TRIAL",Ct="LOGIN",xt="SIGNUP",Tt="ANONYMOUS",Lt="FREE",St="word",kt="sentence",Et=["JA","ZH"],Mt="None",It="Pro",Dt="Free",Ot=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function Nt(e,t){return Rt(e)===t}function At(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),t.map((e=>e.langCode)).includes(e))}const Rt=e=>e.substring(0,2).toUpperCase();async function Pt(e){let t="";const n=await chrome.i18n.detectLanguage(e);return n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t}const zt=()=>{let e,n,o=!1;return t.map((t=>{let i;return o=["EN-US","EN-GB","PT-PT","PT-BR"].includes(t.langCode),o&&(({optionLabel:e,selectedLabel:n}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(t)),i=t.langCode.slice(0,2).toLowerCase()+t.langCode.slice(2)),{value:t.langCode,label:o?e:chrome.i18n.getMessage(`supported_languages_${t.langCode}`),selectedOptionLabel:o?n:chrome.i18n.getMessage(`supported_languages_${t.langCode}`),regionalVariant:i}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function Ht(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}function Bt(e,t,n){return"EN"===e?t["EN-GB"]===n||t["EN-US"]===n:"PT"===e?t["PT-PT"]===n||t["PT-BR"]===n:t[e]===n}const Ut=e=>["DE","EN"].includes(e?.substr(0,2).toUpperCase()),qt="production",Ft="development";function jt(){return qt===Ft}function Wt(e){chrome.runtime.sendMessage({action:"dlTrackError",errorMessage:e})}const Gt="PROTOCOL_ERROR",Vt="NETWORK_ERROR",Zt="FULL_PAGE_SERVER_ERROR",Kt="-32003",Xt="429",Yt="403",Qt="1045601",Jt="1042902",en="ENTRY_NOT_FOUND",tn="SERVER_ERROR",nn="TRANSLATED_INPUT_NOT_SET",on="HTML_NODE_CHAR_LENGTH_TOO_LONG",sn="FREE_ACCOUNT_LIMIT_EXCEEDED",an="ANONYMOUS_LIMIT_EXCEEDED";class rn extends Error{constructor(e,t){super(t),this.name=sn,this.limit=e,this.message=t}}class ln extends Error{constructor(e,t){super(t),this.name=an,this.limit=e,this.message=t}}function cn(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function dn(e){document.addEventListener("deepl-reset-event",e)}function un(){}(function(){var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,o=window.Document.prototype.prepend,i=window.Document.prototype.append,s=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,r=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,d=window.Node.prototype.removeChild,u=window.Node.prototype.replaceChild,g=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),p=window.Element.prototype.attachShadow,m=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),h=window.Element.prototype.getAttribute,f=window.Element.prototype.setAttribute,_=window.Element.prototype.removeAttribute,v=window.Element.prototype.getAttributeNS,w=window.Element.prototype.setAttributeNS,b=window.Element.prototype.removeAttributeNS,$=window.Element.prototype.insertAdjacentElement,y=window.Element.prototype.insertAdjacentHTML,C=window.Element.prototype.prepend,x=window.Element.prototype.append,T=window.Element.prototype.before,L=window.Element.prototype.after,S=window.Element.prototype.replaceWith,k=window.Element.prototype.remove,E=window.HTMLElement,M=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),I=window.HTMLElement.prototype.insertAdjacentElement,D=window.HTMLElement.prototype.insertAdjacentHTML,O=new Set;function N(e){var t=O.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return O.add(e)}));var A=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function R(e){var t=e.isConnected;if(void 0!==t)return t;if(A(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function P(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function z(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function H(e,t,n){for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;t(i);var s=i.localName;if("link"===s&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===n&&(n=new Set),o instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)H(o,t,n);o=z(e,i);continue}if("template"===s){o=z(e,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)H(i,t,n)}o=o.firstChild?o.firstChild:z(e,o)}}function B(){var e=!(null==re||!re.noDocumentConstructionObserver),t=!(null==re||!re.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=t,this.I=!e}function U(e,t,n,o){var i=window.ShadyDOM;if(e.shadyDomFastWalk&&i&&i.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=i.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else H(t,n,o)}function q(e,t){e.j&&U(e,t,(function(t){return F(e,t)}))}function F(e,t){if(e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t);for(n=0;n<e.g.length;n++)e.g[n](t)}}function j(e,t){var n=[];for(U(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state?e.connectedCallback(o):V(e,o)}}function W(e,t){var n=[];for(U(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state&&e.disconnectedCallback(o)}}function G(e,t,n){var o=(n=void 0===n?{}:n).J,i=n.upgrade||function(t){return V(e,t)},s=[];for(U(e,t,(function(t){if(e.j&&F(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var s=new Set;o&&(o.forEach((function(e){return s.add(e)})),s.delete(n)),G(e,n,{J:s,upgrade:i})}}))}else s.push(t)}),o),t=0;t<s.length;t++)i(s[t])}function V(e,t){try{var n=t.ownerDocument,o=n.__CE_registry,i=o&&(n.defaultView||n.__CE_isImportDocument)?oe(o,t.localName):void 0;if(i&&void 0===t.__CE_state){i.constructionStack.push(t);try{try{if(new i.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=i,i.attributeChangedCallback&&t.hasAttributes()){var s=i.observedAttributes;for(i=0;i<s.length;i++){var a=s[i],r=t.getAttribute(a);null!==r&&e.attributeChangedCallback(t,a,null,r,null)}}R(t)&&e.connectedCallback(t)}}catch(e){K(e)}}function Z(n,o,i,s){var a=o.__CE_registry;if(a&&(null===s||"http://www.w3.org/1999/xhtml"===s)&&(a=oe(a,i)))try{var r=new a.constructorFunction;if(void 0===r.__CE_state||void 0===r.__CE_definition)throw Error("Failed to construct '"+i+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==r.namespaceURI)throw Error("Failed to construct '"+i+"': The constructed element's namespace must be the HTML namespace.");if(r.hasAttributes())throw Error("Failed to construct '"+i+"': The constructed element must not have any attributes.");if(null!==r.firstChild)throw Error("Failed to construct '"+i+"': The constructed element must not have any children.");if(null!==r.parentNode)throw Error("Failed to construct '"+i+"': The constructed element must not have a parent node.");if(r.ownerDocument!==o)throw Error("Failed to construct '"+i+"': The constructed element's owner document is incorrect.");if(r.localName!==i)throw Error("Failed to construct '"+i+"': The constructed element's local name is incorrect.");return r}catch(a){return K(a),o=null===s?e.call(o,i):t.call(o,s,i),Object.setPrototypeOf(o,HTMLUnknownElement.prototype),o.__CE_state=2,o.__CE_definition=void 0,F(n,o),o}return F(n,o=null===s?e.call(o,i):t.call(o,s,i)),o}function K(e){var t="",n="",o=0,i=0;e instanceof Error?(t=e.message,n=e.sourceURL||e.fileName||"",o=e.line||e.lineNumber||0,i=e.column||e.columnNumber||0):t="Uncaught "+String(e);var s=void 0;void 0===ErrorEvent.prototype.initErrorEvent?s=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:o,colno:i,error:e}):((s=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,o),s.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===s.error&&Object.defineProperty(s,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(s),s.defaultPrevented||console.error(e)}function X(){var e=this;this.g=void 0,this.F=new Promise((function(t){e.l=t}))}function Y(e){var t=document;this.l=void 0,this.h=e,this.g=t,G(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Q(e){e.l&&e.l.disconnect()}function J(e){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(e){return e()},this.i=!1,this.v=[],this.h=e,this.D=e.I?new Y(e):void 0}function ee(e,t){if(!N(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(oe(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.A)throw Error("A custom element is already being defined.")}function te(e,t,n){var o;e.A=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var s=function(e){var t=i[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=s("connectedCallback"),r=s("disconnectedCallback"),l=s("adoptedCallback"),c=(o=s("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.A=!1}return n={localName:t,constructorFunction:n,connectedCallback:a,disconnectedCallback:r,adoptedCallback:l,attributeChangedCallback:o,observedAttributes:c,constructionStack:[]},e.u.set(t,n),e.C.set(n.constructorFunction,n),n}function ne(e){if(!1!==e.i){e.i=!1;for(var t=[],n=e.v,o=new Map,i=0;i<n.length;i++)o.set(n[i],[]);for(G(e.h,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,s=o.get(i);s?s.push(n):e.u.has(i)&&t.push(n)}}}),i=0;i<t.length;i++)V(e.h,t[i]);for(i=0;i<n.length;i++){for(var s=n[i],a=o.get(s),r=0;r<a.length;r++)V(e.h,a[r]);(s=e.B.get(s))&&s.resolve(void 0)}n.length=0}}function oe(e,t){var n=e.u.get(t);if(n)return n;if(n=e.s.get(t)){e.s.delete(t);try{return te(e,t,n())}catch(e){K(e)}}}function ie(e,t,n){function o(t){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],a=0;a<o.length;a++){var r=o[a];if(r instanceof Element&&R(r)&&s.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)i.push(r);else i.push(r)}for(t.apply(this,o),o=0;o<s.length;o++)W(e,s[o]);if(R(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&j(e,s)}}void 0!==n.prepend&&(t.prepend=o(n.prepend)),void 0!==n.append&&(t.append=o(n.append))}function se(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var o=this,i=void 0;if(R(this)&&(i=[],U(e,this,(function(e){e!==o&&i.push(e)}))),n.set.call(this,t),i)for(var s=0;s<i.length;s++){var a=i[s];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?G(e,this):q(e,this),t}})}function o(t,n){t.insertAdjacentElement=function(t,o){var i=R(o);return t=n.call(this,t,o),i&&W(e,o),R(t)&&j(e,o),t}}function i(t,n){function o(t,n){for(var o=[];t!==n;t=t.nextSibling)o.push(t);for(n=0;n<o.length;n++)G(e,o[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var i=this.previousSibling;n.call(this,e,t),o(i||this.parentNode.firstChild,this)}else if("afterbegin"===e)i=this.firstChild,n.call(this,e,t),o(this.firstChild,i);else if("beforeend"===e)i=this.lastChild,n.call(this,e,t),o(i||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,e,t),o(this.nextSibling,i)}}}p&&(Element.prototype.attachShadow=function(t){if(t=p.call(this,t),e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t)}return this.__CE_shadowRoot=t}),m&&m.get?n(Element.prototype,m):M&&M.get?n(HTMLElement.prototype,M):function(e,t){e.j=!0,e.g.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return r.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,o=n?this.content:this,i=t.call(document,this.namespaceURI,this.localName);for(i.innerHTML=e;0<o.childNodes.length;)d.call(o,o.childNodes[0]);for(e=n?i.content:i;0<e.childNodes.length;)l.call(o,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return f.call(this,t,n);var o=h.call(this,t);f.call(this,t,n),n=h.call(this,t),e.attributeChangedCallback(this,t,o,n,null)},Element.prototype.setAttributeNS=function(t,n,o){if(1!==this.__CE_state)return w.call(this,t,n,o);var i=v.call(this,t,n);w.call(this,t,n,o),o=v.call(this,t,n),e.attributeChangedCallback(this,n,i,o,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return _.call(this,t);var n=h.call(this,t);_.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return b.call(this,t,n);var o=v.call(this,t,n);b.call(this,t,n);var i=v.call(this,t,n);o!==i&&e.attributeChangedCallback(this,n,o,i,t)},I?o(HTMLElement.prototype,I):$&&o(Element.prototype,$),D?i(HTMLElement.prototype,D):y&&i(Element.prototype,y),ie(e,Element.prototype,{prepend:C,append:x}),function(e){function t(t){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],a=0;a<o.length;a++){var r=o[a];if(r instanceof Element&&R(r)&&s.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)i.push(r);else i.push(r)}for(t.apply(this,o),o=0;o<s.length;o++)W(e,s[o]);if(R(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&j(e,s)}}var n=Element.prototype;void 0!==T&&(n.before=t(T)),void 0!==L&&(n.after=t(L)),void 0!==S&&(n.replaceWith=function(t){for(var n=[],o=0;o<arguments.length;++o)n[o]=arguments[o];o=[];for(var i=[],s=0;s<n.length;s++){var a=n[s];if(a instanceof Element&&R(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(s=R(this),S.apply(this,n),n=0;n<i.length;n++)W(e,i[n]);if(s)for(W(e,this),n=0;n<o.length;n++)(i=o[n])instanceof Element&&j(e,i)}),void 0!==k&&(n.remove=function(){var t=R(this);k.call(this),t&&W(e,this)})}(e)}B.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){K(e)}},B.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){K(e)}},B.prototype.attributeChangedCallback=function(e,t,n,o,i){var s=e.__CE_definition;if(s.attributeChangedCallback&&-1<s.observedAttributes.indexOf(t))try{s.attributeChangedCallback.call(e,t,n,o,i)}catch(e){K(e)}},X.prototype.resolve=function(e){if(this.g)throw Error("Already resolved.");this.g=e,this.l(e)},Y.prototype.G=function(e){var t=this.g.readyState;for("interactive"!==t&&"complete"!==t||Q(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,o=0;o<n.length;o++)G(this.h,n[o])},J.prototype.H=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ee(this,e),this.s.set(e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return ne(n)})))},J.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");ee(this,e),te(this,e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return ne(n)})))},J.prototype.upgrade=function(e){G(this.h,e)},J.prototype.get=function(e){if(e=oe(this,e))return e.constructorFunction},J.prototype.whenDefined=function(e){if(!N(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.B.get(e);if(t)return t.F;t=new X,this.B.set(e,t);var n=this.u.has(e)||this.s.has(e);return e=-1===this.v.indexOf(e),n&&e&&t.resolve(void 0),t.F},J.prototype.polyfillWrapFlushCallback=function(e){this.D&&Q(this.D);var t=this.o;this.o=function(n){return e((function(){return t(n)}))}},J.prototype.define=J.prototype.define,J.prototype.upgrade=J.prototype.upgrade,J.prototype.get=J.prototype.get,J.prototype.whenDefined=J.prototype.whenDefined,J.prototype.polyfillDefineLazy=J.prototype.H,J.prototype.polyfillWrapFlushCallback=J.prototype.polyfillWrapFlushCallback;var ae={};var re=window.customElements;function le(){var t=new B;!function(t){function n(){var n=this.constructor,o=document.__CE_registry.C.get(n);if(!o)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var i=o.constructionStack;if(0===i.length)return i=e.call(document,o.localName),Object.setPrototypeOf(i,n.prototype),i.__CE_state=1,i.__CE_definition=o,F(t,i),i;var s=i.length-1,a=i[s];if(a===ae)throw Error("Failed to construct '"+o.localName+"': This element was already constructed.");return i[s]=ae,Object.setPrototypeOf(a,n.prototype),F(t,a),a}n.prototype=E.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(t),function(e){Document.prototype.createElement=function(t){return Z(e,this,t,null)},Document.prototype.importNode=function(t,o){return t=n.call(this,t,!!o),this.__CE_registry?G(e,t):q(e,t),t},Document.prototype.createElementNS=function(t,n){return Z(e,this,n,t)},ie(e,Document.prototype,{prepend:o,append:i})}(t),ie(t,DocumentFragment.prototype,{prepend:s,append:a}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var o=void 0;if(this.firstChild){var i=this.childNodes,s=i.length;if(0<s&&R(this)){o=Array(s);for(var a=0;a<s;a++)o[a]=i[a]}}if(n.set.call(this,t),o)for(t=0;t<o.length;t++)W(e,o[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var o=P(t);if(t=c.call(this,t,n),R(this))for(n=0;n<o.length;n++)j(e,o[n]);return t}return o=t instanceof Element&&R(t),n=c.call(this,t,n),o&&W(e,t),R(this)&&j(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=P(t);if(t=l.call(this,t),R(this))for(var o=0;o<n.length;o++)j(e,n[o]);return t}return n=t instanceof Element&&R(t),o=l.call(this,t),n&&W(e,t),R(this)&&j(e,t),o},Node.prototype.cloneNode=function(t){return t=r.call(this,!!t),this.ownerDocument.__CE_registry?G(e,t):q(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&R(t),o=d.call(this,t);return n&&W(e,t),o},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var o=P(t);if(t=u.call(this,t,n),R(this))for(W(e,n),n=0;n<o.length;n++)j(e,o[n]);return t}o=t instanceof Element&&R(t);var i=u.call(this,t,n),s=R(this);return s&&W(e,n),o&&W(e,t),s&&j(e,t),i},g&&g.get?t(Node.prototype,g):function(e,t){e.j=!0,e.m.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)d.call(this,this.firstChild);null!=e&&""!==e&&l.call(this,document.createTextNode(e))}})}))}(t),se(t),window.CustomElementRegistry=J,t=new J(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}re&&!re.forcePolyfill&&"function"==typeof re.define&&"function"==typeof re.get||le(),window.__CE_installPolyfill=le}).call(self);const gn=e=>e;function pn(e){return e()}function mn(){return Object.create(null)}function hn(e){e.forEach(pn)}function fn(e){return"function"==typeof e}function _n(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function vn(e,...t){if(null==e)return un;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function wn(e,t,n){e.$$.on_destroy.push(vn(t,n))}function bn(e,t,n,o){if(e){const i=$n(e,t,n,o);return e[0](i)}}function $n(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function yn(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function Cn(e,t,n,o,i,s){if(i){const a=$n(t,n,o,s);e.p(a,i)}}function xn(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Tn(e){return null==e?"":e}function Ln(e,t,n){return e.set(n),t}function Sn(e){return e&&fn(e.destroy)?e.destroy:un}const kn="undefined"!=typeof window;let En=kn?()=>window.performance.now():()=>Date.now(),Mn=kn?e=>requestAnimationFrame(e):un;const In=new Set;function Dn(e){In.forEach((t=>{t.c(e)||(In.delete(t),t.f())})),0!==In.size&&Mn(Dn)}function On(e){let t;return 0===In.size&&Mn(Dn),{promise:new Promise((n=>{In.add(t={c:e,f:n})})),abort(){In.delete(t)}}}function Nn(e,t){e.appendChild(t)}function An(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Rn(e){const t=Bn("style");return function(e,t){Nn(e.head||e,t),t.sheet}(An(e),t),t.sheet}function Pn(e,t,n){e.insertBefore(t,n||null)}function zn(e){e.parentNode&&e.parentNode.removeChild(e)}function Hn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Bn(e){return document.createElement(e)}function Un(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function qn(e){return document.createTextNode(e)}function Fn(){return qn(" ")}function jn(){return qn("")}function Wn(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Gn(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Vn(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Zn(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Kn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Xn(e,t){e.value=null==t?"":t}function Yn(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Qn(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let Jn;function eo(){if(void 0===Jn){Jn=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){Jn=!0}}return Jn}function to(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=Bn("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=eo();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=Wn(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=Wn(n.contentWindow,"resize",t)}),Nn(e,n),()=>{(o||i&&n.contentWindow)&&i(),zn(n)}}function no(e,t,n){e.classList[n?"add":"remove"](t)}function oo(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}class io{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Un(t.nodeName):this.e=Bn(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Pn(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(zn)}}function so(e,t){return new e(t)}const ao=new Map;let ro,lo=0;function co(e,t,n,o,i,s,a,r=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*s(e);c+=100*e+`%{${a(o,1-o)}}\n`}const d=c+`100% {${a(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${r}`,g=An(e),{stylesheet:p,rules:m}=ao.get(g)||function(e,t){const n={stylesheet:Rn(t),rules:{}};return ao.set(e,n),n}(g,e);m[u]||(m[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,lo+=1,u}function uo(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),lo-=i,lo||Mn((()=>{lo||(ao.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&zn(t)})),ao.clear())})))}function go(e){ro=e}function po(){if(!ro)throw new Error("Function called outside component initialization");return ro}function mo(e){po().$$.on_mount.push(e)}function ho(e){po().$$.on_destroy.push(e)}function fo(){const e=po();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=oo(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function _o(e,t){return po().$$.context.set(e,t),t}function vo(e){return po().$$.context.get(e)}function wo(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const bo=[],$o=[],yo=[],Co=[],xo=Promise.resolve();let To=!1;function Lo(){To||(To=!0,xo.then(Do))}function So(e){yo.push(e)}function ko(e){Co.push(e)}const Eo=new Set;let Mo,Io=0;function Do(){const e=ro;do{for(;Io<bo.length;){const e=bo[Io];Io++,go(e),Oo(e.$$)}for(go(null),bo.length=0,Io=0;$o.length;)$o.pop()();for(let e=0;e<yo.length;e+=1){const t=yo[e];Eo.has(t)||(Eo.add(t),t())}yo.length=0}while(bo.length);for(;Co.length;)Co.pop()();To=!1,Eo.clear(),go(e)}function Oo(e){if(null!==e.fragment){e.update(),hn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(So)}}function No(){return Mo||(Mo=Promise.resolve(),Mo.then((()=>{Mo=null}))),Mo}function Ao(e,t,n){e.dispatchEvent(oo(`${t?"intro":"outro"}${n}`))}const Ro=new Set;let Po;function zo(){Po={r:0,c:[],p:Po}}function Ho(){Po.r||hn(Po.c),Po=Po.p}function Bo(e,t){e&&e.i&&(Ro.delete(e),e.i(t))}function Uo(e,t,n,o){if(e&&e.o){if(Ro.has(e))return;Ro.add(e),Po.c.push((()=>{Ro.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const qo={duration:0};function Fo(e,t,n){const o={direction:"in"};let i,s,a=t(e,n,o),r=!1,l=0;function c(){i&&uo(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=gn,tick:d=un,css:u}=a||qo;u&&(i=co(e,0,1,n,t,o,u,l++)),d(0,1);const g=En()+t,p=g+n;s&&s.abort(),r=!0,So((()=>Ao(e,!0,"start"))),s=On((t=>{if(r){if(t>=p)return d(1,0),Ao(e,!0,"end"),c(),r=!1;if(t>=g){const e=o((t-g)/n);d(e,1-e)}}return r}))}let u=!1;return{start(){u||(u=!0,uo(e),fn(a)?(a=a(o),No().then(d)):d())},invalidate(){u=!1},end(){r&&(c(),r=!1)}}}function jo(e,t,n){const o={direction:"out"};let i,s=t(e,n,o),a=!0;const r=Po;function l(){const{delay:t=0,duration:n=300,easing:o=gn,tick:l=un,css:c}=s||qo;c&&(i=co(e,1,0,n,t,o,c));const d=En()+t,u=d+n;So((()=>Ao(e,!1,"start"))),On((t=>{if(a){if(t>=u)return l(0,1),Ao(e,!1,"end"),--r.r||hn(r.c),!1;if(t>=d){const e=o((t-d)/n);l(1-e,e)}}return a}))}return r.r+=1,fn(s)?No().then((()=>{s=s(o),l()})):l(),{end(t){t&&s.tick&&s.tick(1,0),a&&(i&&uo(e,i),a=!1)}}}function Wo(e,t,n,o){const i={direction:"both"};let s=t(e,n,i),a=o?0:1,r=null,l=null,c=null;function d(){c&&uo(e,c)}function u(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(t){const{delay:n=0,duration:o=300,easing:i=gn,tick:g=un,css:p}=s||qo,m={start:En()+n,b:t};t||(m.group=Po,Po.r+=1),r||l?l=m:(p&&(d(),c=co(e,a,t,o,n,i,p)),t&&g(0,1),r=u(m,o),So((()=>Ao(e,t,"start"))),On((t=>{if(l&&t>l.start&&(r=u(l,o),l=null,Ao(e,r.b,"start"),p&&(d(),c=co(e,a,r.b,r.duration,0,i,s.css))),r)if(t>=r.end)g(a=r.b,1-a),Ao(e,r.b,"end"),l||(r.b?d():--r.group.r||hn(r.group.c)),r=null;else if(t>=r.start){const e=t-r.start;a=r.a+r.d*i(e/r.duration),g(a,1-a)}return!(!r&&!l)})))}return{run(e){fn(s)?No().then((()=>{s=s(i),g(e)})):g(e)},end(){d(),r=l=null}}}function Go(e,t,n,o){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,void 0===o&&n(e.$$.ctx[i]))}function Vo(e){e&&e.c()}function Zo(e,t,n,o){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),o||So((()=>{const t=e.$$.on_mount.map(pn).filter(fn);e.$$.on_destroy?e.$$.on_destroy.push(...t):hn(t),e.$$.on_mount=[]})),s.forEach(So)}function Ko(e,t){const n=e.$$;null!==n.fragment&&(hn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Xo(e,t,n,o,i,s,a,r=[-1]){const l=ro;go(e);const c=e.$$={fragment:null,ctx:[],props:s,update:un,not_equal:i,bound:mn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:mn(),dirty:r,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&(bo.push(e),Lo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,hn(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(zn)}else c.fragment&&c.fragment.c();t.intro&&Bo(e.$$.fragment),Zo(e,t.target,t.anchor,t.customElement),Do()}go(l)}class Yo{$destroy(){Ko(this,1),this.$destroy=un}$on(e,t){if(!fn(t))return un;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Qo(e){const t=e-1;return t*t*t+1}function Jo(e,{delay:t=0,duration:n=400,easing:o=gn}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function ei(e,{delay:t=0,duration:n=400,easing:o=Qo,x:i=0,y:s=0,opacity:a=0}={}){const r=getComputedStyle(e),l=+r.opacity,c="none"===r.transform?"":r.transform,d=l*(1-a);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*i}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-d*t}`}}const ti="ACCESS_DENIED",ni="INVALID_REQUEST",oi="INVALID_GRANT",ii="INVALID_NONCE",si="PROTOCOL_ERROR",ai="NETWORK_ERROR",ri="FULL_PAGE_SERVER_ERROR",li="-32003",ci="429",di="403",ui="1045601",gi="1042902";function pi(){return!!chrome&&!!chrome.tabs}function mi(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}function hi(e,t){return mi({action:"dlSendNotification",payload:{type:e,options:t}})}async function fi(e){if(!chrome.tabs)return;const t=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}const _i=[];function vi(e,t=un){let n;const o=new Set;function i(t){if(_n(e,t)&&(e=t,n)){const t=!_i.length;for(const t of o)t[1](),_i.push(t,e);if(t){for(let e=0;e<_i.length;e+=2)_i[e][0](_i[e+1]);_i.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=un){const r=[s,a];return o.add(r),1===o.size&&(n=t(i)||un),s(e),()=>{o.delete(r),0===o.size&&(n(),n=null)}}}}const wi=vi(!1);function bi(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Zn(t,"class","dl-close-icon svelte-qdqw71")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function $i(e){let t,n,o,i,s,a;const r=e[2].default,l=bn(r,e,e[1],null);let c=e[0]&&bi(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Fn(),i=Bn("div"),l&&l.c(),s=Fn(),c&&c.c(),Zn(n,"class","icon-container svelte-qdqw71"),Zn(i,"class","message svelte-qdqw71"),Zn(t,"class","error-msg svelte-qdqw71")},m(e,r){Pn(e,t,r),Nn(t,n),Nn(t,o),Nn(t,i),l&&l.m(i,null),Nn(t,s),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&Cn(l,r,e,e[1],a?yn(r,e[1],n,null):xn(e[1]),null),e[0]?c?c.p(e,n):(c=bi(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Bo(l,e),a=!0)},o(e){Uo(l,e),a=!1},d(e){e&&zn(t),l&&l.d(e),c&&c.d()}}}function yi(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Ci extends Yo{constructor(e){super(),Xo(this,e,yi,$i,_n,{close:0})}}function xi(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Zn(t,"class","dl-close-icon svelte-1jf0jj0")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function Ti(e){let t,n,o,i,s,a;const r=e[2].default,l=bn(r,e,e[1],null);let c=e[0]&&xi(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=Fn(),i=Bn("div"),l&&l.c(),s=Fn(),c&&c.c(),Zn(n,"class","icon-container svelte-1jf0jj0"),Zn(i,"class","message svelte-1jf0jj0"),Zn(t,"class","warn-msg svelte-1jf0jj0")},m(e,r){Pn(e,t,r),Nn(t,n),Nn(t,o),Nn(t,i),l&&l.m(i,null),Nn(t,s),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&Cn(l,r,e,e[1],a?yn(r,e[1],n,null):xn(e[1]),null),e[0]?c?c.p(e,n):(c=xi(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Bo(l,e),a=!0)},o(e){Uo(l,e),a=!1},d(e){e&&zn(t),l&&l.d(e),c&&c.d()}}}function Li(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Si extends Yo{constructor(e){super(),Xo(this,e,Li,Ti,_n,{close:0})}}function ki(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,Zn(t,"data-qa","error-message-generic")},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Ei extends Yo{constructor(e){super(),Xo(this,e,null,ki,_n,{})}}function Mi(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Ii extends Yo{constructor(e){super(),Xo(this,e,null,Mi,_n,{})}}function Di(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Oi extends Yo{constructor(e){super(),Xo(this,e,null,Di,_n,{})}}const Ni="DOCS_GOOGLE_COM_FEEDBACK_FORM",Ai="NEW_FEEDBACK_FORM",Ri="DEEPL_COM_PRO",Pi="DEEPL_COM_TRANSLATOR",zi="DEEPL_COM_HOMEPAGE",Hi="DEEPL_COM_WRITE",Bi="SHORTCUT_SETTINGS",Ui="CHROME_WRITE_A_REVIEW",qi="EDGE_WRITE_A_REVIEW",Fi="GMAIL_FEEDBACK_SURVEY",ji="GSLIDES_FEEDBACK_SURVEY",Wi="DEEPL_SUPPORT";function Gi(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=Fn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,Zn(i,"class","link svelte-1mpkjv7"),Zn(t,"class","container svelte-1mpkjv7")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(t,o),Nn(t,i),s||(a=Wn(i,"click",e[0]),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function Vi(e){return[function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"warning_user_unauthorised"}})}]}class Zi extends Yo{constructor(e){super(),Xo(this,e,Vi,Gi,_n,{})}}function Ki(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=Fn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Zn(i,"class","link svelte-1mpkjv7"),Zn(t,"class","container svelte-1mpkjv7")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(t,o),Nn(t,i),s||(a=Wn(i,"click",e[0]),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function Xi(e){return[function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"warning_user_blocked"}})}]}class Yi extends Yo{constructor(e){super(),Xo(this,e,Xi,Ki,_n,{})}}function Qi(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Ji extends Yo{constructor(e){super(),Xo(this,e,null,Qi,_n,{})}}function es(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function ts(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function ns(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,a]=ts(e,t,o);if("end"===s&&(i=!0),o<a&&n.push({block:"main",text:e.substring(o,a)}),i)break;const r=e.indexOf(`</${s}>`,a);-1===r?(n.push({block:s,text:e.substring(a+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(a+`<${s}>`.length,r)}),o=r+`</${s}>`.length)}return n}function os(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function is(e,t){const n=os(e),o=os(t),i=function(e,t,n){const o=n||((e,t)=>e===t),i=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(i===e.length&&e.length===t.length)return[i];const s=(()=>{let n=e.length-1,s=t.length-1;for(;o(e[n],t[s])&&n>i&&s>i;)--n,--s;return e.length-n-1})(),a=e.length-i-s+1,r=t.length-i-s+1,l=a+r,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,g,p;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),p=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,p=[d.get(l-1),void 0,void 0]),g=u-l;u<a&&g<r&&o(e[u+i],t[g+i]);)++u,++g;if(u>=a&&g>=r){p[1]=a+s-1,p[2]=r+s-1;let e=-1,t=-1;const n=[];for(;p;)n.push([p[1],p[2]]),p=p[0];let o=[],l=null;for(;n.length;){const i=n.pop(),s=i[0],a=i[1],r=s-e,c=a-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=s,t=a}return o[0]=o[0]-1+i,o}c.set(l,u),p[1]=u,p[2]=g,d.set(l,p)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let a=0,r=0,l=0;for(;a<i.length;){const e=i[a];let t=0;for(let o=r+e-1;o>=r;o-=1)t+=n[o]?.match(/^\s/)?2:1;r+=e,l+=e;let c=0,d=0;if(r<n.length&&l<o.length&&n[r]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),a+=1,a<i.length){const[e,t]=i[a];for(let t=r+e-1;t>=r;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),a+=1,r+=e,l+=t}}return[s,n,o,i]}function ss(e,t){let n=0;const o=function(e,t){const n=is(t,e),o=[];let i=0,s=0,a=0,r=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=a,c.originalLength=l.length,c.originalOffset=r,a+=t.length,r+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),a+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),r+=o,i+=e,s+=e}})),o}(e,t),i=[];for(let t of o){t.changeOffset>n&&i.push({isHighlighted:!1,text:e.substring(n,t.changeOffset)});const o=t.changeOffset+t.changeLength;i.push({isHighlighted:!0,text:e.substring(t.changeOffset,o)}),n=o}return n<e.length&&i.push({isHighlighted:!1,text:e.substring(n,e.length)}),i}function as(e,t,n){const o=e.slice();return o[1]=t[n],o}function rs(e){let t,n=e[1].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function ls(e){let t,n,o,i,s,a=e[1].text+"";return{c(){t=Bn("span"),n=qn(a),o=Fn(),Zn(t,"class","link svelte-1mpkjv7")},m(a,r){Pn(a,t,r),Nn(t,n),Nn(t,o),i||(s=Wn(t,"click",e[0]),i=!0)},p:un,d(e){e&&zn(t),i=!1,s()}}}function cs(e){let t;let n=function(e,t){return"deeplSupportLink"===e[1].block?ls:rs}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function ds(e){let t,n=ns(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=cs(as(e,n,t));return{c(){t=Bn("div");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"class","container svelte-1mpkjv7")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,[i]){if(1&i){let s;for(n=ns(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),s=0;s<n.length;s+=1){const a=as(e,n,s);o[s]?o[s].p(a,i):(o[s]=cs(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},i:un,o:un,d(e){e&&zn(t),Hn(o,e)}}}function us(e){return[function(){mi({action:"dlExternalURLRedirect",payload:{destination:Wi}})}]}class gs extends Yo{constructor(e){super(),Xo(this,e,us,ds,_n,{})}}function ps(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class ms extends Yo{constructor(e){super(),Xo(this,e,null,ps,_n,{})}}function hs(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class fs extends Yo{constructor(e){super(),Xo(this,e,null,hs,_n,{})}}function _s(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class vs extends Yo{constructor(e){super(),Xo(this,e,null,_s,_n,{})}}function ws(e,t,n){const o=e.slice();return o[5]=t[n],o}function bs(e){let t,n=e[5].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){4&o&&n!==(n=e[5].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function $s(e){let t,n,o=e[5].text+"";return{c(){t=Bn("strong"),n=qn(o)},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){4&t&&o!==(o=e[5].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function ys(e){let t;function n(e,t){return"strong"===e[5].block?$s:bs}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Cs(e){let t,n,o,i;return{c(){t=Un("svg"),n=Un("path"),Zn(n,"d","M4 12L12 4M4 4L12 12"),Zn(n,"stroke","white"),Zn(n,"stroke-width","1.5"),Zn(n,"stroke-linecap","round"),Zn(n,"stroke-linejoin","round"),Zn(t,"width","16"),Zn(t,"height","16"),Zn(t,"viewBox","0 0 16 16"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg"),Zn(t,"class","svelte-1wok1yz")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&zn(t),o=!1,i()}}}function xs(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m=ns(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"]),h=[];for(let t=0;t<m.length;t+=1)h[t]=ys(ws(e,m,t));let f=e[1]&&Cs(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("h1"),o.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_headline")}`,i=Fn(),s=Bn("p");for(let e=0;e<h.length;e+=1)h[e].c();a=Fn(),r=Bn("div"),l=Bn("button"),l.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_login_button")}`,c=Fn(),d=Bn("button"),d.textContent=`${chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_signup_button")}`,u=Fn(),f&&f.c(),Zn(o,"class","svelte-1wok1yz"),Zn(s,"class","description svelte-1wok1yz"),Zn(n,"class","messages svelte-1wok1yz"),no(n,"small",e[0].small),Zn(l,"class","log-in svelte-1wok1yz"),Zn(d,"class","sign-up svelte-1wok1yz"),Zn(r,"class","actions svelte-1wok1yz"),no(r,"small",e[0].small),Zn(t,"class","container svelte-1wok1yz"),Zn(t,"data-testid","error-message-anonymous-limit-exceeded"),no(t,"small",e[0].small)},m(m,_){Pn(m,t,_),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s);for(let e=0;e<h.length;e+=1)h[e].m(s,null);Nn(t,a),Nn(t,r),Nn(r,l),Nn(r,c),Nn(r,d),Nn(t,u),f&&f.m(t,null),g||(p=[Wn(l,"click",e[3]),Wn(d,"click",e[4])],g=!0)},p(e,[o]){if(4&o){let t;for(m=ns(chrome.i18n.getMessage("notification_anonymous_user_limit_exceeded_description",e[2]),["strong"]),t=0;t<m.length;t+=1){const n=ws(e,m,t);h[t]?h[t].p(n,o):(h[t]=ys(n),h[t].c(),h[t].m(s,null))}for(;t<h.length;t+=1)h[t].d(1);h.length=m.length}1&o&&no(n,"small",e[0].small),1&o&&no(r,"small",e[0].small),e[1]?f?f.p(e,o):(f=Cs(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),1&o&&no(t,"small",e[0].small)},i:un,o:un,d(e){e&&zn(t),Hn(h,e),f&&f.d(),g=!1,hn(p)}}}function Ts(e,t,n){let{config:o}=t,{close:i}=t,s="";return mo((()=>{mi({action:"dlGetUsersCharacterLimit"}).then((e=>n(2,s=e.toString()))),mi({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:bt}})})),ho((()=>{mi({action:"dlTrackUpgradeNotificationClosed",payload:{type:bt}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){mi({action:"dlRequestLogin"}).then((()=>{})).catch((e=>{console.log(e)})),mi({action:"dlTrackUpgradeNotificationAction",payload:{type:bt,cta:Ct}})},function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"notification_anonymous_user_limit_exceeded"}}),mi({action:"dlTrackUpgradeNotificationAction",payload:{type:bt,cta:xt}})}]}class Ls extends Yo{constructor(e){super(),Xo(this,e,Ts,xs,_n,{config:0,close:1})}}function Ss(e,t,n){const o=e.slice();return o[4]=t[n],o}function ks(e){let t,n=e[4].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){4&o&&n!==(n=e[4].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Es(e){let t,n,o=e[4].text+"";return{c(){t=Bn("strong"),n=qn(o)},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){4&t&&o!==(o=e[4].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Ms(e){let t;function n(e,t){return"strong"===e[4].block?Es:ks}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Is(e){let t,n,o,i;return{c(){t=Un("svg"),n=Un("path"),Zn(n,"d","M4 12L12 4M4 4L12 12"),Zn(n,"stroke","white"),Zn(n,"stroke-width","1.5"),Zn(n,"stroke-linecap","round"),Zn(n,"stroke-linejoin","round"),Zn(t,"width","16"),Zn(t,"height","16"),Zn(t,"viewBox","0 0 16 16"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg"),Zn(t,"class","svelte-1kndj9")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&zn(t),o=!1,i()}}}function Ds(e){let t,n,o,i,s,a,r,l,c,d,u,g=ns(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"]),p=[];for(let t=0;t<g.length;t+=1)p[t]=Ms(Ss(e,g,t));let m=e[1]&&Is(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("h1"),o.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_headline")}`,i=Fn(),s=Bn("p");for(let e=0;e<p.length;e+=1)p[e].c();a=Fn(),r=Bn("div"),l=Bn("button"),l.textContent=`${chrome.i18n.getMessage("notification_free_account_limit_exceeded_signup_button")}`,c=Fn(),m&&m.c(),Zn(o,"class","svelte-1kndj9"),Zn(s,"class","description svelte-1kndj9"),Zn(n,"class","messages svelte-1kndj9"),no(n,"small",e[0].small),Zn(l,"class","sign-up svelte-1kndj9"),Zn(r,"class","actions svelte-1kndj9"),no(r,"small",e[0].small),Zn(t,"class","container svelte-1kndj9"),Zn(t,"data-testid","error-message-free-account-limit-exceeded"),no(t,"small",e[0].small)},m(g,h){Pn(g,t,h),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s);for(let e=0;e<p.length;e+=1)p[e].m(s,null);Nn(t,a),Nn(t,r),Nn(r,l),Nn(t,c),m&&m.m(t,null),d||(u=Wn(l,"click",e[3]),d=!0)},p(e,[o]){if(4&o){let t;for(g=ns(chrome.i18n.getMessage("notification_free_account_limit_exceeded_description",e[2]),["strong"]),t=0;t<g.length;t+=1){const n=Ss(e,g,t);p[t]?p[t].p(n,o):(p[t]=Ms(n),p[t].c(),p[t].m(s,null))}for(;t<p.length;t+=1)p[t].d(1);p.length=g.length}1&o&&no(n,"small",e[0].small),1&o&&no(r,"small",e[0].small),e[1]?m?m.p(e,o):(m=Is(e),m.c(),m.m(t,null)):m&&(m.d(1),m=null),1&o&&no(t,"small",e[0].small)},i:un,o:un,d(e){e&&zn(t),Hn(p,e),m&&m.d(),d=!1,u()}}}function Os(e,t,n){let{config:o}=t,{close:i}=t,s="";return mo((()=>{mi({action:"dlGetUsersCharacterLimit"}).then((e=>n(2,s=e.toString()))),mi({action:"dlTrackUpgradeNotificationIsDisplayed",payload:{type:$t}})})),ho((()=>{mi({action:"dlTrackUpgradeNotificationClosed",payload:{type:$t}})})),e.$$set=e=>{"config"in e&&n(0,o=e.config),"close"in e&&n(1,i=e.close)},[o,i,s,function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"notification_free_account_limit_exceeded"}}),mi({action:"dlTrackUpgradeNotificationAction",payload:{type:$t,cta:yt}})}]}class Ns extends Yo{constructor(e){super(),Xo(this,e,Os,Ds,_n,{config:0,close:1})}}function As(e){let t,n,o;var i=e[2];function s(e){return{props:{config:e[1],close:e[0]}}}return i&&(t=so(i,s(e))),{c(){t&&Vo(t.$$.fragment),n=jn()},m(e,i){t&&Zo(t,e,i),Pn(e,n,i),o=!0},p(e,o){const a={};if(2&o&&(a.config=e[1]),1&o&&(a.close=e[0]),i!==(i=e[2])){if(t){zo();const e=t;Uo(e.$$.fragment,1,0,(()=>{Ko(e,1)})),Ho()}i?(t=so(i,s(e)),Vo(t.$$.fragment),Bo(t.$$.fragment,1),Zo(t,n.parentNode,n)):t=null}else i&&t.$set(a)},i(e){o||(t&&Bo(t.$$.fragment,e),o=!0)},o(e){t&&Uo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Ko(t,e)}}}function Rs(e){let t,n;return t=new Si({props:{close:e[0],config:e[1],$$slots:{default:[zs]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),260&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Ps(e){let t,n;return t=new Ci({props:{close:e[0],config:e[1],$$slots:{default:[Hs]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),2&n&&(o.config=e[1]),260&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function zs(e){let t,n,o;var i=e[2];return i&&(t=so(i,{})),{c(){t&&Vo(t.$$.fragment),n=jn()},m(e,i){t&&Zo(t,e,i),Pn(e,n,i),o=!0},p(e,o){if(i!==(i=e[2])){if(t){zo();const e=t;Uo(e.$$.fragment,1,0,(()=>{Ko(e,1)})),Ho()}i?(t=so(i,{}),Vo(t.$$.fragment),Bo(t.$$.fragment,1),Zo(t,n.parentNode,n)):t=null}},i(e){o||(t&&Bo(t.$$.fragment,e),o=!0)},o(e){t&&Uo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Ko(t,e)}}}function Hs(e){let t,n,o;var i=e[2];return i&&(t=so(i,{})),{c(){t&&Vo(t.$$.fragment),n=jn()},m(e,i){t&&Zo(t,e,i),Pn(e,n,i),o=!0},p(e,o){if(i!==(i=e[2])){if(t){zo();const e=t;Uo(e.$$.fragment,1,0,(()=>{Ko(e,1)})),Ho()}i?(t=so(i,{}),Vo(t.$$.fragment),Bo(t.$$.fragment,1),Zo(t,n.parentNode,n)):t=null}},i(e){o||(t&&Bo(t.$$.fragment,e),o=!0)},o(e){t&&Uo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Ko(t,e)}}}function Bs(e){let t,n,o,i;const s=[Ps,Rs,As],a=[];function r(e,t){return e[3]===e[4].SERIOUS||e[3]===e[4].UNKNOWN?0:e[3]===e[4].WARNING?1:e[3]===e[4].CUSTOM?2:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(zo(),Uo(a[l],1,1,(()=>{a[l]=null})),Ho()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Bo(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function Us(e,t,n){let o,i,{error:s}=t,{close:a}=t,{config:r={}}=t;const l={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},c={[Gt]:Ei,[Vt]:Ii,[Zt]:Oi,[Yt]:Ji,[ti]:fs,[oi]:fs,[ni]:fs,[ii]:fs,[Xt]:Yi,[Jt]:Yi,[on]:vs,[Kt]:Zi,[Qt]:gs,[nn]:ms,[sn]:Ns,[an]:Ls,[si]:Ei,[ai]:Ii,[ri]:Oi,[di]:Ji,[ci]:Yi,[gi]:Yi,[li]:Zi,[ui]:gs};return mo((()=>{pi()?fi({action:"dlErrorVisibility",payload:{state:!0}}):wi.set(!0)})),ho((()=>{pi()?fi({action:"dlErrorVisibility",payload:{state:!1}}):wi.set(!1)})),e.$$set=e=>{"error"in e&&n(5,s=e.error),"close"in e&&n(0,a=e.close),"config"in e&&n(1,r=e.config)},e.$$.update=()=>{32&e.$$.dirty&&n(3,o=function(e){switch(e){case Gt:case Vt:case Zt:case Yt:case si:case ai:case ri:case di:case ti:case oi:case ni:case ii:case nn:return l.SERIOUS;case Xt:case Jt:case ci:case gi:case on:case Kt:case Qt:case li:case ui:return l.WARNING;case sn:case an:return l.CUSTOM;default:return l.UNKNOWN}}(s?s.error:"")),32&e.$$.dirty&&n(2,i=s&&c[s.error]||Ei)},[a,r,i,o,l,s]}class qs extends Yo{constructor(e){super(),Xo(this,e,Us,Bs,_n,{error:5,close:0,config:1})}}function Fs(e){let t,n,o,i,s;return n=new qs({props:{error:e[1],close:e[2]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","container svelte-1wstx56")},m(e,o){Pn(e,t,o),Zo(n,t,null),s=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){s||(Bo(n.$$.fragment,e),So((()=>{i&&i.end(1),o=Fo(t,ei,{x:100,duration:1e3}),o.start()})),s=!0)},o(e){Uo(n.$$.fragment,e),o&&o.invalidate(),i=jo(t,ei,{x:100,duration:1e3}),s=!1},d(e){e&&zn(t),Ko(n),e&&i&&i.end()}}}function js(e){let t,n,o=e[3]&&!1===e[0]&&Fs(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&Bo(o,1)):(o=Fs(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Ws(e,t,n){let o;wn(e,wi,(e=>n(4,o=e)));let{error:i}=t,{close:s}=t,{errorAlreadyShown:a}=t,r=!1;return mo((()=>{setTimeout((()=>{n(3,r=!0),n(0,a=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,s=e.close),"errorAlreadyShown"in e&&n(0,a=e.errorAlreadyShown)},[a,i,s,r]}class Gs extends Yo{constructor(e){super(),Xo(this,e,Ws,js,_n,{error:1,close:2,errorAlreadyShown:0})}}class Vs extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=void 0;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(e){this.shadowContainer.style.cssText=`position: fixed; top: 20px; right: 20px; z-index: ${D.deepl_inline_ui.z_index}`,this.mainComponent=new Gs({target:this.shadowContainer,props:{error:e,close:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.remove()}}function Zs(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw")},m(i,s){Pn(i,t,s),t.innerHTML=e[1],n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function Ks(e){return[function(){mi({action:"dlExternalURLRedirect",payload:{destination:Bi}}),mi({action:"dlTrackUiAction",payload:{uiAction:fe}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}window.customElements.define("deepl-alert",Vs);class Xs extends Yo{constructor(e){super(),Xo(this,e,Ks,Zs,_n,{})}}const Ys={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",settings_customizations:"SETTINGS_CUSTOMIZATIONS",onboarding:"ONBOARDING"};function Qs(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw"),Zn(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(i,s){Pn(i,t,s),t.innerHTML=e[0],n||(o=Wn(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function Js(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:Ys.settings_page;let s="",a=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case $e:s=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case be:s=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){mi({action:"dlOpenInternalPage",payload:{destination:i}})},o]}class ea extends Yo{constructor(e){super(),Xo(this,e,Js,Qs,_n,{options:2})}}function ta(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw"),Zn(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Pn(i,t,s),t.innerHTML=e[0],n||(o=Wn(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function na(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:Ys.settings_page;let s="",a=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case $e:s=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case be:s=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){mi({action:"dlOpenInternalPage",payload:{destination:i}})},o]}class oa extends Yo{constructor(e){super(),Xo(this,e,na,ta,_n,{options:2})}}function ia(e){let t,n,o;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,Zn(t,"class","container svelte-1uziz8q"),Zn(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function sa(e){return[function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.settings_page}})}]}class aa extends Yo{constructor(e){super(),Xo(this,e,sa,ia,_n,{})}}function ra(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m;var h=e[5];function f(e){return{props:{options:e[1]}}}return h&&(r=so(h,f(e))),{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),s=Fn(),a=Bn("div"),r&&Vo(r.$$.fragment),Zn(o,"class",i="dl-close-icon "+e[4]+" svelte-7jgk9y"),Zn(n,"class","header"),Zn(n,"notificationtheme",e[4]),Zn(a,"class",l="body "+e[4]+" svelte-7jgk9y"),Zn(t,"class",c="container "+e[4]+" svelte-7jgk9y"),no(t,"contrast",e[0]===R)},m(i,l){Pn(i,t,l),Nn(t,n),Nn(n,o),Nn(t,s),Nn(t,a),r&&Zo(r,a,null),g=!0,p||(m=Wn(o,"click",(function(){fn(e[2])&&e[2].apply(this,arguments)})),p=!0)},p(s,d){e=s,(!g||16&d&&i!==(i="dl-close-icon "+e[4]+" svelte-7jgk9y"))&&Zn(o,"class",i),(!g||16&d)&&Zn(n,"notificationtheme",e[4]);const u={};if(2&d&&(u.options=e[1]),h!==(h=e[5])){if(r){zo();const e=r;Uo(e.$$.fragment,1,0,(()=>{Ko(e,1)})),Ho()}h?(r=so(h,f(e)),Vo(r.$$.fragment),Bo(r.$$.fragment,1),Zo(r,a,null)):r=null}else h&&r.$set(u);(!g||16&d&&l!==(l="body "+e[4]+" svelte-7jgk9y"))&&Zn(a,"class",l),(!g||16&d&&c!==(c="container "+e[4]+" svelte-7jgk9y"))&&Zn(t,"class",c),(!g||17&d)&&no(t,"contrast",e[0]===R)},i(e){g||(r&&Bo(r.$$.fragment,e),So((()=>{u&&u.end(1),d=Fo(t,ei,{x:100,duration:1e3}),d.start()})),g=!0)},o(e){r&&Uo(r.$$.fragment,e),d&&d.invalidate(),u=jo(t,ei,{x:100,duration:1e3}),g=!1},d(e){e&&zn(t),r&&Ko(r),e&&u&&u.end(),p=!1,m()}}}function la(e){let t,n,o=e[3]&&ra(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&Bo(o,1)):(o=ra(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function ca(e,t,n){let o,i,{type:s}=t,{options:a}=t,{close:r}=t,l=!1;const c={[O]:Xs,[N]:ea,[A]:oa,[R]:aa};return mo((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>r()),11100)})),e.$$set=e=>{"type"in e&&n(0,s=e.type),"options"in e&&n(1,a=e.options),"close"in e&&n(2,r=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[s]),2&e.$$.dirty&&n(4,i=P[a?.theme]?P[a?.theme]:"")},[s,a,r,l,i,o]}class da extends Yo{constructor(e){super(),Xo(this,e,ca,la,_n,{type:0,options:1,close:2})}}class ua extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(e,t){this.shadowContainer.style.cssText=`position: fixed; top: 20px; right: 20px; z-index: ${D.deepl_inline_ui.z_index}`,this.mainComponent=new da({target:this.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.remove()}}window.customElements.define("deepl-notification",ua);const ga=function(){const{subscribe:e,set:t,update:n}=vi({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser","translatorServiceType","apiServiceType","docTranslatorServiceType","browserInstanceId","featureSet"],(e=>{n((t=>({...t,...e})))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t","accountId"];let o={};for(const[n,i]of Object.entries(e))!1===t.includes(n)&&(o[n]=i.newValue);if(jt()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}n((e=>({...e,...o})))})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),pa=function(){const{subscribe:e,update:t}=vi({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...t[n.tab.id],...e.payload,error:e.payload.error?e.payload.error:void 0}})));break;case"resetWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...e.payload}})))}})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>({...t,[e[0].id]:{...t[e[0].id],...n}})))}))}))}}}();!function(e,t,n){const o=!Array.isArray(e),i=o?[e]:e,s=t.length<2;return a=e=>{let n=!1;const a=[];let r=0,l=un;const c=()=>{if(r)return;l();const n=t(o?a[0]:a,e);s?e(n):l=fn(n)?n:un},d=i.map(((e,t)=>vn(e,(e=>{a[t]=e,r&=~(1<<t),n&&c()}),(()=>{r|=1<<t}))));return n=!0,c(),function(){hn(d),l()}},{subscribe:vi(n,a).subscribe};var a}(pa,(async(e,t)=>{if(!chrome.tabs)return;t(e[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])})),function(){const{subscribe:e,set:t}=vi([]);mi({action:"dlGetExperiments",payload:{forceFetch:!1}}).then((e=>t(e))),chrome.runtime.onMessage.addListener((function(e){if("dlExperimentsUpdated"===e.action)e.payload&&t(e.payload.experiments)}))}();const ma="Chrome",ha="Edge",fa="Brave",_a="Firefox",va="Opera",wa="Safari";function ba(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}function $a(e,t){let n;try{switch(e){case ma:case fa:n=t.split("Chrome/")[1].split(" ")[0];break;case ha:n=t.split("Edg/")[1].split(" ")[0];break;case _a:n=t.split("Firefox/")[1].split(" ")[0];break;case va:n=t.split("OPR/")[1].split(" ")[0];break;case wa:n=t.split("Version/")[1].split(" ")[0]}}catch(t){console.error(`Could not get the browsers (${e}) version from user agent`,t)}try{!n&&navigator?.userAgentData&&function(e){return e===ma||e===ha||e===fa||e===va}(e)&&(n=ya(e).version)}catch(t){console.error(`Could not get the chromium browsers (${e}) version`,t)}return n&&"string"==typeof n?n:"unknown_browser_version"}function ya(e){if(!navigator.userAgentData||!e)return;const t=new RegExp(`${e}`,"i");return navigator.userAgentData.brands.filter((e=>t.test(e.brand)))[0]}function Ca(e){try{const t=document.createElement("deepl-alert");document.documentElement.appendChild(t),t.createDOM(e),dn((()=>t.cleanupDOM))}catch(e){jt()&&console.log(e)}}const xa=function(){let e={isDarkMode:ba()};const{subscribe:t,update:n}=vi(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:ba()})))})),{subscribe:t,update:e=>{if(jt()){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e&&e.error?Ca(e.error):wi.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();e.websiteData=void 0;const Ta=xa.subscribe((t=>{e.websiteData={...t},t&&Object.keys(t).length>0&&mi({action:"newWebsiteState",payload:{...t}})}));function La(e){let t,n,o,i;return{c(){t=Bn("div"),n=Bn("div"),Zn(n,"class","close-button svelte-b85ux9"),Zn(t,"class","close-button-container svelte-b85ux9")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(n,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&zn(t),o=!1,i()}}}function Sa(e){let t,n,o,i,s,a=e[0]&&La(e);const r=e[2].default,l=bn(r,e,e[1],null);return{c(){a&&a.c(),t=Fn(),n=Bn("div"),o=Bn("div"),i=Fn(),l&&l.c(),Zn(o,"class","logo svelte-b85ux9"),Zn(n,"class","body svelte-b85ux9")},m(e,r){a&&a.m(e,r),Pn(e,t,r),Pn(e,n,r),Nn(n,o),Nn(n,i),l&&l.m(n,null),s=!0},p(e,[n]){e[0]?a?a.p(e,n):(a=La(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),l&&l.p&&(!s||2&n)&&Cn(l,r,e,e[1],s?yn(r,e[1],n,null):xn(e[1]),null)},i(e){s||(Bo(l,e),s=!0)},o(e){Uo(l,e),s=!1},d(e){a&&a.d(e),e&&zn(t),e&&zn(n),l&&l.d(e)}}}function ka(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class Ea extends Yo{constructor(e){super(),Xo(this,e,ka,Sa,_n,{onClose:0})}}function Ma(e,t,n){const o=e.slice();return o[39]=t[n],o}function Ia(e){let t,n,o,i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=Na(Ma(e,i,t));return{c(){t=Bn("ul");for(let e=0;e<s.length;e+=1)s[e].c();Zn(t,"id","dropdown_list"),Zn(t,"class","dropdown__list svelte-1muw6en"),Zn(t,"role","listbox"),Zn(t,"aria-labelledby","dropdown_option"),Zn(t,"tabindex","-1"),Zn(t,"style",n="up"===e[12]?"bottom: 30px":`height: ${e[17].height}; top: ${e[17].top};`),Zn(t,"data-qa",e[6]),no(t,"alternate-dropdown-list","sm"===e[8]),no(t,"align-right",e[9])},m(e,n){Pn(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,o){if(1056779&o[0]){let n;for(i=e[3],n=0;n<i.length;n+=1){const a=Ma(e,i,n);s[n]?s[n].p(a,o):(s[n]=Na(a),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}135168&o[0]&&n!==(n="up"===e[12]?"bottom: 30px":`height: ${e[17].height}; top: ${e[17].top};`)&&Zn(t,"style",n),64&o[0]&&Zn(t,"data-qa",e[6]),256&o[0]&&no(t,"alternate-dropdown-list","sm"===e[8]),512&o[0]&&no(t,"align-right",e[9])},i(e){o||So((()=>{o=Fo(t,ei,{y:-5,duration:500}),o.start()}))},o:un,d(e){e&&zn(t),Hn(s,e)}}}function Da(e){let t,n=e[39].label+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){8&o[0]&&n!==(n=e[39].label+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Oa(e){let t,n,o=e[39].label+"";return{c(){t=new io(!1),n=jn(),t.a=n},m(e,i){t.m(o,e,i),Pn(e,n,i)},p(e,n){8&n[0]&&o!==(o=e[39].label+"")&&t.p(o)},d(e){e&&zn(n),e&&t.d()}}}function Na(e){let t,n,o,i,s,a,r;function l(e,t){return e[13]?Oa:Da}let c=l(e),d=c(e);function u(){return e[31](e[39])}return{c(){t=Bn("li"),d.c(),n=Fn(),Zn(t,"role","option"),Zn(t,"data-option-value",o=e[39].value),Zn(t,"data-option-regionalvariant",i=e[39].regionalVariant),Zn(t,"aria-selected",s=e[0]===e[39]),Zn(t,"class","svelte-1muw6en"),no(t,"selected",e[0]===e[39])},m(o,i){Pn(o,t,i),d.m(t,null),Nn(t,n),a||(r=[Wn(t,"click",u),Wn(t,"mousedown",Vn(Gn(e[28])))],a=!0)},p(a,r){c===(c=l(e=a))&&d?d.p(e,r):(d.d(1),d=c(e),d&&(d.c(),d.m(t,n))),8&r[0]&&o!==(o=e[39].value)&&Zn(t,"data-option-value",o),8&r[0]&&i!==(i=e[39].regionalVariant)&&Zn(t,"data-option-regionalvariant",i),9&r[0]&&s!==(s=e[0]===e[39])&&Zn(t,"aria-selected",s),9&r[0]&&no(t,"selected",e[0]===e[39])},d(e){e&&zn(t),d.d(),a=!1,hn(r)}}}function Aa(e){let t,n,o,i,s,a,r,l,c=e[1]&&Ia(e);return{c(){t=Bn("div"),n=Bn("button"),o=qn(e[18]),i=Fn(),c&&c.c(),Zn(n,"aria-haspopup","listbox"),Zn(n,"id","dropdown_button"),Zn(n,"aria-labelledby","dropdown_option dropdown_button"),Zn(n,"aria-expanded",e[1]),Zn(n,"data-qa",e[5]),Zn(n,"class","svelte-1muw6en"),no(n,"dropdown-label","original"===e[7]),no(n,"dropdown-label-alternate","alternate"===e[7]),no(n,"dropdown-label-zendesk","zendesk"===e[7]),no(n,"dropdown-label-full-width",e[10]),no(n,"dropdown-label-borderless",e[11]),no(n,"dropup","up"===e[12]),no(n,"extra-padding",e[14]),Zn(t,"class",s=Tn(`dropdown__wrapper ${e[4]}`)+" svelte-1muw6en"),Zn(t,"style",e[19]),So((()=>e[33].call(t))),no(t,"disabled",e[2])},m(s,d){Pn(s,t,d),Nn(t,n),Nn(n,o),e[30](n),Nn(t,i),c&&c.m(t,null),a=to(t,e[33].bind(t)),r||(l=[Wn(n,"click",e[21]),Wn(n,"mousedown",Vn(Gn(e[29]))),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[32])],r=!0)},p(e,i){262144&i[0]&&Kn(o,e[18]),2&i[0]&&Zn(n,"aria-expanded",e[1]),32&i[0]&&Zn(n,"data-qa",e[5]),128&i[0]&&no(n,"dropdown-label","original"===e[7]),128&i[0]&&no(n,"dropdown-label-alternate","alternate"===e[7]),128&i[0]&&no(n,"dropdown-label-zendesk","zendesk"===e[7]),1024&i[0]&&no(n,"dropdown-label-full-width",e[10]),2048&i[0]&&no(n,"dropdown-label-borderless",e[11]),4096&i[0]&&no(n,"dropup","up"===e[12]),16384&i[0]&&no(n,"extra-padding",e[14]),e[1]?c?(c.p(e,i),2&i[0]&&Bo(c,1)):(c=Ia(e),c.c(),Bo(c,1),c.m(t,null)):c&&(c.d(1),c=null),16&i[0]&&s!==(s=Tn(`dropdown__wrapper ${e[4]}`)+" svelte-1muw6en")&&Zn(t,"class",s),524288&i[0]&&Zn(t,"style",e[19]),20&i[0]&&no(t,"disabled",e[2])},i(e){Bo(c)},o:un,d(n){n&&zn(t),e[30](null),c&&c.d(),a(),r=!1,hn(l)}}}function Ra(e,t,n){let{isOpen:o=!1}=t,{disabled:i=!1}=t,{items:s=[]}=t,{placeholder:a=""}=t,{customClass:r=""}=t,{selectedOption:l}=t,{defaultOption:c}=t,{dataQaButton:d="dl-dropdown-button"}=t,{dataQaList:u="dl-dropdown-list"}=t,{variant:g="original"}=t,{fontSize:p="default"}=t,{alignRight:m=!0}=t,{extraText:h=""}=t,{isFullWidth:f=!1}=t,{isBorderless:_=!1}=t,{direction:v="down"}=t,{allowLabelHtml:w=!1}=t,{showSortCode:b=!1}=t,{extraPadding:$=!1}=t,{dropdownMaxHeight:y=300}=t;const C=vo("deepl_settings");let x,T,L=0,S={},k={},E={},M="visibility: hidden; opacity:0; height:0;";const I=fo();function D(){S.spaceAbove=Math.abs(x.getBoundingClientRect().top),S.spaceBelow=Math.abs(window.innerHeight-x.getBoundingClientRect().bottom)}c&&(l=c),mo((()=>{setTimeout((()=>{n(19,M="")}),100)}));return e.$$set=e=>{"isOpen"in e&&n(1,o=e.isOpen),"disabled"in e&&n(2,i=e.disabled),"items"in e&&n(3,s=e.items),"placeholder"in e&&n(22,a=e.placeholder),"customClass"in e&&n(4,r=e.customClass),"selectedOption"in e&&n(0,l=e.selectedOption),"defaultOption"in e&&n(23,c=e.defaultOption),"dataQaButton"in e&&n(5,d=e.dataQaButton),"dataQaList"in e&&n(6,u=e.dataQaList),"variant"in e&&n(7,g=e.variant),"fontSize"in e&&n(8,p=e.fontSize),"alignRight"in e&&n(9,m=e.alignRight),"extraText"in e&&n(24,h=e.extraText),"isFullWidth"in e&&n(10,f=e.isFullWidth),"isBorderless"in e&&n(11,_=e.isBorderless),"direction"in e&&n(12,v=e.direction),"allowLabelHtml"in e&&n(13,w=e.allowLabelHtml),"showSortCode"in e&&n(25,b=e.showSortCode),"extraPadding"in e&&n(14,$=e.extraPadding),"dropdownMaxHeight"in e&&n(26,y=e.dropdownMaxHeight)},e.$$.update=()=>{134250497&e.$$.dirty[0]&&(l&&(E?.value===l?.value&&E?.regionalVariant===l?.regionalVariant||(n(27,E=l),I("valueselected",{selectedOption:l}))),L&&D()),54525953&e.$$.dirty[0]&&n(18,T=l?`${b?l.value:l.selectedOptionLabel}${h?` ${h}`:""}`:`${a}${h?` ${h}`:""}`)},[l,o,i,s,r,d,u,g,p,m,f,_,v,w,$,L,x,k,T,M,C,function(){"down"===v&&function(){if(D(),n(17,k.top="auto",k),n(17,k.height=`${y}px`,k),S.spaceBelow>S.spaceAbove)S.spaceBelow<=y&&n(17,k.height=Math.ceil(.8*S.spaceBelow)+"px",k);else{let e=y;S.spaceAbove<=y&&(e=Math.ceil(.8*S.spaceAbove)),n(17,k.height=`${e}px`,k),n(17,k.top="-"+(e+2)+"px",k)}}(),n(1,o=!o),function(){let e=x.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},a,c,h,b,y,E,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(e){$o[e?"unshift":"push"]((()=>{x=e,n(16,x)}))},e=>{n(1,o=!1),n(0,l=e),C.set({regionalVariant:e.regionalVariant||""})},()=>{n(1,o=!1)},function(){L=this.clientWidth,n(15,L)}]}class Pa extends Yo{constructor(e){super(),Xo(this,e,Ra,Aa,_n,{isOpen:1,disabled:2,items:3,placeholder:22,customClass:4,selectedOption:0,defaultOption:23,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:24,isFullWidth:10,isBorderless:11,direction:12,allowLabelHtml:13,showSortCode:25,extraPadding:14,dropdownMaxHeight:26},null,[-1,-1])}}function za(e,t,n){const o=e.slice();return o[21]=t[n],o}function Ha(e){let t,n,o,i,s;return n=new Pa({props:{disabled:e[0],items:e[15],defaultOption:e[16],placeholder:e[13],dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7],isBorderless:e[8],showSortCode:e[9],extraPadding:e[10],dropdownMaxHeight:e[11]}}),n.$on("valueselected",e[14]),{c(){t=Bn("div"),Vo(n.$$.fragment)},m(a,r){Pn(a,t,r),Zo(n,t,null),o=!0,i||(s=Wn(t,"mousedown",Vn(Gn(e[19]))),i=!0)},p(e,t){const o={};1&t&&(o.disabled=e[0]),8&t&&(o.customClass=e[3]),32&t&&(o.variant=e[5]),64&t&&(o.fontSize=e[6]),128&t&&(o.alignRight=e[7]),256&t&&(o.isBorderless=e[8]),512&t&&(o.showSortCode=e[9]),1024&t&&(o.extraPadding=e[10]),2048&t&&(o.dropdownMaxHeight=e[11]),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n),i=!1,s()}}}function Ba(e){let t,n,o,i,s,a,r,l=e[2]&&Ua(),c=e[15],d=[];for(let t=0;t<c.length;t+=1)d[t]=qa(za(e,c,t));return{c(){t=Bn("div"),n=Bn("select"),l&&l.c(),o=jn();for(let e=0;e<d.length;e+=1)d[e].c();i=qn(">"),Zn(n,"data-qa","deepl-language-selection"),Zn(n,"class","svelte-f4rh0n"),Zn(t,"class",s=Tn("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-f4rh0n")},m(s,c){Pn(s,t,c),Nn(t,n),l&&l.m(n,null),Nn(n,o);for(let e=0;e<d.length;e+=1)d[e].m(n,null);Nn(n,i),Qn(n,e[1]),a||(r=Wn(n,"change",Gn(e[20])),a=!0)},p(e,a){if(e[2]?l?l.p(e,a):(l=Ua(),l.c(),l.m(n,o)):l&&(l.d(1),l=null),32768&a){let t;for(c=e[15],t=0;t<c.length;t+=1){const o=za(e,c,t);d[t]?d[t].p(o,a):(d[t]=qa(o),d[t].c(),d[t].m(n,i))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length}32770&a&&Qn(n,e[1]),32&a&&s!==(s=Tn("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-f4rh0n")&&Zn(t,"class",s)},i:un,o:un,d(e){e&&zn(t),l&&l.d(),Hn(d,e),a=!1,r()}}}function Ua(e){let t,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=Bn("option"),n=qn(i),o=Fn(),t.__value=void 0,t.value=t.__value,Zn(t,"data-option-regionalvariant",void 0)},m(e,i){Pn(e,t,i),Nn(t,n),Nn(t,o)},p:un,d(e){e&&zn(t)}}}function qa(e){let t,n,o,i=e[21].label+"";return{c(){t=Bn("option"),n=qn(i),o=Fn(),t.__value=e[21].value,t.value=t.__value,Zn(t,"data-option-regionalvariant",e[21].regionalVariant)},m(e,i){Pn(e,t,i),Nn(t,n),Nn(t,o)},p:un,d(e){e&&zn(t)}}}function Fa(e){let t,n,o,i;const s=[Ba,Ha],a=[];return t=pi()?0:1,n=a[t]=s[t](e),{c(){n.c(),o=jn()},m(e,n){a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[t]){n.p(e,t)},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){a[t].d(e),e&&zn(o)}}}function ja(e,n,o){let a,r=un,l=()=>(r(),r=vn(p,(e=>o(18,a=e))),p);e.$$.on_destroy.push((()=>r()));const c=fo();let{value:d}=n,{showChooseLanguageOption:u=!1}=n,{customClass:g=""}=n,{websiteSettings:p}=n;l();let{disabled:m=!1}=n,{variant:h="original"}=n,{fontSize:f="default"}=n,{alignRight:_=!1}=n,{isBorderless:v=!1}=n,{showSortCode:w=!1}=n,{extraPadding:b=!1}=n,{showRegionalVariants:$=!0}=n,{dropdownMaxHeight:y=300}=n,C=u?chrome.i18n.getMessage("supported_languages_undefined"):void 0;const x=$?zt():t.filter((e=>!["PT-BR","EN-US"].includes(e.langCode))).map((e=>"EN-GB"===e.langCode?{...e,langCode:"EN"}:"PT-PT"===e.langCode?{...e,langCode:"PT"}:e)).map((e=>({value:e.langCode,label:chrome.i18n.getMessage(`supported_languages_${e.langCode}`),selectedOptionLabel:chrome.i18n.getMessage(`supported_languages_${e.langCode}`)}))).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())));let T=d?x.find((e=>e.value===d)):void 0;return e.$$set=e=>{"value"in e&&o(1,d=e.value),"showChooseLanguageOption"in e&&o(2,u=e.showChooseLanguageOption),"customClass"in e&&o(3,g=e.customClass),"websiteSettings"in e&&l(o(4,p=e.websiteSettings)),"disabled"in e&&o(0,m=e.disabled),"variant"in e&&o(5,h=e.variant),"fontSize"in e&&o(6,f=e.fontSize),"alignRight"in e&&o(7,_=e.alignRight),"isBorderless"in e&&o(8,v=e.isBorderless),"showSortCode"in e&&o(9,w=e.showSortCode),"extraPadding"in e&&o(10,b=e.extraPadding),"showRegionalVariants"in e&&o(17,$=e.showRegionalVariants),"dropdownMaxHeight"in e&&o(11,y=e.dropdownMaxHeight)},e.$$.update=()=>{262144&e.$$.dirty&&(a&&a.translationState===s?o(0,m=!0):a&&a.translationState===i&&o(0,m=!1))},[m,d,u,g,p,h,f,_,v,w,b,y,c,C,function(e){m||c("selection",e.detail)},x,T,$,a,function(t){wo.call(this,e,t)},e=>{if(m)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;c("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class Wa extends Yo{constructor(e){super(),Xo(this,e,ja,Fa,_n,{value:1,showChooseLanguageOption:2,customClass:3,websiteSettings:4,disabled:0,variant:5,fontSize:6,alignRight:7,isBorderless:8,showSortCode:9,extraPadding:10,showRegionalVariants:17,dropdownMaxHeight:11})}}function Ga(e){let t;return{c(){t=Bn("div"),Zn(t,"class","loader svelte-c65fyl"),no(t,"small",e[0])},m(e,n){Pn(e,t,n)},p(e,[n]){1&n&&no(t,"small",e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Va(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class Za extends Yo{constructor(e){super(),Xo(this,e,Va,Ga,_n,{small:0})}}function Ka(e){let t,n;return{c(){t=Bn("div"),n=qn(e[0]),Zn(t,"class","info-msg svelte-17qaccl")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,[t]){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Xa(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class Ya extends Yo{constructor(e){super(),Xo(this,e,Xa,Ka,_n,{message:0})}}function Qa(e){switch(e){case U:return 1;case z:return 2;case B:return 3;case F:return 4;case j:return 5;case W:return 6;case G:return 7;case V:return 8;case q:return 9;case H:return 10;case Z:return 11;case K:return 12;case X:return 13;case Y:return 14;case Q:return 15;case J:return 16;case ee:return 17;case te:return 18;case ne:return 19;case oe:return 20;case ie:return 21;case se:return 22;case de:return 23;case ue:return 24;case ae:return 25;case re:return 26;case le:return 27;case ce:return 28;case ge:return 29;case pe:return 30;case me:return 31;default:return 0}}function Ja(e){switch(e){case Me:return Se;case Ie:return ke;case De:return Ee;default:return Le}}function er(e){switch(e){case et:return 1;case tt:return 2;case nt:return 3;default:return 0}}function tr(e){switch(e){case _t:return 1;case vt:return 2;case wt:return 3;default:return 0}}function nr(e){switch(e){case Mt:return 1;case It:return 2;case Dt:return 3;default:return 0}}function or(e){let t,n,o,i,s;const a=e[7].default,r=bn(a,e,e[6],null);return{c(){t=Bn("button"),r&&r.c(),Zn(t,"type","button"),Zn(t,"class",n=Tn(e[0])+" svelte-1b6vay0"),t.disabled=e[1],Zn(t,"id",e[5]),Zn(t,"data-qa",e[4]),no(t,"disabled",e[1]),no(t,"font-size-sm","sm"===e[2]),no(t,"padding-x-md","md"===e[3]),no(t,"padding-x-none","none"===e[3])},m(n,a){Pn(n,t,a),r&&r.m(t,null),o=!0,i||(s=[Wn(t,"click",e[8]),Wn(t,"mousedown",Vn(Gn(e[9])))],i=!0)},p(e,[i]){r&&r.p&&(!o||64&i)&&Cn(r,a,e,e[6],o?yn(a,e[6],i,null):xn(e[6]),null),(!o||1&i&&n!==(n=Tn(e[0])+" svelte-1b6vay0"))&&Zn(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&Zn(t,"id",e[5]),(!o||16&i)&&Zn(t,"data-qa",e[4]),(!o||3&i)&&no(t,"disabled",e[1]),(!o||5&i)&&no(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&no(t,"padding-x-md","md"===e[3]),(!o||9&i)&&no(t,"padding-x-none","none"===e[3])},i(e){o||(Bo(r,e),o=!0)},o(e){Uo(r,e),o=!1},d(e){e&&zn(t),r&&r.d(e),i=!1,hn(s)}}}function ir(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:s="button-primary"}=t,{disabled:a=!1}=t,{fontSize:r="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,a=e.disabled),"fontSize"in e&&n(2,r=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[s,a,r,l,c,d,i,o,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)}]}class sr extends Yo{constructor(e){super(),Xo(this,e,ir,or,_n,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function ar(e){try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return null}}async function rr(e){let t,n,o,i,s,a,r,l,c=!1;try{const e=await gr(["session","installationId"]);n=e.session.id,t=e.installationId}catch(e){console.error(`DAP: Failed to fetch settings. Error: ${e.message}`)}try{const e=await async function(){return await chrome.storage.local.get(["isLoggedIn","isProUser","sessionType","translatorServiceType","apiServiceType","docTranslatorServiceType","accountId"])}();c=!!e.accountId,o=er(e.translatorServiceType),i=er(e.apiServiceType),s=er(e.docTranslatorServiceType),r=c?2===o||2===i||2===s?f:_:h,l=e.sessionType?nr(e.sessionType):nr(Mt)}catch(e){console.error(`DAP: Failed to fetch user information. Error: ${e.message}`)}try{a=await async function(){return(await chrome.storage.local.get(["browserInstanceId"])).browserInstanceId}()}catch(e){console.error(e)}const d=function(){const e=navigator?.userAgent||"unknown_user_agent",t=navigator?.userAgentData?.platform||navigator?.platform||"unknown_platform";let n="unknown_browser",o="unknown_browser_version";const i=navigator?.language||"unknown_browser_language";try{const t=e.match(/chrome|chromium|crios/i),i=e.match(/edg/i)||ya(ha),s=e.match(/firefox|fxios/i),a=e.match(/opr\//i)||ya(va),r=e.match(/safari/i),l=ya(fa);t?(n=ma,i&&(n=ha),a&&(n=va),l&&(n=fa)):i?n=ha:s?n=_a:a?n=va:r&&(n=wa),o=$a(n,e)}catch(e){console.error("Could not get the name of the brower",e)}return{userAgent:e,platform:t,browser:n,browserVersion:o,browserLang:i}}(),u=await async function(){let e=[];try{e=await async function(){try{const e=await async function(e,t){cr||await new Promise(((e,t)=>{let n=indexedDB.open(dr,1);n.onerror=function(){t("Error creating database.")},n.onsuccess=function(t){cr=t.target.result,e()},n.onupgradeneeded=function(t){cr=t.target.result,cr.objectStoreNames.contains(ur)||cr.createObjectStore(ur,{keyPath:"id"}),e()}}));return new Promise(((n,o)=>{let i=cr.transaction(t,"readonly").objectStore(t).get(e);i.onerror=function(e){o(e)},i.onsuccess=function(){i.result?n(i.result):n(null)}}))}("dlexperiments",ur);return e&&e.meta&&e.data?e.data:[]}catch(e){return[]}}()}catch(e){}if(!e||0===e.length)return[];return e.map((e=>({id:e.id,variant:e.variant,breakout:e.breakout})))}(),g={eventId:void 0,extensionVersion:"1.12.2",sessionId:n,sessionType:l,installationId:t,browserInstanceId:a,originStore:Ja(chrome.runtime.id),userInfos:{userType:r,translatorServiceType:o,apiServiceType:i,docTranslatorServiceType:s},userAgent:d.userAgent,platform:d.platform,browser:d.browser,browserVersion:d.browserVersion,browserLang:d.browserLang,clientExperiments:u},p=e?e(g):g;return fetch("https://s.deepl.com/chrome/statistics",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)}).then((e=>{e.ok||console.log(`DAP ${p.eventId} request failed: ${e}`)}))}async function lr(){if(!await async function(){const e=await chrome.storage.local.get(["isLoggedIn"]);return!(!e||!e.isLoggedIn)}())return;const e=await async function(){const e=await chrome.storage.local.get(["accountId","a_t","i_t"]);if(e&&e.accountId)return e.accountId;if(e&&e.a_t){const t=ar(e.a_t),n=ar(e.i_t);return t.sub||n.sub}}();return rr((t=>({...t,eventId:60067,accountData:{accountUuid:e}})))}let cr;const dr="dlBrowserExtension",ur="dlCache";async function gr(e){if(e.includes("session")){const e=await chrome.storage.sync.get(["session"]);e&&!e.session&&await async function(){const e=crypto.randomUUID();await chrome.storage.sync.set({session:{id:e,timestamp:Date.now()}});try{await lr()}catch(e){console.error(e)}}()}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}function pr(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:s,right:a,bottom:r,height:l,width:c}=n,d={x:s-o.left,y:r-o.top,selectedTop:i,selectedBottom:r,selectedRight:o.width-a,selectedLeft:s+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}function mr(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes))if(t.getBoundingClientRect||(t=n),n.getBoundingClientRect&&(n.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=n),n.hasChildNodes())){const e=mr(n);if(e&&e.getBoundingClientRect){const o=n.getBoundingClientRect(),i=e.getBoundingClientRect();o.right<i.right&&(t=e)}}return t}const hr=e=>{const t=[],n=[];return vr({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function fr(e){for(var t=0;t<e.childNodes.length;++t){const n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName){if("block"==window.getComputedStyle(n).display)return!0;if(fr(n))return!0}}return!1}const _r=({strings:e,domElements:t})=>{for(const n in t)t[n].innerHTML=e[n]},vr=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(function(e){if(wr(e)||$r(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!wr(t)&&(!br(t)||$r(t)||"inline"!=window.getComputedStyle(t).display||fr(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return wr(t)}return!0}(n))e.push(n),t.push(n.innerHTML);else for(const o of n.childNodes)vr({domElements:e,strings:t,element:o})};const wr=e=>"#text"==e.nodeName||"#comment"==e.nodeName,br=e=>Fe.includes(e.nodeName.toLowerCase()),$r=e=>qe.includes(e.nodeName.toLowerCase());function yr(e){for(var t=[];null!=e.parentNode;){for(var n=0,o=0,i=0;i<e.parentNode.childNodes.length;i++){var s=e.parentNode.childNodes[i];s.nodeName===e.nodeName&&(s===e&&(o=n),n++)}e.hasAttribute("id")&&""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):n>1?t.unshift(e.nodeName.toLowerCase()+":nth-child("+(o+1)+")"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t.slice(1)}const Cr={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};const xr=()=>{const e="https://docs.google.com";return window.location.href.substr(0,e.length)===e},Tr=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},Lr=()=>{const{iFrame:e,editable:t}=Tr();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},Sr=()=>{const{iFrame:e,editable:t}=Tr();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":t.innerHTML,text:o?"":t.innerText}},kr=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:a,height:r,width:l}=t;return{x:i-n.left,y:a-n.top,selectedTop:o,selectedBottom:a,selectedRight:n.width-s,selectedLeft:i+window.scrollX,selectedWidth:l,height:r}},Er=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=120,i=40,s=t.getBoundingClientRect();let a=!1;const r={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);r.left=t.left,r.top=n?n+20:0,r.top+o/2<s.top+10&&(r.top=s.top+10),r.top-o/2>s.bottom&&(a=!0)}catch(e){if(n){const e=n.getBoundingClientRect();r.left=e.right-i/2,r.top=s.top+30}}return r.left+i/2>s.right&&(a=!0),{shouldBeOutOfViewport:a,newPosition:r}},Mr=()=>!!document.querySelector("#docs-toolbar-wrapper"),Ir=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let s="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),s+=`<${n}>`}})),s+=t}const a=[],r=s.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=Dr(e);return a.push(i),{isTranslatable:t,index:a.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:a,entities:i,contentReference:r,originalObject:n,originalText:o.dsl_spacers}},Dr=e=>{const{leadingEntities:t,processedLine:n}=Or(e),{trailingEntities:o,processedLine:i}=Nr(n);return{leading:t,trailing:o,processedLine:i}},Or=e=>{let t="",n="",o="",i=!0;for(const s of e){if(i){const e=o[o.length-1];if("<"===s&&0===o.length){o="<";continue}if(">"===s&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===s&&o.length>0&&"<"===e){o+="a";continue}if(s.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=s;continue}if(Ar(s)&&0===o.length){t+=s;continue}i=!1,o=""}n+=s}return{processedLine:n,leadingEntities:t}},Nr=e=>{let t="",n="",o="",i=!0;for(const s of e.split("").reverse()){if(i){if(">"===s&&0===o.length){o=">";continue}if("<"===s&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===s&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(s.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=s+o;continue}if(Ar(s)&&0===o.length){t=s+t;continue}i=!1,o=""}n=s+n}return{processedLine:n,trailingEntities:t}},Ar=e=>[16,17,18,28].includes(e.charCodeAt(0)),Rr=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${e[t.index].join("")}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let i="",s=[],a=0,r=0;for(;a+r<o.length;){const e=a+r;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){r+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));s.push({...e,new_position:a});continue}}i+=o[e],a++}return{processedText:i,processedEntities:s}},Pr=e=>e.replace(/<(\/)?a(\d+)>/g,""),zr=e=>{const{characterMappings:t,cleanSentence:n}=Br(e),o=/[^\s.,:;!?"()*ï½ï½ ï½¡ï½¢ï½£ï½¤ï½¥ããããããããããããããããããããããã ãª ã« ã¬ ã­]/,i=[];let s="",a=0,r=!1;for(let e=0;e<n.length;e++){const l=n[e],c=o.test(l);c!==r&&s.length>0&&(i.push({text:s,isWord:r,offsetStart:a,offsetLength:s.length,offsetStartRaw:t[a],offsetLengthRaw:t[a+s.length]}),s=""),r=c,s+=l,1===s.length&&(a=e)}return s&&i.push({text:s,isWord:r,offsetStart:a,offsetLength:s.length,offsetStartRaw:t[a],offsetLengthRaw:t[a+s.length]}),i},Hr=({entities:e,text:t,originalObject:n})=>{const o=Ur({entities:e,text:t,originalObject:n});qr(o)},Br=e=>{const t=[];let n="";const o=e.split(/(<a\d+>)/g);let i=0;for(let e=0;e<o.length;e++){const s=o[e];if(!/^<a\d+>$/.test(s)){n+=s;for(let e=0;e<s.length;e++)t.push(i+e)}i+=s.length}return{characterMappings:t,cleanSentence:n}},Ur=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const s=[];for(let e=0;e<=i;e++)s.push(o[`${e}`]||null);return{...t,stsl_styles:s}})),s={...o.resolved,dsl_spacers:t,dsl_styleslices:i},a={...n,data:JSON.stringify({...o,resolved:s})};return JSON.stringify(a)},qr=e=>{const{editable:t}=Tr(),n=new DataTransfer;n.setData("application/x-vnd.google-docs-document-slice-clip+wrapped",e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});t.dispatchEvent(o)},Fr=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},jr=()=>document.querySelector("deepl-zendesk-controller"),Wr=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},Gr=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},Vr=e=>e.querySelector("deepl-zendesk-ticket-controller"),Zr=(e,t)=>{const n=document.createElement("deepl-zendesk-ticket-controller");return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},Kr=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||Jr(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||el(n,e),n.querySelector("deepl-zendesk-input-icon")||tl(n,e)):n.querySelector("deepl-zendesk-toolbar")||el(n,e)}catch(e){jt()&&console.error(e),Wt(e.message)}},Xr=()=>{Qr(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},Yr=()=>{Qr(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},Qr=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){jt()&&console.error(e),Wt(e.message)}},Jr=(e,t)=>{const n=document.createElement("deepl-zendesk-top-icon"),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},el=(e,t)=>{const n=document.createElement("deepl-zendesk-toolbar"),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},tl=(e,t)=>{const n=document.createElement("deepl-zendesk-input-icon"),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul'),i=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(i&&o&&o)return o.append(n),n.createDOM({controller:t,editable:i}),n},nl=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');return t?Qe:n?Je:void 0},ol=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),il=e=>{const t=ol(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},sl=(e,t)=>{const n=ol(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},al=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),rl=async e=>{const t=il(e);if(t){const e=t?al(t).innerText:"";return await Pt(e)}},ll=async e=>{const t=sl(e,12),n=[];for(const e in t){const o=t[e],i=o?al(o).innerText:"",s=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),a=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let r=n.find((e=>e.id===s));const l=i.includes(`: ${a}`)&&i.indexOf(`: ${a}`)+`: ${a}`.length===i.length,c=0===Number(e);r||(r={id:s,name:a,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(r)),l&&(r.isLikelyCustomer=!0),c&&(r.isFirstMessage=!0),r.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await Pt(i)},cl=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},dl=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},ul=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},gl=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},pl=e=>{try{const t=e.getPane(),n=ol(t);for(const t of n)ml(t)||hl(t,e)}catch(e){jt()&&console.error(e),Wt(e.message)}},ml=e=>e.querySelector("deepl-zendesk-message-controller"),hl=(e,t)=>{const n=document.createElement("deepl-zendesk-message-controller");return al(e).parentNode.after(n),n.createDOM({controller:t,message:e}),n},fl=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},_l=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},vl=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},wl=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=document.createElement("deepl-zendesk-submit-button-tooltip");return s.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(s),s},bl=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},$l="deepl-gmail-translate-email-toolbar",yl="deepl-gmail-header-toolbar",Cl="deepl-gmail-controller",xl="deepl-gmail-message-write-ui",Tl="deepl-gmail-character-limit-popup",Ll="deepl-writing-ui-added",Sl=5e3,kl=()=>document.querySelector(Cl),El=()=>document.createElement(Cl),Ml=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM&&t.cleanupDOM(),t.remove()}}catch(e){jt()&&console.error(e),Wt(e.message)}},Il=()=>document.querySelectorAll("[data-message-id]").length>0,Dl=()=>document.querySelectorAll("[data-message-id]"),Ol=e=>!!e&&!!e.querySelector($l),Nl=e=>{const{bottom:t,right:n}=e.getBoundingClientRect(),o=t-30,i=n-30;let s=!1;return document.querySelectorAll('[role="dialog"]').forEach((t=>{const n=(a=i,r=o,l=t.getBoundingClientRect(),a>=l.left&&a<=l.right&&r>=l.top&&r<=l.bottom);var a,r,l;const c=t.contains(e);n&&!c&&(s=!0)})),s},Al=e=>{if(e)return e.querySelector("table")},Rl=e=>{const t=zt(),n=t.filter((e=>void 0===e.regionalVariant)).map((e=>({value:e.value,label:`<strong>${e.value}</strong> - ${e.label}`,selectedOptionLabel:e.value}))),o=t.find((e=>"EN-GB"===e.value)),i=t.find((e=>"PT-PT"===e.value));return[...[...n,...[{...o,value:"EN",selectedOptionLabel:"EN",label:`<strong>EN</strong> - ${chrome.i18n.getMessage("supported_languages_EN")}`},{...i,value:"PT",selectedOptionLabel:"PT",label:`<strong>PT</strong> - ${chrome.i18n.getMessage("supported_languages_PT")}`}]].map((t=>e&&t.value===e.value?{...t,label:`${t.label} ${chrome.i18n.getMessage("gmail_language_detected")}`}:t))].sort(((e,t)=>e.value.localeCompare(t.value)))},Pl=e=>{const t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2}},zl=(e,t)=>{const n=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0,clientX:e,clientY:t});document.elementFromPoint(e,t)?.dispatchEvent(n)},Hl=e=>{const{x:t,y:n}=Pl(e);zl(t,n)},Bl=(e,t)=>{const n=document.body;new MutationObserver(((o,i)=>{for(const s of o)if("childList"===s.type&&n.querySelector(e)){i.disconnect(),t(n.querySelector(e));break}})).observe(n,{childList:!0,subtree:!0})},Ul=()=>{const e=document.querySelectorAll("[data-message-id]");for(const t of e){const e=t.nextElementSibling;if(e&&"DIV"===e.tagName)return e}return null},ql=()=>{const e=document.querySelectorAll('span[role="link"]');let t;for(let n=0;n<e.length;n++){const o=e[n],i=o.previousElementSibling;if(i&&"SPAN"===i.tagName&&"link"===i.getAttribute("role")){const e=o.parentElement,n=e.querySelectorAll('span[role="link"]'),i=e.querySelectorAll("span");2!==(2===n.length&&i.length)&&3!==(3===n.length&&i.length)||(t=o)}}return t};let Fl,jl,Wl,Gl,Vl,Zl,Kl,Xl,Yl,Ql;const{deepl_inline_ui:Jl}=D;function ec({websiteData:e,platformBehaviour:t=Be.default,textProcessingMode:n=Ue.translate}){try{let o;switch(tc(),jl=document.createElement("deepl-inline-translate-tooltip"),jl.platformBehaviour=t,jl.textProcessingMode=n,jl.style.zIndex=Jl.z_index,document.documentElement.appendChild(jl),t){case Be.gdocs:o=kr;break;case Be.default:default:o=pr}jl.createDOM(o,tc,e),xa.update({isTranslationTooltipInjected:!0})}catch(e){jt()&&console.error(e),Wt(e.message)}}function tc(){try{jl&&(jl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-tooltip"),(e=>e.remove())),xa.update({isTranslationTooltipInjected:!1}),jl=void 0)}catch(e){jt()&&console.error(e),Wt(e.message)}}function nc(e=Be.default){try{if(Wl)return;let t;switch(Wl=document.createElement("deepl-inline-translate-settings-tooltip"),Wl.style.zIndex=Jl.z_index,document.documentElement.appendChild(Wl),e){case Be.gdocs:t="deepl-gdocs-icon";break;case Be.default:default:t="deepl-inline-trigger"}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:a,height:r,width:l}=t;return{x:i-n.left,y:a-n.top,top:o,bottom:a,right:n.width-s,left:i+window.pageXOffset,width:l,height:r}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));Wl.createDOM(n,oc),xa.update({isInlineTranslateSettingsTooltipInjected:!0}),dn((()=>{oc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function oc(){try{if(!Wl)return;Wl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),xa.update({isInlineTranslateSettingsTooltipInjected:!1}),Wl=void 0}catch(e){jt()&&console.error(e),Wt(e.message)}}function ic(){try{if(document.querySelector("deepl-page-load-popup"))return;Fl=document.createElement("deepl-page-load-popup"),document.documentElement.appendChild(Fl),Fl.createDOM(),document.addEventListener("click",sc),dn((()=>{sc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function sc(){try{Fl&&(Fl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-page-load-popup"),(e=>e.remove())),Fl=void 0,document.removeEventListener("click",sc))}catch(e){jt()&&console.error(e),Wt(e.message)}}function ac(){try{if(document.querySelector("deepl-gdocs-icon"))return;Kl=document.createElement("deepl-gdocs-icon"),document.documentElement.appendChild(Kl),Kl.createDOM(),dn((()=>{rc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function rc(){try{Kl&&(Kl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-gdocs-icon"),(e=>e.remove())),Kl=void 0,document.removeEventListener("click",rc))}catch(e){jt()&&console.error(e),Wt(e.message)}}function lc(){try{Xl&&(Xl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-gslides-controller"),(e=>e.remove())),Xl=void 0,document.removeEventListener("click",lc))}catch(e){jt()&&console.error(e),Wt(e.message)}}function cc(){try{if(jr())return;Yl=document.createElement("deepl-zendesk-controller"),document.documentElement.appendChild(Yl),Yl.createDOM(),dn((()=>{dc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function dc(){try{Yl&&(Yl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),Yl=void 0,document.removeEventListener("click",dc))}catch(e){jt()&&console.error(e),Wt(e.message)}}function uc(){try{if(document.querySelector("deepl-input-controller"))return;Vl=document.createElement("deepl-input-controller"),document.body.appendChild(Vl),Vl.createDOM(),dn((()=>{mc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function gc(){try{if(kl())return;Ql=El(),document.documentElement.appendChild(Ql),Ql.createDOM(),dn((()=>{pc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function pc(){try{Ql&&(Ql.cleanupDOM(),Array.from(document.getElementsByTagName(Cl),(e=>e.remove())),Ql=void 0,document.removeEventListener("click",pc))}catch(e){jt()&&console.error(e),Wt(e.message)}}function mc(){try{if(Vl){Vl.cleanupDOM();const e=Array.from(document.querySelectorAll("deepl-input-controller"));for(const t of e)t.remove();Vl=void 0,document.removeEventListener("click",mc)}}catch(e){jt()&&console.error(e),Wt(e.message)}}async function hc(e){try{if(!Gl)return;Gl.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),Gl=void 0;if(!(await gr(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(Gl)){try{mi({action:"dltrackCloseInlineHighlighter",payload:{trigger:He}})}catch(e){console.error(e)}ga.set({isInlineHighlighterShown:!0})}}catch(e){jt()&&console.error(e),Wt(e.message)}}function fc(e,t){hc();try{Gl=document.createElement("deepl-inline-trigger"),Gl.style.zIndex=Jl.z_index,document.documentElement.appendChild(Gl),Gl.createDOM(e,t),dn((()=>{hc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}function _c(e){const t=t=>{requestAnimationFrame((()=>{const n=window.getSelection();if(!n.toString().trim())return;if(2===t?.button)return;const o=n.getRangeAt(0)?.commonAncestorContainer;if((o.contains(t.target)||t.target.contains(o))&&!n.isCollapsed&&!n.anchorNode?.parentNode?.isContentEditable){let n={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:bc(t)};fc(e,n)}}))};document.addEventListener("mouseup",t),document.addEventListener("mousedown",hc),dn((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",hc)}))}function vc(e,t){try{Zl=document.createElement("deepl-notification"),Zl.style.zIndex=Jl.z_index,document.documentElement.appendChild(Zl),Zl.createDOM(e,t),dn((()=>{Zl.cleanupDOM()}))}catch(e){jt()&&console.error(e),Wt(e.message)}}const wc=(e=Re.initial)=>{const t=document.createElement("deepl-ask-for-review-popup");document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),dn((()=>{t.cleanupDOM()}))};function bc({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function $c(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function yc(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Cc(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y,C,x,T,L,S,k,E,M,I,D;return S=new sr({props:{className:"button-link",paddingX:"none",$$slots:{default:[$c]},$$scope:{ctx:e}}}),S.$on("click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),E=new sr({props:{className:"button-primary",$$slots:{default:[yc]},$$scope:{ctx:e}}}),E.$on("click",e[4]),{c(){t=Bn("div"),n=Bn("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=Fn(),i=Bn("div"),s=Bn("div"),a=Bn("label"),r=Bn("span"),l=Bn("input"),c=Fn(),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=Fn(),g=Bn("div"),p=Bn("label"),m=Bn("span"),h=Bn("input"),f=Fn(),_=Bn("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,v=Fn(),w=Bn("div"),b=Bn("label"),$=Bn("span"),y=Bn("input"),C=Fn(),x=Bn("span"),x.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,T=Fn(),L=Bn("div"),Vo(S.$$.fragment),k=Fn(),Vo(E.$$.fragment),Zn(n,"class","font-bold svelte-8fn8ut"),Zn(l,"id","option-website"),Zn(l,"name","option"),Zn(l,"type","radio"),l.__value="website",l.value=l.__value,Zn(l,"class","svelte-8fn8ut"),e[7][0].push(l),Zn(d,"class","label svelte-8fn8ut"),Zn(a,"for","option-website"),Zn(a,"class","svelte-8fn8ut"),Zn(s,"class","option svelte-8fn8ut"),Zn(h,"id","option-lang"),Zn(h,"type","radio"),Zn(h,"name","option"),h.__value="lang",h.value=h.__value,Zn(h,"class","svelte-8fn8ut"),e[7][0].push(h),Zn(_,"class","label svelte-8fn8ut"),Zn(p,"for","option-lang"),Zn(p,"class","svelte-8fn8ut"),Zn(g,"class","option svelte-8fn8ut"),Zn(y,"id","option-fpt"),Zn(y,"type","radio"),Zn(y,"name","option"),y.__value="fpt",y.value=y.__value,Zn(y,"class","svelte-8fn8ut"),e[7][0].push(y),Zn(x,"class","label svelte-8fn8ut"),Zn(b,"for","option-fpt"),Zn(b,"class","svelte-8fn8ut"),Zn(w,"class","option svelte-8fn8ut"),Zn(i,"class","cancel-container svelte-8fn8ut"),Zn(t,"class","cancel-translation-body svelte-8fn8ut"),Zn(L,"class","cancel-translation-footer svelte-8fn8ut")},m(O,N){Pn(O,t,N),Nn(t,n),Nn(t,o),Nn(t,i),Nn(i,s),Nn(s,a),Nn(a,r),Nn(r,l),l.checked=l.__value===e[1],Nn(a,c),Nn(a,d),Nn(i,u),Nn(i,g),Nn(g,p),Nn(p,m),Nn(m,h),h.checked=h.__value===e[1],Nn(p,f),Nn(p,_),Nn(i,v),Nn(i,w),Nn(w,b),Nn(b,$),Nn($,y),y.checked=y.__value===e[1],Nn(b,C),Nn(b,x),Pn(O,T,N),Pn(O,L,N),Zo(S,L,null),Nn(L,k),Zo(E,L,null),M=!0,I||(D=[Wn(l,"change",e[6]),Wn(h,"change",e[8]),Wn(y,"change",e[9])],I=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(y.checked=y.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),S.$set(o);const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),E.$set(i)},i(e){M||(Bo(S.$$.fragment,e),Bo(E.$$.fragment,e),M=!0)},o(e){Uo(S.$$.fragment,e),Uo(E.$$.fragment,e),M=!1},d(n){n&&zn(t),e[7][0].splice(e[7][0].indexOf(l),1),e[7][0].splice(e[7][0].indexOf(h),1),e[7][0].splice(e[7][0].indexOf(y),1),n&&zn(T),n&&zn(L),Ko(S),Ko(E),I=!1,hn(D)}}}function xc(e,t,n){let i,s;const a=vo("deepl_settings");wn(e,a,(e=>n(11,s=e)));const r=vo("deepl_website_settings");wn(e,r,(e=>n(10,i=e)));let{onClose:l}=t,{onCancel:c}=t,d="fpt";return e.$$set=e=>{"onClose"in e&&n(5,l=e.onClose),"onCancel"in e&&n(0,c=e.onCancel)},[c,d,a,r,()=>{const e={hideOption:void 0,sourceLang:i.websiteLanguage,domainName:i.hostname,uiLocation:Qa(V)};switch(d){case"website":Ln(a,s.blacklistDomains=[...s.blacklistDomains,i.hostname],s),e.hideOption=y;break;case"lang":t=i.websiteLanguage,n=o,"EN"===t?(Ln(a,s.languagesForTranslation={...s.languagesForTranslation,"EN-GB":n},s),Ln(a,s.languagesForTranslation={...s.languagesForTranslation,"EN-US":n},s)):"PT"===t?(Ln(a,s.languagesForTranslation={...s.languagesForTranslation,"PT-PT":n},s),Ln(a,s.languagesForTranslation={...s.languagesForTranslation,"PT-BR":n},s)):Ln(a,s.languagesForTranslation={...s.languagesForTranslation,[t]:n},s),e.hideOption=C;break;default:e.hideOption=x,a.set({enableFullPageTranslation:!1})}var t,n;(()=>{const e=s.notificationsViewed;e&&e.fullPageTranslation||(vc(R),a.set({notificationsViewed:{...e,fullPageTranslation:!0}}))})(),mi({action:"dlTrackFptHide",payload:e}),l()},l,function(){d=this.__value,n(1,d)},[[]],function(){d=this.__value,n(1,d)},function(){d=this.__value,n(1,d)}]}class Tc extends Yo{constructor(e){super(),Xo(this,e,xc,Cc,_n,{onClose:5,onCancel:0})}}const Lc=async()=>{const e=[],t=n=>{const o=[],i=[];for(let e=0;e<n.children.length;e++){const t=n.children[e];"text"===t.tagName.toLowerCase()?o.push(t):"g"===t.tagName.toLowerCase()&&i.push(t)}o.length>0&&e.push(o.map((e=>e.textContent)).join(" "));for(const e of i)t(e)},n=Mc();if(n){t(n);const o=e.join("\n");return await Pt(o)}},Sc=async()=>{const e=Mc(),t=document.querySelector("#canvas-container").getBoundingClientRect();if(e){const n=t.left-2,o=t.top-2,i=t.right+2,s=t.bottom+2,a=new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window,clientX:n,clientY:o});e.dispatchEvent(a);for(let t=1;t<=10;t++){const a=new MouseEvent("mousemove",{bubbles:!0,cancelable:!0,view:window,clientX:n+t/10*(i-n),clientY:o+t/10*(s-o)});e.dispatchEvent(a),await new Promise((e=>setTimeout(e,25)))}const r=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window,clientX:i,clientY:s});e.dispatchEvent(r)}},kc=e=>{const t=[],n=[];for(const n of e){const e=n[0],o=n[1];if(15===e){const e=n[4];if(""===e.trim())continue;if(t.find((e=>e.id===o)))continue;const i={id:o,originalContent:e,translatedContent:"",sentencesIndexes:[],originalSentences:[],translatedSentences:[],modifiers:[],secondaryModifiers:[],entity:n,orphanModifiers:[],orphanModifiersIntegrityCheck:[]};t.push(i)}else if(17===e){const e=t.find((e=>e.id===o));if(!e)continue;e.modifiers.push(n)}else if(41===e){const e=t.find((e=>e.id===o));if(!e)continue;e.secondaryModifiers.push(n)}}for(let e=0;e<t.length;e++){const o=t[e];o.orphanModifiers=Ic(o);const{originalSentences:i,orphanModifiersIntegrityCheck:s}=Nc(o);o.originalSentences=i,o.orphanModifiersIntegrityCheck=s;for(const e of o.originalSentences)o.sentencesIndexes.push(n.length),n.push(e)}return{entities:t,sentencesToTranslate:n}},Ec=({entity:e,translatedSentences:t,modifiersToDelete:n})=>{e.translatedSentences=e.sentencesIndexes.map((e=>t[e]));const{translatedContent:o,orphanModifiersMappingEquivalences:i}=Ac(e);if(e.translatedContent=o,!e.translatedContent||e.translatedContent===e.originalContent)return;e.entity[4]=e.translatedContent;const s=Rc(i,e);for(let t=0;t<e.modifiers.length;t++){const o=e.modifiers[t];let i=!1;if(Pc(o,s)){const{start:e,end:t}=zc(o,s);t<=e?i=!0:(o[3]=e,o[4]=t)}else i=!0;i&&n.push(o)}},Mc=()=>Array.from(document.querySelectorAll("#pages svg")).find((e=>"none"!==getComputedStyle(e).display)),Ic=({originalContent:e,modifiers:t})=>{const n=Oc(e);return Dc(t).filter((e=>!n.includes(e)))},Dc=e=>{const t=[];for(const n of e)t.includes(n[3])||t.push(n[3]),t.includes(n[4])||t.push(n[4]);return t},Oc=e=>{const t=e.split("\n"),n=[0];let o=0;for(const e of t){const t=o+e.length;n.includes(t)||n.push(t),n.includes(t+1)||n.push(t+1),o=t+1}return n},Nc=({originalContent:e,orphanModifiers:t})=>{let n=0;const o={},i=e.split("\n").map((e=>{let i="";for(let s=0;s<e.length;s++){const a=n+s;if(t.includes(a)){const n=t.indexOf(a);/\s/.test(e[s])&&(o[`${n}`]=e[s]),i+=`<a${n}>`}i+=e[s]}return n+=e.length+1,i}));return{orphanModifiersIntegrityCheck:o,originalSentences:i}},Ac=e=>{let t={},n=0;return{translatedContent:e.translatedSentences.map((o=>{const i={};let s=0;const a=o.replace(/<a\d+>/g,((t,a)=>{const r=t.match(/<a(\d+)>/);if(r){const l=r[1],c=t.length,d=e.orphanModifiers[Number(l)];void 0!==d&&(i[`${d}`]=s+n+a-c*Object.keys(i).length);const u=o.charAt(a+c);if(u&&void 0!==e.orphanModifiersIntegrityCheck[`${l}`]&&e.orphanModifiersIntegrityCheck[`${l}`]!==u)return s++,e.orphanModifiersIntegrityCheck[`${l}`]}return""}));return t={...t,...i},n+=a.length+1,a})).join("\n"),orphanModifiersMappingEquivalences:t}},Rc=(e={},{originalContent:t,translatedContent:n})=>{const o=Oc(t),i=Oc(n),s={};for(let e=0;e<o.length;e++)s[`${o[e]}`]=i[e];return{...e,...s}},Pc=(e,t)=>{const n=e[3],o=e[4];return void 0!==t[`${n}`]&&void 0!==t[`${o}`]},zc=(e,t)=>{const n=e[3],o=e[4];return{start:t[`${n}`],end:t[`${o}`]}},Hc=()=>{const e="https://mail.google.com";return window.location.href.substr(0,e.length)===e};function Bc(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function Uc(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function qc(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function Fc(e){try{return new URL(e),!0}catch(e){return!1}}function jc(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function Wc(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!Fc(e.innerText)){const n=document.createElement("deepl-whatsapp-message-in-translator");n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",jc),dn((()=>{window.removeEventListener("resize",jc),e.disconnect()}))}function Gc(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=document.createElement("deepl-twitter-tweet-link");return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),dn((()=>e.disconnect()))}function Vc(e){switch(e){case"web.whatsapp.com":Wc();break;case"twitter.com":case"tweetdeck.twitter.com":Gc()}}async function Zc(e){const t=e.split(".");"deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")&&(document.body.dataset.dlBrowserExtensionPresent="true")}async function Kc(e){const t=await gr(["shouldDisplayFeedbackPopup"]);if("https://deepl.typeform.com/to/MkMfP2Y6"===e)t.shouldDisplayFeedbackPopup&&(ga.set({shouldDisplayFeedbackPopup:!1}),wc(Re.feedback))}function Xc(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function Yc(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}let Qc,Jc,ed,td,nd,od,id,sd=0,ad=[];const rd=xa.subscribe((e=>{Qc=e.translationState,e.translatedDOM&&(ad=e.translatedDOM.map((e=>e))),e.translationState!==nd&&(nd=e.translationState,Qc===r&&cd())})),ld=ga.subscribe((e=>{if(0!==Object.keys(e).length){if(od=e.isProUser,id=e.isLoggedIn,td&&td!==e.selectedTargetLanguage){const e=Qc!==i;e&&cd(),xa.update({translatedDOM:[]}),ad=[],e&&xa.update({translationState:i})}td=e.selectedTargetLanguage}}));function cd(){ad.forEach((e=>{_d(e.original,e.clone),hd(e.original,e.clone),dd(e.original,!1)})),ed&&(ed.disconnect(),ed=void 0),Jc&&(document.removeEventListener("scroll",Jc),Jc=void 0),Qc=i}function dd(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(var n=0;n<e.childNodes.length;++n)dd(e.childNodes[n],t)}}function ud(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=sd++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(var t=0;t<e.childNodes.length;++t)ud(e.childNodes[t])}}function gd(e){if(void 0!==e.attributes){var t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(var n=0;n<e.childNodes.length;++n)gd(e.childNodes[n])}function pd(e,t){ud(t);var n=t.cloneNode(!0);gd(n),e.push({original:t,clone:n}),dd(t,!0)}function md(e,t){if(void 0===t.dataset)return null;if(e.dataset&&e.dataset.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(var n=0;n<e.childNodes.length;++n){var o=md(e.childNodes[n],t);if(null!==o)return o}return null}function hd(e,t){for(var n=[];e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(var o=0;o<n.length;++o)t.appendChild(n[o])}function fd(e,t){if(null!==e.parentNode&&null!==t.parentNode){var n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),hd(e,t)}}function _d(e,t){for(var n=0;n<t.childNodes.length;++n){var o,i=t.childNodes[n],s=md(e,i);if(s)fd(o=s.dataset&&"true"===s.dataset.dlOriginal?s:s.cloneNode(!1),i),_d(e,o);else _d(e,i)}}function vd(t,n=!0){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(!Yc(t,e.websiteData.hostname))return!1;if(t.isContentEditable&&n)return!1;if(function(e){switch(e.tagName.toLowerCase()){case"input":return"submit"!==e.getAttribute("type");case"textarea":return!0;default:return!1}}(t))return!1;if($r(t))return!1;for(var o=0;o<t.childNodes.length;++o){if("#text"==(i=t.childNodes[o]).nodeName&&""!=i.wholeText.trim()||"font"==i.nodeName)return!0}for(o=0;o<t.childNodes.length;++o){var i;if("#text"!=(i=t.childNodes[o]).nodeName&&"#comment"!=i.nodeName&&(!br(i)||$r(i)||"inline"!=window.getComputedStyle(i).display||fr(t)))return!1}return void 0!==t.innerText&&""!=t.innerText.trim()}function wd(e){if(void 0!==e.dataset&&(void 0===e.dataset.dlTranslated||"false"===e.dataset.dlTranslated))return!1;for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&!wd(n))return!1}return!0}function bd(e,t){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!function(e){if("no"==e.getAttribute("translate"))return!0;var t=e.className;return!(null==t||null==t.split||!t.split(" ").includes("notranslate"))}(t))if(vd(t))(function(e,t){var n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*t||n.right<0-o*t)return!1;if(n.top>i*(1+t))return!1;if(n.left>o*(1+t))return!1;var s=window.getComputedStyle(e).position;return"absolute"===s||"fixed"===s||null!==e.offsetParent})(t,.3)&&!wd(t)&&pd(e,t);else for(var n=0;n<t.childNodes.length;++n)bd(e,t.childNodes[n])}async function $d(e,t){if(!od||!id)return;const n=[];try{if(bd(n,document.documentElement),0===n.length)return;xa.update({translationState:s}),await async function(e,t,n,o,i,s){if(e.length>0)return mi({action:"dlRequestHtmlTranslation",payload:{sourceLang:t,trigger:o,texts:e.map((e=>e.clone.innerHTML.replace(/<!--(.|\s)*?-->/g,""))),isFirstTime:i,domainName:s}}).then((t=>{for(var n=0;n<e.length;++n)e[n].clone.innerHTML=t[n],_d(e[n].original,e[n].clone),hd(e[n].original,e[n].clone),dd(e[n].original,!0)}))}(n,e.sourceLang,e.noTranslationLanguages,e.trigger,t,window.location.hostname)}catch(e){console.error("error",e);for(var o=0;o<n.length;++o)dd(n[o].original,!1);return xa.update({translationState:i,error:e.name?e.name:e}),ed&&ed.disconnect,void(Jc&&document.removeEventListener("scroll",Jc))}xa.update({translationState:a}),n.length>0&&xa.update({translatedDOM:[...ad,...n]})}async function yd(e){ed&&(ed.disconnect(),ed=void 0),Jc&&(document.removeEventListener("scroll",Jc),Jc=void 0);let t,n,o=!1;ad.length>0?(xa.update({translationState:s}),cd(),ad.forEach((e=>{hd(e.original,e.clone),hd(e.original,e.clone),dd(e.original,!0)})),xa.update({translationState:a})):o=!0,await $d(e,o),Jc=async()=>{n=!0,window.clearTimeout(t),t=setTimeout((function(){Qc===a&&window.requestAnimationFrame((async()=>{await $d(e,!1),n=!1}))}),100)},document.addEventListener("scroll",Jc),ed=new MutationObserver((t=>{if(n)return;if(Qc!==a)return;t.filter((e=>e.addedNodes&&e.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await $d(e,!1)}))})),ed.observe(document.body,{childList:!0,subtree:!0}),dn((()=>{rd(),ld(),ed&&ed.disconnect(),Jc&&document.removeEventListener("scroll",Jc)}))}const Cd="translate",xd="write",Td=t=>{if(t.targetLang&&window.getSelection()&&window.getSelection().toString()){var n=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||ec({websiteData:xa}),xa.update({translationState:s,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),mi({action:"dlRequestInlineTranslation",payload:{requests:[{text:n}],domainName:window.location.hostname,trigger:g,sourceLang:"auto",websiteLanguage:e.websiteData.websiteLanguage}}).then((e=>{xa.update({translationState:i,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:n,websiteLanguage:e[0].detected_source_language})})).catch((e=>{xa.update({translationState:i,originalSnippet:n,error:e.message?e.message:e})}))}},Ld=async e=>{const t=await mi({action:"dlGetAppSettings"});let n=window.getSelection().anchorNode;"#text"===n.nodeName.toLowerCase()&&(n=n.parentNode);const o="textarea"===n.nodeName.toLowerCase(),i=n.closest('[contenteditable="true"]'),s=n.closest("textarea"),a=n.querySelector("textarea"),r=a&&a.selectionStart!==a.selectionEnd,l=o&&n||i||s||r&&a;l?((e,t,n)=>{const o=document.querySelector("deepl-input-controller");o&&(t?o.openSettingsFromShortcut():n?o.triggerTranslation():o.openSettingsFromShortcut())})(0,e,t.targetLanguageUserInput):Td({targetLang:t.selectedTargetLanguage}),mi({action:"dlTrackRightClick",payload:{translationType:l?u:d,domainName:window.location.host}})},Sd=async(e,t)=>{tc();const n=await mi({action:"dlGetAppSettings"});var o;yd({sourceLang:e,trigger:t,isFirstTime:!0,noTranslationLanguages:(o=n.languagesForTranslation,Object.keys(o).filter((e=>{o[e]})))}).catch((e=>{xa.update({translationState:i,error:e.message?e.message:e})}))},kd=async e=>{if(e.length<=5e3)return!1;const t=await zd();return!t.isLoggedIn||!t.isProUser},Ed=async e=>{const t=e.length,n=await zd();if(!n.isLoggedIn&&t>v)throw new ln(v,"Limit exceeded (anonymous user). Please upgrade");if(n.isLoggedIn&&!n.isProUser&&t>w)throw new rn(w,"Limit exceeded (free account). Please upgrade")},Md=async e=>{const{event:t,targetLang:n}=e,o=document.querySelector("deepl-gdocs-icon");if(n&&o){const{originalText:e,textLines:a,entities:r,contentReference:l,originalObject:d}=Ir(t);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||ec({websiteData:xa,platformBehaviour:Be.gdocs}),await kd(e))return void xa.update({translationState:c,translatedSnippet:"",originalSnippet:e});xa.update({translationState:s,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const t=await mi({action:"dlRequestGDocsSplitText",payload:{mode:Cd,texts:a}}),s=t.result.lang.detected,c=[],u=[];for(const e of t.result.texts){const t=[];for(const n of e.chunks)for(const e of n.sentences)u.push(e),t.push(u.length-1);c.push(t)}const g=(await mi({action:"dlRequestGDocsProcessContent",payload:{mode:Cd,sentences:u,sourceLang:s,targetLang:n.substring(0,2),domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:u[t].prefix,text:e.beams[0].sentences[0].text})));o.setContentProcessBuildingBlocks({detectedSourceLanguage:s,targetLang:n.substring(0,2),sentences:u,processedSentences:g,textLines:a,textLinesComponents:c,entities:r,contentReference:l,originalObject:d}),xa.update({translationState:i,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:s,originalSnippet:e,websiteLanguage:s})}catch(t){console.error(t),xa.update({translationState:i,originalSnippet:e,error:t.message?t.message:t})}}},Id=async({event:e,lang:t})=>{const{originalText:n,textLines:o,entities:a,contentReference:r,originalObject:l}=Ir(e);document.getElementsByTagName("deepl-inline-translate-tooltip").length||ec({websiteData:xa,platformBehaviour:Be.gdocs,textProcessingMode:Ue.write});const d=document.querySelector("deepl-gdocs-icon"),u={lang:t,sourceLength:n.length,targetLength:0,nicheIntegration:Be.gdocs,error:""};if(await kd(n))return xa.update({translationState:c,translatedSnippet:"",originalSnippet:n}),void(d&&d.setDeeplWriteTrackingData(u));xa.update({translationState:s,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""});try{const e=await mi({action:"dlRequestGDocsSplitText",payload:{mode:xd,texts:o}}),t=e.result.lang.detected,s=[],c=[];for(const t of e.result.texts){const e=[];for(const n of t.chunks)for(const t of n.sentences)c.push(t),e.push(c.length-1);s.push(e)}const g=(await mi({action:"dlRequestGDocsProcessContent",payload:{mode:xd,sentences:c,sourceLang:t,targetLang:t,domain:window.location.host}})).result.translations.map(((e,t)=>({prefix:c[t].prefix,text:e.beams[0].sentences[0].text})));d.setContentProcessBuildingBlocks({detectedSourceLanguage:t,targetLang:t,sentences:c,processedSentences:g,textLines:o,textLinesComponents:s,entities:a,contentReference:r,originalObject:l}),d.setDeeplWriteTrackingData(u),xa.update({translationState:i,translatedSnippet:"GDOCS_CONTENT",snippetDetectedSourceLang:t,originalSnippet:n,websiteLanguage:t}),Gd({eventType:ot,...u})}catch(e){const t=e.message?e.message:e;xa.update({translationState:i,originalSnippet:n,error:t}),Gd({eventType:ct,...u,error:t})}},Dd=async e=>{const{sentences:t,targetLang:n,sourceLang:o,mode:i}=e;if(n){await Ed(t.join(""));try{const e=await mi({action:"dlRequestInputTranslation",payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:n,targetLang:n,sourceLang:o,platformBehavior:Be.gslides,isHtml:!0,isWriteRequest:i===Ue.write}}),s=e[0]?.texts;return s}catch(e){throw console.error(e),Error(e)}}},Od=async({event:e,targetLang:t,sourceLang:n,mode:o})=>{if(t){const{textLines:t,entities:i,contentReference:s,originalObject:a}=Ir(e);await Ed(t.join(""));try{const e=await mi({action:"dlRequestInlineTranslation",payload:{requests:t.map((e=>({text:e}))),domainName:window.location.hostname,trigger:g,sourceLang:n,nicheIntegration:Be.gslides,isWriteRequest:o===Ue.write}}),{processedText:r,processedEntities:l}=Rr({textLines:e.map((e=>e.text)),entities:i,contentReference:s});return Ur({entities:l,text:r,originalObject:a})}catch(e){console.error(e)}}},Nd=async e=>{const{element:t,targetLang:n}=e;let o,i="";if(n){const{domElements:s,strings:a}=hr(t);try{const o=await mi({action:"dlRequestInputTranslation",payload:{requests:a.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:n,targetLang:n,platformBehavior:Be.zendesk,isHtml:!0,...e.formality&&{formality:e.formality}}}),r=o[0]?.texts;r&&r.length>0&&(_r({strings:r,domElements:s}),i=t.innerHTML,t.innerHTML=""),mi({action:"dlOnSuccessfulZendeskTranslation"})}catch(e){console.error(e),o=e.message||e.error||e.name||e}}return[i,o]},Ad=async e=>{const{targetLang:t,sourceLang:n,text:o,trigger:i}=e;let s,a="";if(n&&t)try{const[e,r]=await mi({action:"dlRequestZendeskMessageTranslation",payload:{domainName:window.location.hostname,sourceLang:n,targetLang:t,text:o,trigger:i}});r?s=r:a=e}catch(e){console.error(e),s=e}return[a,s]},Rd=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let t="";const n=await chrome.i18n.detectLanguage(e);n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase());try{mi({action:"dlTrackDetectLanguage",payload:{language:t,domainName:window.location.host}})}catch(e){console.error(e)}return t},Pd=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),Uc(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substr(0,2).toUpperCase();try{xa.update({translationState:l});const e=await Rd();return xa.update({translationState:i}),e}catch(e){xa.update({translationState:i,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=Uc(window.location.href),s=await t();xa.update({websiteLanguage:s,hostname:window.location.hostname,isSupportedLanguage:At(s),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const a=new MutationObserver((async()=>{const e=await t();xa.update({websiteLanguage:e,isSupportedLanguage:At(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));a.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),dn((()=>{a.disconnect()}))}},zd=async()=>await mi({action:"dlGetUserState"}),Hd=async t=>{if(!t.isTrusted)return;const i=await mi({action:"dlGetAppSettings"});qd(),await Pd();const s=await zd();s.isLoggedIn&&s.isProUser&&(At(e.websiteData.websiteLanguage)&&(Nt(i.selectedTargetLanguage,e.websiteData.websiteLanguage)&&!e.websiteData.isGoogleTranslatedActive||Bt(e.websiteData.websiteLanguage,i.languagesForTranslation,o)||i.blacklistDomains.includes(e.websiteData.hostname)||Bc(window.location.host,I)||(Bt(e.websiteData.websiteLanguage,i.languagesForTranslation,n)&&Sd(e.websiteData.websiteLanguage,p),i.enableFullPageTranslation&&window===window.parent&&ic())))},Bd=async()=>{await Pd(),document.getElementsByTagName("deepl-input-controller").length||uc()},Ud=async()=>{await Pd(),_c(xa)},qd=()=>{xr()&&ac(),Fr()&&cc(),Hc()&&gc()},Fd=e=>{wi.set(e)},jd=async e=>{const t=()=>{for(const t of Object.keys(Oe))if(Oe[t]&&e.match(Oe[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(Ne))if(Ne[e]&&t.includes(Ne[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(Ae))if(Ae[e]&&document.querySelector(`#${Ae[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},n=t();n?mi({action:"dlTrackLandingOnWebsite",payload:{website:n}}):setTimeout((()=>{const e=t();e&&mi({action:"dlTrackLandingOnWebsite",payload:{website:e}})}),2e3)},Wd=async({eventType:e,controller:t,sourceTextLength:n,targetTextLength:o,error:i,metaDataOverride:s={}})=>{const a=t?.getTicketLanguageInformation(),r={agentLanguage:(await mi({action:"dlGetAppSettings"})).selectedTargetLanguage,ticketLanguage:a?.language,isTicketLanguageAutodetected:a?.isDetected,isTicketLanguageSupported:a?.isSupported,isAutoTranslateEnabled:t.getIsAutoTranslatedEnabled(),sourceTextLength:n,targetTextLength:o,inputHasSelection:t.getInputHasSelection(),error:i,...s};await mi({action:"dlTrackZendeskCustomizationEvent",payload:{eventType:e,zendeskMetaData:r}})},Gd=async({eventType:e,lang:t,sourceLength:n,targetLength:o,nicheIntegration:i=Be.default,error:s,metaDataOverride:a={}})=>{await mi({action:"dlTrackDeeplWriteEvent",payload:{eventType:e,deeplWriteMetaData:{lang:t,sourceLength:n,targetLength:o,nicheIntegration:i,error:s,...a}}})};function Vd(e){Ca(e)}function Zd(e,t,n){const o=e.slice();return o[18]=t[n],o}function Kd(e,t,n){const o=e.slice();return o[18]=t[n],o}function Xd(e,t,n){const o=e.slice();return o[18]=t[n],o}function Yd(e,t,n){const o=e.slice();return o[18]=t[n],o}function Qd(e,t,n){const o=e.slice();return o[18]=t[n],o}function Jd(e){let t,n,o,i,s,a,r,l,c,d,u,g=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new Ea({props:{onClose:e[0],$$slots:{default:[cu]},$$scope:{ctx:e}}});let p=e[6]&&du(e);return{c(){Vo(t.$$.fragment),n=Fn(),p&&p.c(),o=Fn(),i=Bn("div"),s=Bn("label"),a=Bn("input"),r=Fn(),l=qn(g),Zn(a,"type","checkbox"),a.disabled=e[6],Zn(a,"class","svelte-yijazm"),Zn(s,"class","svelte-yijazm"),Zn(i,"class","footer svelte-yijazm"),no(i,"hasError",e[6])},m(g,m){Zo(t,g,m),Pn(g,n,m),p&&p.m(g,m),Pn(g,o,m),Pn(g,i,m),Nn(i,s),Nn(s,a),Nn(s,r),Nn(s,l),c=!0,d||(u=Wn(s,"click",e[15]),d=!0)},p(e,n){const s={};1&n&&(s.onClose=e[0]),536870932&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[6]?p?(p.p(e,n),64&n&&Bo(p,1)):(p=du(e),p.c(),Bo(p,1),p.m(o.parentNode,o)):p&&(zo(),Uo(p,1,1,(()=>{p=null})),Ho()),(!c||64&n)&&(a.disabled=e[6]),(!c||64&n)&&no(i,"hasError",e[6])},i(e){c||(Bo(t.$$.fragment,e),Bo(p),c=!0)},o(e){Uo(t.$$.fragment,e),Uo(p),c=!1},d(e){Ko(t,e),e&&zn(n),p&&p.d(e),e&&zn(o),e&&zn(i),d=!1,u()}}}function eu(e){let t,n,o,i;return t=new Ea({props:{onClose:e[0]}}),o=new Tc({props:{onClose:e[0],onCancel:e[13]}}),{c(){Vo(t.$$.fragment),n=Fn(),Vo(o.$$.fragment)},m(e,s){Zo(t,e,s),Pn(e,n,s),Zo(o,e,s),i=!0},p(e,n){const i={};1&n&&(i.onClose=e[0]),t.$set(i);const s={};1&n&&(s.onClose=e[0]),8&n&&(s.onCancel=e[13]),o.$set(s)},i(e){i||(Bo(t.$$.fragment,e),Bo(o.$$.fragment,e),i=!0)},o(e){Uo(t.$$.fragment,e),Uo(o.$$.fragment,e),i=!1},d(e){Ko(t,e),e&&zn(n),Ko(o,e)}}}function tu(e){let t,n;return t=new Ea({props:{$$slots:{default:[Su]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870966&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function nu(e){let t,n;return t=new Ea({props:{$$slots:{default:[Du]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870928&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function ou(e){let t,n;return t=new Ea({props:{$$slots:{default:[Ou]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function iu(e){let t,n;return t=new Ea({props:{$$slots:{default:[Nu]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function su(e){let t,n;return t=new Ea({props:{$$slots:{default:[Au]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function au(e){let t,n;return t=new Ea({props:{$$slots:{default:[Ru]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function ru(e){let t,n;return t=new Ea({props:{$$slots:{default:[Pu]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function lu(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,Zn(t,"class","svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function cu(e){let t,n,o,i,s,a,r,l,c,d,u,g;return l=new Wa({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new sr({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[lu]},$$scope:{ctx:e}}}),u.$on("click",e[10]),{c(){t=Bn("div"),n=Bn("div"),o=qn(e[4]),i=Fn(),s=Bn("div"),a=Fn(),r=Bn("div"),Vo(l.$$.fragment),c=Fn(),d=Bn("div"),Vo(u.$$.fragment),Zn(n,"class","website-lang svelte-yijazm"),Zn(s,"class","translate-to-arrow svelte-yijazm"),Zn(r,"class","language-switch svelte-yijazm"),Zn(t,"class","language-selection svelte-yijazm"),Zn(d,"class","translate-button svelte-yijazm")},m(e,p){Pn(e,t,p),Nn(t,n),Nn(n,o),Nn(t,i),Nn(t,s),Nn(t,a),Nn(t,r),Zo(l,r,null),Pn(e,c,p),Pn(e,d,p),Zo(u,d,null),g=!0},p(e,t){(!g||16&t)&&Kn(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const i={};536870912&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i(e){g||(Bo(l.$$.fragment,e),Bo(u.$$.fragment,e),g=!0)},o(e){Uo(l.$$.fragment,e),Uo(u.$$.fragment,e),g=!1},d(e){e&&zn(t),Ko(l),e&&zn(c),e&&zn(d),Ko(u)}}}function du(e){let t,n,o;return n=new qs({props:{error:e[1].error}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","error-container svelte-yijazm")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function uu(e){let t,n=ns(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=hu(Kd(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(16&i){let s;for(n=ns(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),s=0;s<n.length;s+=1){const a=Kd(e,n,s);o[s]?o[s].p(a,i):(o[s]=hu(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function gu(e){let t;function n(e,t){return e[5]?_u:fu}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function pu(e){let t,n=e[18].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function mu(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=qn(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function hu(e){let t;function n(e,t){return"strong"===e[18].block?mu:pu}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function fu(e){let t,n=ns(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=bu(Xd(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(2&i){let s;for(n=ns(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),s=0;s<n.length;s+=1){const a=Xd(e,n,s);o[s]?o[s].p(a,i):(o[s]=bu(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function _u(e){let t,n=ns(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Cu(Yd(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(18&i){let s;for(n=ns(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),s=0;s<n.length;s+=1){const a=Yd(e,n,s);o[s]?o[s].p(a,i):(o[s]=Cu(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function vu(e){let t,n=e[18].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){2&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function wu(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=qn(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){2&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function bu(e){let t;function n(e,t){return"strong"===e[18].block?wu:vu}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function $u(e){let t,n=e[18].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){18&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function yu(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=qn(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){18&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Cu(e){let t;function n(e,t){return"strong"===e[18].block?yu:$u}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function xu(e){let t,n=e[18].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Tu(e){let t,n,o,i,s=e[18].text+"";return{c(){t=Bn("span"),n=qn(s),Zn(t,"class","link svelte-yijazm")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",e[9]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function Lu(e){let t;let n=function(e,t){return"settingsLink"===e[18].block?Tu:xu}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Su(e){let t,n,o,i,s;function a(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?gu:e[5]?uu:void 0}let r=a(e,-1),l=r&&r(e),c=ns(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),d=[];for(let t=0;t<c.length;t+=1)d[t]=Lu(Zd(e,c,t));return{c(){t=Bn("div"),n=Bn("p"),l&&l.c(),i=Fn(),s=Bn("p");for(let e=0;e<d.length;e+=1)d[e].c();Zn(n,"class","svelte-yijazm"),Zn(s,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Nn(t,n),l&&l.m(n,null),Nn(t,i),Nn(t,s);for(let e=0;e<d.length;e+=1)d[e].m(s,null)},p(e,t){if(r===(r=a(e,t))&&l?l.p(e,t):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(n,null))),512&t){let n;for(c=ns(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),n=0;n<c.length;n+=1){const o=Zd(e,c,n);d[n]?d[n].p(o,t):(d[n]=Lu(o),d[n].c(),d[n].m(s,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=c.length}},d(e){e&&zn(t),l&&l.d(),Hn(d,e)}}}function ku(e){let t,n=e[18].text+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Eu(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=qn(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Mu(e){let t;function n(e,t){return"strong"===e[18].block?Eu:ku}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Iu(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Du(e){let t,n,o,i,s,a,r=ns(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),l=[];for(let t=0;t<r.length;t+=1)l[t]=Mu(Qd(e,r,t));return s=new sr({props:{className:"button-reload",$$slots:{default:[Iu]},$$scope:{ctx:e}}}),s.$on("click",e[11]),{c(){t=Bn("div"),n=Bn("p");for(let e=0;e<l.length;e+=1)l[e].c();o=Fn(),i=Bn("p"),Vo(s.$$.fragment),Zn(n,"class","mb-none svelte-yijazm"),Zn(i,"class","svelte-yijazm")},m(e,r){Pn(e,t,r),Nn(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);Nn(t,o),Nn(t,i),Zo(s,i,null),a=!0},p(e,t){if(16&t){let o;for(r=ns(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),o=0;o<r.length;o+=1){const i=Qd(e,r,o);l[o]?l[o].p(i,t):(l[o]=Mu(i),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}const o={};536870912&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){a||(Bo(s.$$.fragment,e),a=!0)},o(e){Uo(s.$$.fragment,e),a=!1},d(e){e&&zn(t),Hn(l,e),Ko(s)}}}function Ou(e){let t;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Nu(e){let t;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Au(e){let t,n;return t=new Ya({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p:un,i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Ru(e){let t,n;return t=new Ya({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p:un,i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Pu(e){let t,n,o;return n=new Za({}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p:un,i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function zu(e){let t,n,o,i,r,c;const d=[ru,au,su,iu,ou,nu,tu,eu,Jd],u=[];function g(e,t){return 2&t&&(n=null),38&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===l?3:e[1].translationState===s?4:e[1].translationState===a?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[5])),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(i=g(e,-1))&&(r=u[i]=d[i](e)),{c(){t=Bn("div"),r&&r.c(),Zn(t,"class","full-page-translation svelte-yijazm")},m(e,n){Pn(e,t,n),~i&&u[i].m(t,null),c=!0},p(e,[n]){let o=i;i=g(e,n),i===o?~i&&u[i].p(e,n):(r&&(zo(),Uo(u[o],1,1,(()=>{u[o]=null})),Ho()),~i?(r=u[i],r?r.p(e,n):(r=u[i]=d[i](e),r.c()),Bo(r,1),r.m(t,null)):r=null)},i(e){c||(Bo(r),c=!0)},o(e){Uo(r),c=!1},d(e){e&&zn(t),~i&&u[i].d()}}}function Hu(e,t,n){let i,s,a,l;const c=vo("deepl_settings");wn(e,c,(e=>n(2,l=e)));const d=vo("deepl_website_settings");wn(e,d,(e=>n(1,a=e)));let u=b,{onClose:g}=t;let p,h,f=!1;return e.$$set=e=>{"onClose"in e&&n(0,g=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&n(6,i=a&&a.error),6&e.$$.dirty&&n(5,s=Bt(a.websiteLanguage,l.languagesForTranslation,o)),6&e.$$.dirty&&a&&l&&Nt(l.selectedTargetLanguage,a.websiteLanguage),2&e.$$.dirty&&a&&(a.isSupportedLanguage?n(4,p=chrome.i18n.getMessage(`supported_languages_${a.websiteLanguage}`)):n(4,p=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&a&&a.hostname&&a.hostname!==h&&(n(12,h=a.hostname),mi({action:"dlTrackExtensionOpenedEvent",payload:{domainName:h,extensionContext:u}}))},[g,a,l,f,p,s,i,c,d,function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.settings_page}})},function(){0==l.isTargetLanguageConfirmed&&c.set({isTargetLanguageConfirmed:!0}),Sd(a.websiteLanguage,m)},()=>{d.update({translationState:r})},h,()=>{n(3,f=!1)},e=>c.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{i||n(3,f=!f)}]}class Bu extends Yo{constructor(e){super(),Xo(this,e,Hu,zu,_n,{onClose:0})}}function Uu(e){let t,n,o;return n=new Bu({props:{onClose:e[0]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","app-popup svelte-1u84xsz"),Zn(t,"style",`z-index: ${e[3].z_index}`)},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function qu(e){let t,n,o=!0===e[1].isLoggedIn&&!0===e[1].isProUser&&e[2]&&e[2].isValidUrlForPopup&&Uu(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){!0===e[1].isLoggedIn&&!0===e[1].isProUser&&e[2]&&e[2].isValidUrlForPopup?o?(o.p(e,n),6&n&&Bo(o,1)):(o=Uu(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Fu(e,t,n){let o,i;wn(e,ga,(e=>n(1,o=e))),wn(e,xa,(e=>n(2,i=e))),_o("deepl_settings",ga),_o("deepl_website_settings",xa);let{onClose:s}=t;const{deepl_inline_ui:a}=D;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose)},[s,o,i,a]}class ju extends Yo{constructor(e){super(),Xo(this,e,Fu,qu,_n,{onClose:0})}}class Wu extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new ju({target:this.shadowContainer,props:{onClose:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Gu(e){let t,n;const o=e[8].default,i=bn(o,e,e[7],null);return{c(){t=Bn("div"),i&&i.c()},m(e,o){Pn(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||128&t)&&Cn(i,o,e,e[7],n?yn(o,e[7],t,null):xn(e[7]),null)},i(e){n||(Bo(i,e),n=!0)},o(e){Uo(i,e),n=!1},d(e){e&&zn(t),i&&i.d(e)}}}function Vu(e){let t,n,o;const i=e[8].default,s=bn(i,e,e[7],null);return{c(){t=Bn("div"),s&&s.c(),Zn(t,"data-tooltip",e[0]),Zn(t,"style",n=`z-index: ${e[2]}; ${e[5]}`),Zn(t,"class","svelte-1fngq5n"),no(t,"multiline",e[1]),no(t,"isFlexItem",e[4])},m(e,n){Pn(e,t,n),s&&s.m(t,null),o=!0},p(e,a){s&&s.p&&(!o||128&a)&&Cn(s,i,e,e[7],o?yn(i,e[7],a,null):xn(e[7]),null),(!o||1&a)&&Zn(t,"data-tooltip",e[0]),(!o||36&a&&n!==(n=`z-index: ${e[2]}; ${e[5]}`))&&Zn(t,"style",n),(!o||2&a)&&no(t,"multiline",e[1]),(!o||16&a)&&no(t,"isFlexItem",e[4])},i(e){o||(Bo(s,e),o=!0)},o(e){Uo(s,e),o=!1},d(e){e&&zn(t),s&&s.d(e)}}}function Zu(e){let t,n,o,i;const s=[Vu,Gu],a=[];function r(e,t){return e[3]?0:1}return t=r(e),n=a[t]=s[t](e),{c(){n.c(),o=jn()},m(e,n){a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?a[t].p(e,i):(zo(),Uo(a[l],1,1,(()=>{a[l]=null})),Ho(),n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Bo(n,1),n.m(o.parentNode,o))},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){a[t].d(e),e&&zn(o)}}}function Ku(e,t,n){let o,{$$slots:i={},$$scope:s}=t;const{deepl_inline_ui:a}=D;let{tooltip:r=!1}=t,{multiline:l=!1}=t,{zIndex:c=a.z_index}=t,{isEnabled:d=!0}=t,{isFlexItem:u=!1}=t,{width:g=null}=t;return e.$$set=e=>{"tooltip"in e&&n(0,r=e.tooltip),"multiline"in e&&n(1,l=e.multiline),"zIndex"in e&&n(2,c=e.zIndex),"isEnabled"in e&&n(3,d=e.isEnabled),"isFlexItem"in e&&n(4,u=e.isFlexItem),"width"in e&&n(6,g=e.width),"$$scope"in e&&n(7,s=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(5,o=g?`width: ${g}px`:"")},[r,l,c,d,u,o,g,s,i]}window.customElements.define("deepl-page-load-popup",Wu);class Xu extends Yo{constructor(e){super(),Xo(this,e,Ku,Zu,_n,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:6})}}function Yu(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Bn("div"),s=Fn(),a=Bn("div"),r=Bn("div"),r.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,l=Fn(),c=Bn("div"),c.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,d=Fn(),u=Bn("button"),Zn(i,"class","logo svelte-143q1m8"),Zn(r,"class","headline svelte-143q1m8"),Zn(c,"class","text svelte-143q1m8"),Zn(a,"class","text-wrapper svelte-143q1m8"),Zn(o,"class","content svelte-143q1m8"),Zn(u,"class","close-icon svelte-143q1m8"),Zn(n,"class",g=Tn(`body body__${e[1]}`)+" svelte-143q1m8"),Zn(t,"class",p=Tn(`container container__${e[1]}`)+" svelte-143q1m8")},m(g,p){Pn(g,t,p),Nn(t,n),Nn(n,o),Nn(o,i),Nn(o,s),Nn(o,a),Nn(a,r),Nn(a,l),Nn(a,c),Nn(n,d),Nn(n,u),f=!0,_||(v=Wn(u,"click",e[3]),_=!0)},p(e,[o]){(!f||2&o&&g!==(g=Tn(`body body__${e[1]}`)+" svelte-143q1m8"))&&Zn(n,"class",g),(!f||2&o&&p!==(p=Tn(`container container__${e[1]}`)+" svelte-143q1m8"))&&Zn(t,"class",p)},i(e){f||(So((()=>{h&&h.end(1),m=Fo(t,ei,{x:100,duration:1e3}),m.start()})),f=!0)},o(e){m&&m.invalidate(),h=jo(t,ei,{x:100,duration:1e3}),f=!1},d(e){e&&zn(t),e&&h&&h.end(),_=!1,v()}}}function Qu(t,n,o){let{closeInlineHighlighter:i=(()=>{})}=n,{el:s}=n,a="topLeft";mo((async()=>{try{mi({action:"dltrackOpenInlineHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}));return t.$$set=e=>{"closeInlineHighlighter"in e&&o(0,i=e.closeInlineHighlighter),"el"in e&&o(2,s=e.el)},t.$$.update=()=>{if(4&t.$$.dirty&&s){const e=s.getBoundingClientRect();let t=e.x>387,n=window.innerWidth-e.right>387,i=window.innerHeight-e.bottom>150,r=e.y>150;r&&t?o(1,a="topLeft"):r&&n?o(1,a="topRight"):i&&t?o(1,a="bottomLeft"):i&&n&&o(1,a="bottomRight")}},[i,a,s,()=>i(Pe)]}class Ju extends Yo{constructor(e){super(),Xo(this,e,Qu,Yu,_n,{closeInlineHighlighter:0,el:2})}}function eg(e){let t,n,o,i,s,a,r,l,c,d=e[3]&&!e[1].isInlineHighlighterShown&&tg(e);return o=new Xu({props:{tooltip:e[2],$$slots:{default:[ng]},$$scope:{ctx:e}}}),s=new Xu({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[og]},$$scope:{ctx:e}}}),{c(){d&&d.c(),t=Fn(),n=Bn("div"),Vo(o.$$.fragment),i=Fn(),Vo(s.$$.fragment),Zn(n,"class","icon-container svelte-l3ooav"),Zn(n,"data-qa","deepl-inline-translate-icon-container")},m(a,u){d&&d.m(a,u),Pn(a,t,u),Pn(a,n,u),Zo(o,n,null),Nn(n,i),Zo(s,n,null),e[24](n),r=!0,l||(c=[Wn(n,"blur",e[15]),Wn(n,"mouseenter",e[7]),Wn(n,"mouseleave",e[8])],l=!0)},p(e,n){e[3]&&!e[1].isInlineHighlighterShown?d?(d.p(e,n),10&n&&Bo(d,1)):(d=tg(e),d.c(),Bo(d,1),d.m(t.parentNode,t)):d&&(zo(),Uo(d,1,1,(()=>{d=null})),Ho());const i={};4&n&&(i.tooltip=e[2]),67108864&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const a={};67108880&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){r||(Bo(d),Bo(o.$$.fragment,e),Bo(s.$$.fragment,e),a||So((()=>{a=Fo(n,ei,{x:-5,duration:300}),a.start()})),r=!0)},o(e){Uo(d),Uo(o.$$.fragment,e),Uo(s.$$.fragment,e),r=!1},d(i){d&&d.d(i),i&&zn(t),i&&zn(n),Ko(o),Ko(s),e[24](null),l=!1,hn(c)}}}function tg(e){let t,n;return t=new Ju({props:{closeInlineHighlighter:e[11],el:e[3]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.el=e[3]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function ng(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-logo svelte-l3ooav"),Zn(t,"data-qa","deepl-inline-translate-menu-icon")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",Vn(Gn(e[6]))),Wn(t,"focus",e[19]),Wn(t,"mouseup",Vn(Gn(e[20]))),Wn(t,"mousedown",Vn(Gn(e[21]))),Wn(t,"mouseenter",e[22])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function og(e){let t,n,o,i,s;return{c(){t=Bn("div"),Zn(t,"data-qa","deepl-inline-translate-turnoff-icon"),Zn(t,"class",n=Tn(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-l3ooav")},m(n,o){Pn(n,t,o),i||(s=[Wn(t,"click",Vn(Gn(e[9]))),Wn(t,"focus",e[16]),Wn(t,"mousedown",Vn(Gn(e[17]))),Wn(t,"mouseup",Vn(Gn(e[18]))),Wn(t,"mouseenter",e[23])],i=!0)},p(e,o){16&o&&n!==(n=Tn(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-l3ooav")&&Zn(t,"class",n)},i(e){o||So((()=>{o=Fo(t,ei,{x:-5,duration:300}),o.start()}))},o:un,d(e){e&&zn(t),i=!1,hn(s)}}}function ig(e){let t,n,o=!e[5]&&eg(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[5]?o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho()):o?(o.p(e,n),32&n&&Bo(o,1)):(o=eg(e),o.c(),Bo(o,1),o.m(t.parentNode,t))},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function sg(e,t,n){let o,i,s,a=un,r=()=>(a(),a=vn(l,(e=>n(14,s=e))),l);wn(e,ga,(e=>n(1,i=e))),e.$$.on_destroy.push((()=>a())),_o("deepl_settings",ga);let{websiteSettings:l}=t;r();let c,d,{platformBehaviour:u=Be.default}=t,g="",p=!1;function m(){oc(),f(),mi({action:"dlTriggerTranslateInline"}),g||hi(O),v(ze)}async function h(e,t,n){if("dlTriggerTranslationShortcut"===e.action)m(),mi({action:"dlTrackUseOfShortcut",payload:{shortcutType:he,location:z,nicheIntegration:u}}),n()}function f(){s&&s.isInlineTranslateSettingsTooltipInjected||n(4,p=!1)}function _(e){mi({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:u}})}function v(e){if(!i.isInlineHighlighterShown){ga.set({isInlineHighlighterShown:!0});try{mi({action:"dltrackCloseInlineHighlighter",payload:{trigger:e}})}catch(e){console.error(e)}}}mi({action:"dlCheckCommandShortcuts"}).then((e=>n(13,g=e?e.filter((e=>e.name==he))[0].shortcut:""))),chrome.runtime.onMessage.addListener(h),ho((()=>{chrome.runtime.onMessage.removeListener(h)}));return e.$$set=e=>{"websiteSettings"in e&&r(n(0,l=e.websiteSettings)),"platformBehaviour"in e&&n(12,u=e.platformBehaviour)},e.$$.update=()=>{if(2&e.$$.dirty&&n(5,o=i.blacklistDomainsForReading&&i.blacklistDomainsForReading.includes(window.location.hostname)||!i.enableInlineTranslation),24576&e.$$.dirty){let e;e=chrome.i18n.getMessage("context_menus_translate_section"),n(2,c=g?`${e} (${g})`:e),!1===s.isInlineTranslateSettingsTooltipInjected&&n(4,p=!1)}},[l,i,c,d,p,o,m,function(){n(4,p=!0)},f,function(){s&&!s.isInlineTranslateSettingsTooltipInjected&&(n(4,p=!0),nc(u),mi({action:"dlTrackInlineSettingOpened",payload:{uiFunction:Ce,uiLocation:z,nicheIntegration:u}})),v(ze)},_,v,u,g,s,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},()=>_(z),()=>_(H),function(e){$o[e?"unshift":"push"]((()=>{d=e,n(3,d)}))}]}class ag extends Yo{constructor(e){super(),Xo(this,e,sg,ig,_n,{websiteSettings:0,platformBehaviour:12})}}class rg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.cachedMouseEvent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.removeChangeEvents=this.removeChangeEvents.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.cachedReposition=this.cachedReposition.bind(this),this.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM(e,t){this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.shadowContainer.appendChild(this.container),this.repositionContainer(t),this.mainComponent=new ag({target:this.container,props:{websiteSettings:e}}),this.addChangeEvents(),this.cachedMouseEvent=t}repositionContainer(e){if(window.getSelection()&&!window.getSelection().toString())return void this.cleanupDOM();const{deepl_inline_ui:t}=D,n=pr();let o=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${t.z_index}`,i=`position: absolute; z-index: ${t.z_index};`;this.shadowContainer.style.cssText=o,this.container.style.cssText=i;const s=function(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:i,TRIGGER_HEIGHT:s}=Cr,a=e?.detail;if(1===a){if(e.isOutsideOfView)return n;let a=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const r=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*a,c=t.selectedTop+t.height-a-r.y;if(t.height<1.5*a){n.containerStyleLeft=e.clientX;const s=t.x+t.selectedWidth;e.clientX>s?n.containerStyleLeft=t.selectedRight>o?s:s-o:e.clientX-t.x<i&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else l>c?n.containerStyleLeft=e.clientX:l<c&&(n.containerStyleTop=t.y-t.height-s-5,n.containerStyleLeft=e.clientX)}else if(2===a){n.containerStyleLeft=t.x+t.selectedWidth-i;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const r=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>r&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+s>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-s),n}(e,n);this.container.style.top=`${parseInt(s.containerStyleTop)}px`,this.container.style.left=`${parseInt(s.containerStyleLeft)}px`}cachedReposition(){return this.repositionContainer(this.cachedMouseEvent)}addChangeEvents(){window.addEventListener("scroll",this.cachedReposition),window.addEventListener("resize",this.cachedReposition)}removeChangeEvents(){window.removeEventListener("scroll",this.cachedReposition),window.removeEventListener("resize",this.cachedReposition)}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}function lg(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-menu-icon dl-menu-icon--user svelte-feu83h")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"mousedown",Gn(e[13])),n=!0)},d(e){e&&zn(t),n=!1,o()}}}function cg(e){let t,n,o,i,s,a,r,l,c,d=jt();function u(e,t){return!0===e[1].isLoggedIn?ug:dg}let g=u(e),p=g&&g(e),m=d&&function(e){let t,n,o;return{c(){t=Bn("div"),t.textContent="DEV_TOOLS",Zn(t,"class","dl-menu-item svelte-feu83h")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[8]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<span class="dl-menu-link dl-feedback-link svelte-feu83h"><div>Share feedback</div> \n          \n          \n          <div class="dl-feedback-icon svelte-feu83h"></div></span>',o=Fn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,s=Fn(),p&&p.c(),a=Fn(),m&&m.c(),Zn(n,"class","dl-menu-item svelte-feu83h"),Zn(i,"class","dl-menu-item svelte-feu83h"),Zn(t,"class","dl-menu-list svelte-feu83h")},m(r,d){Pn(r,t,d),Nn(t,n),Nn(t,o),Nn(t,i),Nn(t,s),p&&p.m(t,null),Nn(t,a),m&&m.m(t,null),l||(c=[Wn(n,"click",e[6]),Wn(i,"click",e[9])],l=!0)},p(e,n){g===(g=u(e))&&p?p.p(e,n):(p&&p.d(1),p=g&&g(e),p&&(p.c(),p.m(t,a))),d&&m.p(e,n)},i(e){r||So((()=>{r=Fo(t,ei,{y:-5,duration:500}),r.start()}))},o:un,d(e){e&&zn(t),p&&p.d(),m&&m.d(),l=!1,hn(c)}}}function dg(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),t.innerHTML='<div class="divider svelte-feu83h"></div>',n=Fn(),o=Bn("div"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,s=Fn(),a=Bn("div"),r=Bn("span"),r.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,Zn(t,"class","dl-menu-item dl-menu-item--divider svelte-feu83h"),Zn(o,"class","dl-menu-item svelte-feu83h"),Zn(r,"class","dl-menu-link link svelte-feu83h"),Zn(a,"class","dl-menu-item svelte-feu83h")},m(d,u){Pn(d,t,u),Pn(d,n,u),Pn(d,o,u),Nn(o,i),Pn(d,s,u),Pn(d,a,u),Nn(a,r),l||(c=[Wn(o,"click",e[4]),Wn(a,"click",e[5])],l=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(s),e&&zn(a),l=!1,hn(c)}}}function ug(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),t.innerHTML='<div class="divider svelte-feu83h"></div>',n=Fn(),o=Bn("div"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,Zn(t,"class","dl-menu-item dl-menu-item--divider svelte-feu83h"),Zn(o,"class","dl-menu-item svelte-feu83h")},m(r,l){Pn(r,t,l),Pn(r,n,l),Pn(r,o,l),Nn(o,i),s||(a=Wn(o,"click",e[3]),s=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),s=!1,a()}}}function gg(e){let t,n,o,i,s,a,r,l=!0===e[1].isLoggedIn&&lg(e),c=e[0]&&cg(e);return{c(){t=Bn("div"),n=Bn("div"),l&&l.c(),o=Fn(),i=Bn("button"),s=Fn(),c&&c.c(),Zn(i,"type","button"),Zn(i,"class","dl-menu-icon dl-menu-icon--hamburger svelte-feu83h"),no(i,"isOpen",e[0]),Zn(n,"class","dl-menu-icon-wrapper svelte-feu83h"),Zn(t,"class","dl-container-menu svelte-feu83h")},m(d,u){Pn(d,t,u),Nn(t,n),l&&l.m(n,null),Nn(n,o),Nn(n,i),Nn(t,s),c&&c.m(t,null),a||(r=[Wn(i,"mousedown",Gn(e[12])),Wn(n,"click",e[14]),Wn(n,"mousedown",Vn(Gn(e[11]))),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[7]),Wn(t,"mousedown",Vn(Gn(e[10])))],a=!0)},p(e,[s]){!0===e[1].isLoggedIn?l||(l=lg(e),l.c(),l.m(n,o)):l&&(l.d(1),l=null),1&s&&no(i,"isOpen",e[0]),e[0]?c?(c.p(e,s),1&s&&Bo(c,1)):(c=cg(e),c.c(),Bo(c,1),c.m(t,null)):c&&(c.d(1),c=null)},i(e){Bo(c)},o:un,d(e){e&&zn(t),l&&l.d(),c&&c.d(),a=!1,hn(r)}}}function pg(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(1,o=e)));let s=!1;function a(){n(0,s=!1)}return[s,o,i,function(){mi({action:"dlRequestLogout"}),mi({action:"dlTrackUiAction",payload:{uiAction:we}}),a()},function(){mi({action:"dlRequestLogin"}),a()},function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"menu"}}),a()},function(){mi({action:"dlExternalURLRedirect",payload:{destination:Ai}}),a()},a,function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.developer_tools}}),a()},function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.settings_page}}),a()},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},()=>{n(0,s=!s)}]}window.customElements.define("deepl-inline-trigger",rg);class mg extends Yo{constructor(e){super(),Xo(this,e,pg,gg,_n,{})}}function hg(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dl-logo svelte-1k53si1")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function fg(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-logo dl-logo--clickable svelte-1k53si1")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[12]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function _g(e){let t,n,o,i,s,a;return s=new Wa({props:{value:e[9].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),s.$on("selection",e[16]),{c(){t=Bn("div"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("layout_header_label_language_switch_v2")}`,o=Fn(),i=Bn("div"),Vo(s.$$.fragment),Zn(n,"class","dl-actions-language-selector__label svelte-1k53si1"),Zn(i,"class","dl-actions-language-selector__dropdown svelte-1k53si1"),Zn(t,"class","dl-actions-language-selector svelte-1k53si1")},m(e,r){Pn(e,t,r),Nn(t,n),Nn(t,o),Nn(t,i),Zo(s,i,null),a=!0},p(e,t){const n={};512&t&&(n.value=e[9].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),s.$set(n)},i(e){a||(Bo(s.$$.fragment,e),a=!0)},o(e){Uo(s.$$.fragment,e),a=!1},d(e){e&&zn(t),Ko(s)}}}function vg(e){let t;function n(e,t){return null==e[8]||e[8].translationState===s?bg:wg}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function wg(e){let t;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_done")}`,Zn(t,"class","dl-write-heading svelte-1k53si1")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function bg(e){let t;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_loading")}`,Zn(t,"class","dl-write-heading svelte-1k53si1")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function $g(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"class","dl-settings-icon svelte-1k53si1"),Zn(t,"data-qa","deepl-layour-header-settings-link")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[13]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function yg(e){let t,n;return t=new mg({}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Cg(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-close-icon svelte-1k53si1")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function xg(e){let t,n,o,i,s,a,r,l,c,d,u;let g=function(e,t){return e[12]?fg:hg}(e),p=g(e),m=e[6]===Ue.translate&&e[2]&&e[9]&&e[4]&&_g(e),h=e[6]===Ue.write&&vg(e),f=e[7]&&$g(e),_=e[1]&&yg(),v=e[0]&&Cg(e);return{c(){t=Bn("div"),p.c(),n=Fn(),o=Bn("div"),m&&m.c(),i=Fn(),h&&h.c(),s=Fn(),f&&f.c(),a=Fn(),_&&_.c(),r=Fn(),v&&v.c(),Zn(o,"class","dl-actions svelte-1k53si1"),Zn(t,"class",l=Tn("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1k53si1")},m(l,g){Pn(l,t,g),p.m(t,null),Nn(t,n),Nn(t,o),m&&m.m(o,null),Nn(o,i),h&&h.m(o,null),Nn(o,s),f&&f.m(o,null),Nn(o,a),_&&_.m(o,null),Nn(o,r),v&&v.m(o,null),c=!0,d||(u=Wn(t,"mousedown",Vn(Gn(e[15]))),d=!0)},p(e,[n]){p.p(e,n),e[6]===Ue.translate&&e[2]&&e[9]&&e[4]?m?(m.p(e,n),596&n&&Bo(m,1)):(m=_g(e),m.c(),Bo(m,1),m.m(o,i)):m&&(zo(),Uo(m,1,1,(()=>{m=null})),Ho()),e[6]===Ue.write?h?h.p(e,n):(h=vg(e),h.c(),h.m(o,s)):h&&(h.d(1),h=null),e[7]?f?f.p(e,n):(f=$g(e),f.c(),f.m(o,a)):f&&(f.d(1),f=null),e[1]?_?2&n&&Bo(_,1):(_=yg(),_.c(),Bo(_,1),_.m(o,r)):_&&(zo(),Uo(_,1,1,(()=>{_=null})),Ho()),e[0]?v?v.p(e,n):(v=Cg(e),v.c(),v.m(o,null)):v&&(v.d(1),v=null),(!c||4&n&&l!==(l=Tn("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-1k53si1"))&&Zn(t,"class",l)},i(e){c||(Bo(m),Bo(_),c=!0)},o(e){Uo(m),Uo(_),c=!1},d(e){e&&zn(t),p.d(),m&&m.d(),h&&h.d(),f&&f.d(),_&&_.d(),v&&v.d(),d=!1,u()}}}function Tg(e,t,n){let o,a,r=un,l=()=>(r(),r=vn(f,(e=>n(8,o=e))),f),c=un,d=()=>(c(),c=vn(h,(e=>n(9,a=e))),h);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>c()));let{closeWindow:u}=t,{showMenu:p=!1}=t,{showLangSelect:m=!1}=t,{settings:h}=t;d();let{websiteSettings:f}=t;l();let{extensionContext:_=0}=t,{platformBehaviour:v=Be.default}=t,{textProcessingMode:w=Ue.translate}=t,{showSettingsIcon:b=!0}=t;async function $(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),f.update({translationState:s}),mi({action:"dlRequestInlineTranslation",payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:g,sourceLang:"auto",websiteLanguage:o.websiteLanguage}}).then((e=>{f.update({translationState:i,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{f.update({translationState:i,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function y(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e.value)}return e.$$set=e=>{"closeWindow"in e&&n(0,u=e.closeWindow),"showMenu"in e&&n(1,p=e.showMenu),"showLangSelect"in e&&n(2,m=e.showLangSelect),"settings"in e&&d(n(3,h=e.settings)),"websiteSettings"in e&&l(n(4,f=e.websiteSettings)),"extensionContext"in e&&n(14,_=e.extensionContext),"platformBehaviour"in e&&n(5,v=e.platformBehaviour),"textProcessingMode"in e&&n(6,w=e.textProcessingMode),"showSettingsIcon"in e&&n(7,b=e.showSettingsIcon)},[u,p,m,h,f,v,w,b,o,a,$,y,function(){let e=zi;mi({action:"dlTrackLogoClickedEvent",payload:{extensionContext:_}}),w===Ue.write&&(e=Hi),mi({action:"dlExternalURLRedirect",payload:{destination:e,utmContent:"gdocs_logo"}})},function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.settings_page}})},_,function(t){wo.call(this,e,t)},e=>{switch(v){case Be.gdocs:y(e.detail.selectedOption);break;case Be.default:default:$(e.detail.selectedOption)}}]}class Lg extends Yo{constructor(e){super(),Xo(this,e,Tg,xg,_n,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:14,platformBehaviour:5,textProcessingMode:6,showSettingsIcon:7})}}function Sg(e){let t,n;return t=new Lg({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],textProcessingMode:e[8],showSettingsIcon:e[9]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.textProcessingMode=e[8]),512&n&&(o.showSettingsIcon=e[9]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function kg(e){let t,n,o,i,s,a=e[3]&&Sg(e);const r=e[11].default,l=bn(r,e,e[10],null);return{c(){t=Bn("div"),a&&a.c(),n=Fn(),o=Bn("div"),l&&l.c(),Zn(o,"class","dl-content svelte-1dtlgso"),Zn(t,"class",i=Tn(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1dtlgso"),Zn(t,"translate","no")},m(e,i){Pn(e,t,i),a&&a.m(t,null),Nn(t,n),Nn(t,o),l&&l.m(o,null),s=!0},p(e,[o]){e[3]?a?(a.p(e,o),8&o&&Bo(a,1)):(a=Sg(e),a.c(),Bo(a,1),a.m(t,n)):a&&(zo(),Uo(a,1,1,(()=>{a=null})),Ho()),l&&l.p&&(!s||1024&o)&&Cn(l,r,e,e[10],s?yn(r,e[10],o,null):xn(e[10]),null),(!s||4&o&&i!==(i=Tn(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1dtlgso"))&&Zn(t,"class",i)},i(e){s||(Bo(a),Bo(l,e),s=!0)},o(e){Uo(a),Uo(l,e),s=!1},d(e){e&&zn(t),a&&a.d(),l&&l.d(e)}}}function Eg(e,t,n){let{$$slots:o={},$$scope:i}=t,{closeWindow:s}=t,{showMenu:a=!1}=t,{showLangSelect:r=!1}=t,{withHeader:l=!0}=t,{settings:c}=t,{websiteSettings:d}=t,{extensionContext:u}=t,{platformBehaviour:g=Be.default}=t,{textProcessingMode:p=Ue.translate}=t,{showSettingsIcon:m=!0}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,s=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,r=e.showLangSelect),"withHeader"in e&&n(3,l=e.withHeader),"settings"in e&&n(4,c=e.settings),"websiteSettings"in e&&n(5,d=e.websiteSettings),"extensionContext"in e&&n(6,u=e.extensionContext),"platformBehaviour"in e&&n(7,g=e.platformBehaviour),"textProcessingMode"in e&&n(8,p=e.textProcessingMode),"showSettingsIcon"in e&&n(9,m=e.showSettingsIcon),"$$scope"in e&&n(10,i=e.$$scope)},[s,a,r,l,c,d,u,g,p,m,i,o]}class Mg extends Yo{constructor(e){super(),Xo(this,e,Eg,kg,_n,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,textProcessingMode:8,showSettingsIcon:9})}}function Ig(e){let t,n,o,i,s,a,r,l,c,d;return{c(){t=Bn("div"),n=Bn("input"),o=Fn(),i=Bn("div"),s=Fn(),a=Bn("label"),r=qn(e[3]),Zn(n,"id",e[1]),Zn(n,"name",e[4]),Zn(n,"type","radio"),n.checked=e[2],Zn(n,"data-qa",e[6]),Zn(n,"class","svelte-12100kl"),Zn(i,"class","radio-icon svelte-12100kl"),Zn(a,"for",e[1]),Zn(a,"class","svelte-12100kl"),Zn(t,"class",l=Tn(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-12100kl")},m(l,u){Pn(l,t,u),Nn(t,n),Xn(n,e[0]),Nn(t,o),Nn(t,i),Nn(t,s),Nn(t,a),Nn(a,r),c||(d=[Wn(n,"change",e[10]),Wn(n,"change",e[8]),Wn(n,"mousedown",Vn(Gn(e[9]))),Wn(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&Zn(n,"id",e[1]),16&o&&Zn(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&Zn(n,"data-qa",e[6]),1&o&&Xn(n,e[0]),8&o&&Kn(r,e[3]),2&o&&Zn(a,"for",e[1]),36&o&&l!==(l=Tn(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-12100kl")&&Zn(t,"class",l)},i:un,o:un,d(e){e&&zn(t),c=!1,hn(d)}}}function Dg(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:s=""}=t,{value:a=""}=t,{name:r=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,s=e.label),"value"in e&&n(0,a=e.value),"name"in e&&n(4,r=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[a,o,i,s,r,l,c,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(){a=this.value,n(0,a)}]}class Og extends Yo{constructor(e){super(),Xo(this,e,Dg,Ig,_n,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function Ng(e){let t,n,o;return n=new Mg({props:{withHeader:!1,$$slots:{default:[Ag]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),Vo(n.$$.fragment)},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,t){const o={};131081&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function Ag(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new Og({props:{name:"disable_inline_translation",id:be,value:be,cssClassName:"radio--with-border",checked:e[3]===be,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[11]),d=new Og({props:{name:"disable_inline_translation",id:$e,value:$e,cssClassName:"radio--with-border",checked:e[3]===$e,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[12]),{c(){t=Bn("div"),n=Bn("button"),o=Fn(),i=Bn("div"),s=Bn("p"),s.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,a=Fn(),r=Bn("div"),Vo(l.$$.fragment),c=Fn(),Vo(d.$$.fragment),u=Fn(),g=Bn("div"),p=Bn("span"),p.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,m=Fn(),h=Bn("button"),f=qn($),Zn(n,"type","button"),Zn(n,"class","close-icon svelte-1frab6c"),Zn(t,"class","header svelte-1frab6c"),Zn(s,"class","font-bold svelte-1frab6c"),Zn(r,"class","option-container svelte-1frab6c"),Zn(p,"class","link svelte-1frab6c"),Zn(p,"data-qa","close-settings-popup-link"),Zn(h,"class",_=Tn("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1frab6c"),Zn(h,"data-qa","save-settings-change-button"),Zn(g,"class","action-container svelte-1frab6c"),Zn(i,"class","dl-widget svelte-1frab6c")},m(_,$){Pn(_,t,$),Nn(t,n),Pn(_,o,$),Pn(_,i,$),Nn(i,s),Nn(i,a),Nn(i,r),Zo(l,r,null),Nn(r,c),Zo(d,r,null),Nn(i,u),Nn(i,g),Nn(g,p),Nn(g,m),Nn(g,h),Nn(h,f),v=!0,w||(b=[Wn(n,"click",Vn(Gn((function(){fn(e[0])&&e[0].apply(this,arguments)})))),Wn(t,"mousedown",Vn(Gn(e[10]))),Wn(p,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),Wn(h,"click",Vn(Gn(e[6]))),Wn(i,"mousedown",Vn(Gn(e[9])))],w=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===be),l.$set(o);const i={};8&n&&(i.checked=e[3]===$e),d.$set(i),(!v||8&n&&_!==(_=Tn("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1frab6c"))&&Zn(h,"class",_)},i(e){v||(Bo(l.$$.fragment,e),Bo(d.$$.fragment,e),v=!0)},o(e){Uo(l.$$.fragment,e),Uo(d.$$.fragment,e),v=!1},d(e){e&&zn(t),e&&zn(o),e&&zn(i),Ko(l),Ko(d),w=!1,hn(b)}}}function Rg(e){let t,n,o,i,s,a=e[4].enableInlineTranslation&&Ng(e);return{c(){t=Bn("div"),a&&a.c(),Zn(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-1frab6c"),Zn(t,"data-qa","deepl-inline-settings-tooltip"),Zn(t,"style",e[2]),So((()=>e[13].call(t)))},m(r,l){Pn(r,t,l),a&&a.m(t,null),n=to(t,e[13].bind(t)),o=!0,i||(s=[Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[14])],i=!0)},p(e,[n]){e[4].enableInlineTranslation?a?(a.p(e,n),16&n&&Bo(a,1)):(a=Ng(e),a.c(),Bo(a,1),a.m(t,null)):a&&(zo(),Uo(a,1,1,(()=>{a=null})),Ho()),(!o||4&n)&&Zn(t,"style",e[2])},i(e){o||(Bo(a),o=!0)},o(e){Uo(a),o=!1},d(e){e&&zn(t),a&&a.d(),n(),i=!1,hn(s)}}}function Pg(e,t,n){let o;wn(e,ga,(e=>n(4,o=e)));let i,{closeTooltip:s}=t,{replaceElement:a}=t,r="visibility: hidden; opacity:0; height:0;",l="";function c(e){n(3,l=e)}mo((()=>{setTimeout((()=>{n(2,r="")}),100)}));return e.$$set=e=>{"closeTooltip"in e&&n(0,s=e.closeTooltip),"replaceElement"in e&&n(8,a=e.replaceElement)},e.$$.update=()=>{258&e.$$.dirty&&a(i)},[s,i,r,l,o,c,function(){if(!l)return;switch(l){case $e:ga.set({enableInlineTranslation:!1}),mi({action:"dlTrackSettingChanged",payload:{settingType:$e,domainName:window.location.hostname,uiFunction:Ce,uiLocation:B}});break;case be:!function(){let e=o.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),ga.set({blacklistDomainsForReading:e}),mi({action:"dlTrackSettingChanged",payload:{settingType:be,domainName:window.location.hostname,uiFunction:Ce,uiLocation:B}}))}()}let e=qc(window.location.hostname,["www."]);s(),mi({action:"dlSendNotification",payload:{type:A,options:{theme:P.green_theme,currentDomain:e,saveAction:l,settingsPageURL:Ys.settings_reading}}})},function(e){n(3,l=e.currentTarget.value)},a,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},()=>c(be),()=>c($e),function(){i=this.clientHeight,n(1,i)},()=>s()]}class zg extends Yo{constructor(e){super(),Xo(this,e,Pg,Rg,_n,{closeTooltip:0,replaceElement:8})}}class Hg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this)}createDOM(e,t){const{deepl_inline_ui:n}=D;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.shadowContainer.appendChild(this.container);const i=e?.top,s=window.innerHeight-(e?.bottom||0);let a="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),r=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.shadowContainer.style.cssText=a,this.container.style.cssText=r,this.mainComponent=new zg({target:this.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;s>o?l=e.y+8:d&&(l=e.y-30-t-4),s<o&&i<o&&(a=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,r=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.container.style.top=`${parseInt(l)}px`,this.container.style.left=`${parseInt(c)}px`}}})}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}window.customElements.define("deepl-inline-translate-settings-tooltip",Hg);const Bg=e=>({top:e?.selectedTop,bottom:window.innerHeight-e?.selectedBottom,right:e?.selectedRight,left:e?.selectedLeft}),Ug=e=>{const{coords:t,clientHeight:n}=e,o=Bg(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},qg=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},Fg=(e,t)=>{const{coords:n,clientHeight:o,style:i,TOOLTIP_WIDTH:s,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":i.top=n.y-n.height-o-2-a+"px",i.left=`${qg(t)}px`;break;case"bottom":i.top=`${n.y+2+a}px`,i.left=`${qg(t)}px`;break;case"left":i.top=`${Ug(t)}px`,i.left=n.x-s-2+"px";break;case"right":i.top=`${Ug(t)}px`,i.left=`${n.x+n.selectedWidth+2}px`;break;default:i.top=window.pageYOffset+window.innerHeight/2-o/2+"px",i.left=window.innerWidth/2-s/2+"px"}},jg=(e,t)=>{const{coords:n,clientHeight:o,TOOLTIP_WIDTH:i,style:s}=t;switch(s.left=n.x-i-10+"px",e){case"top":s.top=n.y-o+"px";break;case"bottom":s.top=n.y-n.height+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-o/2+"px"}},Wg=(e,t)=>{const n=Gg(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},Gg=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=Bg(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}};function Vg(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=Fn(),i=Bn("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,Zn(n,"class","list-entry svelte-12gdpba"),Zn(n,"data-qa","dl-toolbar-listener-button-target-lang"),no(n,"dl-entry-notAvaiable",!e[0]),Zn(i,"class","list-entry svelte-12gdpba"),Zn(i,"data-qa","dl-toolbar-listener-button-source-lang"),no(i,"dl-entry-notAvaiable",!e[1]),Zn(t,"class","listen-list svelte-12gdpba"),Zn(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,a){Pn(s,t,a),Nn(t,n),Nn(t,o),Nn(t,i),r=!0,l||(c=[Wn(n,"click",(function(){fn(e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage))&&e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage).apply(this,arguments)})),Wn(i,"click",(function(){fn(e[3](e[4].originalSnippet,e[4].websiteLanguage))&&e[3](e[4].originalSnippet,e[4].websiteLanguage).apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!r||1&o)&&no(n,"dl-entry-notAvaiable",!e[0]),(!r||2&o)&&no(i,"dl-entry-notAvaiable",!e[1])},i(e){r||(So((()=>{a&&a.end(1),s=Fo(t,ei,{y:-5,duration:500}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=jo(t,ei,{y:-5,duration:500}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,hn(c)}}}function Zg(e,t,n){let o,i,s=un,a=()=>(s(),s=vn(c,(e=>n(4,o=e))),c);wn(e,ga,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>s()));let{isAvailableSelectedTargetLang:r}=t,{isAvailableSourceLang:l}=t,{websiteSettings:c}=t;a();let{listen:d=(()=>{})}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,r=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,l=e.isAvailableSourceLang),"websiteSettings"in e&&a(n(2,c=e.websiteSettings)),"listen"in e&&n(3,d=e.listen)},[r,l,c,d,o,i]}class Kg extends Yo{constructor(e){super(),Xo(this,e,Zg,Vg,_n,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,websiteSettings:2,listen:3})}}function Xg(e){let t,n,o,i;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-replace-button svelte-37z2qn"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,s){Pn(n,t,s),o||(i=Wn(t,"click",e[5]),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&zn(t),o=!1,i()}}}function Yg(e){let t,n;return t=new Xu({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[Xg]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),268&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Qg(e,t,n){let o,i,s=un,a=()=>(s(),s=vn(d,(e=>n(6,o=e))),d),r=un,l=()=>(r(),r=vn(g,(e=>n(7,i=e))),g);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>r()));let{websiteSettings:d}=t;a();let u,{settings:g}=t;l();let p=!1,m=o.translationState===c;return mo((()=>{n(2,u=Mr())})),e.$$set=e=>{"websiteSettings"in e&&a(n(0,d=e.websiteSettings)),"settings"in e&&l(n(1,g=e.settings))},[d,g,u,p,m,function(){const e=Sr().text;n(3,p=!0);const t=document.querySelector("deepl-gdocs-icon");t&&(t.applyReplacement(),mi({action:"dlTrackGDocsReplaceText",payload:{sourceLang:o.websiteLanguage,targetLang:i.selectedTargetLanguage,sourceLength:e.length,targetLength:o.translatedSnippet.length}}))}]}class Jg extends Yo{constructor(e){super(),Xo(this,e,Qg,Yg,_n,{websiteSettings:0,settings:1})}}function ep(e){let t,n;return{c(){t=Bn("div"),n=Bn("div"),Zn(t,"class","tooltip-linguee svelte-f3wkxu"),Zn(t,"style",`z-index: ${e[15].z_index}`)},m(o,i){Pn(o,t,i),Nn(t,n),n.innerHTML=e[13]},p(e,t){8192&t[0]&&(n.innerHTML=e[13])},d(e){e&&zn(t)}}}function tp(e){let t,n,o,i,s;return n=new Xu({props:{tooltip:e[12],$$slots:{default:[op]},$$scope:{ctx:e}}}),{c(){t=Bn("fragment"),Vo(n.$$.fragment)},m(a,r){Pn(a,t,r),Zo(n,t,null),o=!0,i||(s=[Wn(t,"mouseover",e[21]),Wn(t,"mouseleave",e[25])],i=!0)},p(e,t){const o={};4096&t[0]&&(o.tooltip=e[12]),3841&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n),i=!1,hn(s)}}}function np(e){let t,n;return t=new Kg({props:{websiteSettings:e[0],isAvailableSelectedTargetLang:e[10],isAvailableSourceLang:e[11],listen:e[17]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),1024&n[0]&&(o.isAvailableSelectedTargetLang=e[10]),2048&n[0]&&(o.isAvailableSourceLang=e[11]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function op(e){let t,n,o,i,s,a,r=e[9]&&np(e);return{c(){t=Bn("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-f3wkxu"></span>',n=Fn(),r&&r.c(),o=jn(),Zn(t,"type","button"),Zn(t,"class","dl-btn svelte-f3wkxu"),Zn(t,"data-qa","dl-toolbar-listener-button"),no(t,"dl-btn-active",e[8]),no(t,"dl-btn-hovered",e[9])},m(l,c){Pn(l,t,c),Pn(l,n,c),r&&r.m(l,c),Pn(l,o,c),i=!0,s||(a=Wn(t,"click",e[18]),s=!0)},p(e,n){(!i||256&n[0])&&no(t,"dl-btn-active",e[8]),(!i||512&n[0])&&no(t,"dl-btn-hovered",e[9]),e[9]?r?(r.p(e,n),512&n[0]&&Bo(r,1)):(r=np(e),r.c(),Bo(r,1),r.m(o.parentNode,o)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho())},i(e){i||(Bo(r),i=!0)},o(e){Uo(r),i=!1},d(e){e&&zn(t),e&&zn(n),r&&r.d(e),e&&zn(o),s=!1,a()}}}function ip(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-f3wkxu"></span>',Zn(t,"type","button"),Zn(t,"class","dl-btn svelte-f3wkxu"),Zn(t,"data-qa","dl-toolbar-copy-button"),no(t,"dl-btn-active",e[14])},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",e[19]),Wn(t,"mouseleave",e[20])],n=!0)},p(e,n){16384&n[0]&&no(t,"dl-btn-active",e[14])},d(e){e&&zn(t),n=!1,hn(o)}}}function sp(e){let t,n;return t=new Jg({props:{websiteSettings:e[0],settings:ga}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function ap(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y,C,x,T=!e[3]||!e[2]()||!e[5]||e[6],L=T&&ep(e),S=(e[10]||e[11])&&tp(e);b=new Xu({props:{tooltip:chrome.i18n.getMessage(e[14]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[ip]},$$scope:{ctx:e}}});let k=e[7]===Be.gdocs&&sp(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,s=Fn(),a=Bn("span"),r=Fn(),l=Bn("fragment"),c=Bn("div"),d=Bn("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=Fn(),g=Bn("div"),p=Fn(),m=Bn("div"),f=Fn(),L&&L.c(),_=Fn(),v=Bn("div"),S&&S.c(),w=Fn(),Vo(b.$$.fragment),$=Fn(),k&&k.c(),Zn(a,"class","icon icon-external-link svelte-f3wkxu"),Zn(o,"type","button"),Zn(o,"class","link svelte-f3wkxu"),Zn(n,"class","dl-link-container"),Zn(d,"class","dict-text svelte-f3wkxu"),Zn(g,"class","img_book svelte-f3wkxu"),no(g,"shown-dict",e[4]&&e[3]&&e[5]),Zn(m,"class","img_arrow svelte-f3wkxu"),no(m,"shown-dict",e[4]&&e[3]&&e[5]),Zn(c,"class",h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-f3wkxu"),Zn(c,"data-qa","dl-toolbar-dictionary-button"),Yn(l,"position","relative"),Zn(v,"class","dl-btn-group svelte-f3wkxu"),Zn(t,"class","dl-toolbar svelte-f3wkxu")},m(h,T){Pn(h,t,T),Nn(t,n),Nn(n,o),Nn(o,i),Nn(o,s),Nn(o,a),Nn(t,r),Nn(t,l),Nn(l,c),Nn(c,d),Nn(c,u),Nn(c,g),Nn(c,p),Nn(c,m),Nn(l,f),L&&L.m(l,null),Nn(t,_),Nn(t,v),S&&S.m(v,null),Nn(v,w),Zo(b,v,null),Nn(v,$),k&&k.m(v,null),y=!0,C||(x=[Wn(o,"click",e[16]),Wn(c,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),Wn(c,"mouseenter",e[22])],C=!0)},p(t,n){e=t,(!y||56&n[0])&&no(g,"shown-dict",e[4]&&e[3]&&e[5]),(!y||56&n[0])&&no(m,"shown-dict",e[4]&&e[3]&&e[5]),(!y||124&n[0]&&h!==(h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-f3wkxu"))&&Zn(c,"class",h),108&n[0]&&(T=!e[3]||!e[2]()||!e[5]||e[6]),T?L?L.p(e,n):(L=ep(e),L.c(),L.m(l,null)):L&&(L.d(1),L=null),e[10]||e[11]?S?(S.p(e,n),3072&n[0]&&Bo(S,1)):(S=tp(e),S.c(),Bo(S,1),S.m(v,w)):S&&(zo(),Uo(S,1,1,(()=>{S=null})),Ho());const o={};16384&n[0]&&(o.tooltip=chrome.i18n.getMessage(e[14]?"ui_inline_translation_copied":"ui_inline_translation_copy")),16384&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:e}),b.$set(o),e[7]===Be.gdocs?k?(k.p(e,n),128&n[0]&&Bo(k,1)):(k=sp(e),k.c(),Bo(k,1),k.m(v,null)):k&&(zo(),Uo(k,1,1,(()=>{k=null})),Ho())},i(e){y||(Bo(S),Bo(b.$$.fragment,e),Bo(k),y=!0)},o(e){Uo(S),Uo(b.$$.fragment,e),Uo(k),y=!1},d(e){e&&zn(t),L&&L.d(),S&&S.d(),Ko(b),k&&k.d(),C=!1,hn(x)}}}function rp(e,t,n){let o,i,s=un,a=()=>(s(),s=vn(r,(e=>n(23,o=e))),r);wn(e,ga,(e=>n(24,i=e))),e.$$.on_destroy.push((()=>s()));let{websiteSettings:r}=t;a();let l,c,d,u,{switchVisibilityDictionary:g}=t,{isSingleWord:p}=t,{dictionaryHTML:m}=t,{showDictionary:h=!1}=t,{langPair:f}=t,{errorMessageDict:_}=t,{platformBehaviour:v=Be.default}=t,w=!1,b=!1;const{deepl_inline_ui:$}=D;let y=!1;function C(){mi({action:"dlStopSpeech"}),n(8,d=!1)}function x(e){try{mi({action:"dlTrackInlineListen",payload:e})}catch(e){console.error(e)}}async function S(e,t,o){if("dlVoiceOverStopped"===e.action)n(8,d=!1),o()}function k(e){try{mi({action:"dlTrackVoiceOverStops",payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(S),ho((()=>{d&&k({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,triggerType:L,nicheIntegration:v}),C(),chrome.runtime.onMessage.removeListener(S)}));return e.$$set=e=>{"websiteSettings"in e&&a(n(0,r=e.websiteSettings)),"switchVisibilityDictionary"in e&&n(1,g=e.switchVisibilityDictionary),"isSingleWord"in e&&n(2,p=e.isSingleWord),"dictionaryHTML"in e&&n(3,m=e.dictionaryHTML),"showDictionary"in e&&n(4,h=e.showDictionary),"langPair"in e&&n(5,f=e.langPair),"errorMessageDict"in e&&n(6,_=e.errorMessageDict),"platformBehaviour"in e&&n(7,v=e.platformBehaviour)},e.$$.update=()=>{if(25166592&e.$$.dirty[0]&&(i.selectedTargetLanguage&&mi({action:"dlGetSupportedVoices"}).then((e=>{n(10,l=e.includes(["EN-US","EN-GB"].includes(i.selectedTargetLanguage)?"EN":["PT-PT","PT-BR"].includes(i.selectedTargetLanguage)?"PT":i.selectedTargetLanguage)),n(11,c=e.includes(o.websiteLanguage))})),!w&&d?setTimeout((()=>{n(12,b=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(12,b=!1)),100&e.$$.dirty[0]&&(_?n(13,u=_):p()?n(13,u=f?chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"):chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair")):n(13,u=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word"))),16&e.$$.dirty[0]&&h)try{mi({action:"dlTrackOpenDictionarySection",payload:{}})}catch(e){console.log(e)}},[r,g,p,m,h,f,_,v,d,w,l,c,b,u,y,$,function(){const e={};o&&i&&(e.sourceLang=o.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=o.originalSnippet),mi({action:"dlExternalURLRedirect",payload:{destination:Pi,...e}});try{mi({action:"dlTrackUiAction",payload:{uiAction:_e,nicheIntegration:v}})}catch(e){console.error(e)}},async function(e,t){d||(mi({action:"dlTextToSpeech",payload:{text:e,lang:t}}),n(8,d=!0),x({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,actionType:xe,nicheIntegration:v}),n(9,w=!1))},function(){d?(C(),n(8,d=!1),k({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,triggerType:T,nicheIntegration:v}),x({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,actionType:Te,nicheIntegration:v})):n(9,w=!0)},function(){navigator.clipboard.writeText(o.translatedSnippet).then((function(){n(14,y=!0)}),(function(e){console.error(e)})),function(e){try{mi({action:"dlTrackInlineCopy",payload:e})}catch(e){console.error(e)}}({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,nicheIntegration:v})},function(){setTimeout((()=>{n(14,y=!1)}),300)},function(){d||n(9,w=!0)},function(){if(!m||!p())try{mi({action:"dlTrackDisabledDictionaryHover",payload:{}})}catch(e){console.log(e)}},o,i,()=>n(9,w=!1)]}class lp extends Yo{constructor(e){super(),Xo(this,e,rp,ap,_n,{websiteSettings:0,switchVisibilityDictionary:1,isSingleWord:2,dictionaryHTML:3,showDictionary:4,langPair:5,errorMessageDict:6,platformBehaviour:7},null,[-1,-1])}}function cp(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("button"),n.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_accept")}`,o=Fn(),i=Bn("button"),i.textContent=`${chrome.i18n.getMessage("ui_gdocs_write_cancel")}`,Zn(n,"class","btn-primary svelte-6ctj0p"),Zn(i,"class","btn-secondary svelte-6ctj0p"),Zn(t,"class","dl-toolbar svelte-6ctj0p")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(t,o),Nn(t,i),s||(a=[Wn(n,"click",e[0]),Wn(i,"click",e[1])],s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,hn(a)}}}function dp(e,t,n){let{onClose:o}=t;return e.$$set=e=>{"onClose"in e&&n(2,o=e.onClose)},[()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&(e.applyReplacement(),e.trackDeeplWriteInsertCopy()),o()},()=>{const e=document.getElementsByTagName("deepl-gdocs-icon")[0];e&&e.trackDeeplWriteDiscardCopy(),o()},o]}class up extends Yo{constructor(e){super(),Xo(this,e,dp,cp,_n,{onClose:2})}}function gp(e){let t,n,o,i,s,a=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=Bn("p"),n=qn(e[0]),o=Fn(),i=Bn("pre"),s=qn(a),Zn(i,"class","debug-settings svelte-mu7va1")},m(e,a){Pn(e,t,a),Nn(t,n),Pn(e,o,a),Pn(e,i,a),Nn(i,s)},p(e,[t]){1&t&&Kn(n,e[0]),2&t&&a!==(a=JSON.stringify(e[1](),void 0,2)+"")&&Kn(s,a)},i:un,o:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function pp(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=(()=>{})}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class mp extends Yo{constructor(e){super(),Xo(this,e,pp,gp,_n,{headline:0,jsonData:1})}}function hp(e){let t,n,o,i;return{c(){t=Bn("div"),n=Bn("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: left;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: "Open Sans", sans-serif;\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: "Open Sans", sans-serif;\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-left: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-left: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-left: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-left: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-right: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-left: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-left: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-right: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-left: 5px;\n  padding-right: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-left: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-right: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-left: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-left: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-right: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-left: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-right: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-left: 7px;\n  padding-right: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-right: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-left: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-left: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-left: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-left: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-left: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-right: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-left: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-left: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-left: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: left;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: right;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-right: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-left: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-left: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-left: 0;\n}\n.lmt__dict .example {\n  padding-left: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-left: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-left: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-left: 0;\n}\n.lmt__dict .example {\n  padding-left: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-left: 20px;\n  padding-right: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-left: 0px;\n  margin-right: -19px;\n}\n\n#LMT__dict_right {\n  margin-left: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=Fn(),i=new io(!1),Zn(n,"lang","scss"),i.a=null},m(s,a){Pn(s,t,a),Nn(t,n),Nn(t,o),i.m(e[0],t)},p(e,[t]){1&t&&i.p(e[0])},i:un,o:un,d(e){e&&zn(t)}}}function fp(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class _p extends Yo{constructor(e){super(),Xo(this,e,fp,hp,_n,{html:0})}}function vp(e,t,n){const o=e.slice();return o[29]=t[n],o}function wp(e,t,n){const o=e.slice();return o[32]=t[n],o}function bp(e,t,n){const o=e.slice();return o[35]=t[n],o}function $p(e){let t,n,o,i,s,a,r,l,c=!Et.includes(e[4].selectedTargetLanguage),d=c&&Cp(e),u=e[4].gDocsSegmentation===kt&&void 0!==e[0]&&xp(e),g=e[4].gDocsSegmentation===St&&Sp(e);return{c(){t=Bn("div"),n=Bn("div"),d&&d.c(),o=Fn(),i=Bn("button"),i.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_sentence")}`,s=Fn(),u&&u.c(),a=Fn(),g&&g.c(),Zn(i,"class","segmentation-button sentence svelte-1ejmfif"),no(i,"active",e[4].gDocsSegmentation===kt),Zn(n,"class","dl-segmentation-selector svelte-1ejmfif")},m(c,p){Pn(c,t,p),Nn(t,n),d&&d.m(n,null),Nn(n,o),Nn(n,i),Nn(t,s),u&&u.m(t,null),Nn(t,a),g&&g.m(t,null),r||(l=Wn(i,"click",e[21]),r=!0)},p(e,s){16&s[0]&&(c=!Et.includes(e[4].selectedTargetLanguage)),c?d?d.p(e,s):(d=Cp(e),d.c(),d.m(n,o)):d&&(d.d(1),d=null),16&s[0]&&no(i,"active",e[4].gDocsSegmentation===kt),e[4].gDocsSegmentation===kt&&void 0!==e[0]?u?u.p(e,s):(u=xp(e),u.c(),u.m(t,a)):u&&(u.d(1),u=null),e[4].gDocsSegmentation===St?g?g.p(e,s):(g=Sp(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(e){e&&zn(t),d&&d.d(),u&&u.d(),g&&g.d(),r=!1,l()}}}function yp(e){let t;return{c(){t=Bn("div"),t.innerHTML='<div class="skeleton-item svelte-1ejmfif"><div class="skeleton-subitem svelte-1ejmfif"></div></div> \n      <div class="skeleton-item svelte-1ejmfif"><div class="skeleton-subitem svelte-1ejmfif"></div></div> \n      <div class="skeleton-item svelte-1ejmfif"><div class="skeleton-subitem svelte-1ejmfif"></div> \n        <div class="skeleton-subitem is-short-line svelte-1ejmfif"></div></div>',Zn(t,"class","dl-alternatives-loading-skeleton svelte-1ejmfif")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Cp(e){let t,n,o;return{c(){t=Bn("button"),t.textContent=`${chrome.i18n.getMessage("ui_alternatives_segmentation_word")}`,Zn(t,"class","segmentation-button word svelte-1ejmfif"),no(t,"active",e[4].gDocsSegmentation===St)},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[20]),n=!0)},p(e,n){16&n[0]&&no(t,"active",e[4].gDocsSegmentation===St)},d(e){e&&zn(t),n=!1,o()}}}function xp(e){let t,n=e[2],o=[];for(let t=0;t<n.length;t+=1)o[t]=Lp(wp(e,n,t));return{c(){t=Bn("div");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"class","alternatives svelte-1ejmfif")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(132&i[0]){let s;for(n=e[2],s=0;s<n.length;s+=1){const a=wp(e,n,s);o[s]?o[s].p(a,i):(o[s]=Lp(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&zn(t),Hn(o,e)}}}function Tp(e){let t,n,o=Pr(e[35].text)+"";return{c(){t=Bn("span"),n=qn(o),Zn(t,"class","svelte-1ejmfif"),no(t,"highlighted-text-chunk",e[35].isHighlighted)},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,i){4&i[0]&&o!==(o=Pr(e[35].text)+"")&&Kn(n,o),4&i[0]&&no(t,"highlighted-text-chunk",e[35].isHighlighted)},d(e){e&&zn(t)}}}function Lp(e){let t,n,o,i,s=e[32].textChunks,a=[];for(let t=0;t<s.length;t+=1)a[t]=Tp(bp(e,s,t));function r(){return e[22](e[32])}return{c(){t=Bn("div");for(let e=0;e<a.length;e+=1)a[e].c();n=Fn(),Zn(t,"class","sentence-alternatives alternative svelte-1ejmfif")},m(e,s){Pn(e,t,s);for(let e=0;e<a.length;e+=1)a[e].m(t,null);Nn(t,n),o||(i=Wn(t,"click",r),o=!0)},p(o,i){if(e=o,4&i[0]){let o;for(s=e[32].textChunks,o=0;o<s.length;o+=1){const r=bp(e,s,o);a[o]?a[o].p(r,i):(a[o]=Tp(r),a[o].c(),a[o].m(t,n))}for(;o<a.length;o+=1)a[o].d(1);a.length=s.length}},d(e){e&&zn(t),Hn(a,e),o=!1,i()}}}function Sp(e){let t,n=e[3],o=[];for(let t=0;t<n.length;t+=1)o[t]=kp(vp(e,n,t));return{c(){t=Bn("div");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"class","alternatives svelte-1ejmfif")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(264&i[0]){let s;for(n=e[3],s=0;s<n.length;s+=1){const a=vp(e,n,s);o[s]?o[s].p(a,i):(o[s]=kp(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&zn(t),Hn(o,e)}}}function kp(e){let t,n,o,i,s,a=Pr(e[29].text)+"";function r(){return e[23](e[29])}return{c(){t=Bn("div"),n=qn(a),o=Fn(),Zn(t,"class","word-alternative alternative svelte-1ejmfif")},m(e,a){Pn(e,t,a),Nn(t,n),Nn(t,o),i||(s=Wn(t,"click",r),i=!0)},p(t,o){e=t,8&o[0]&&a!==(a=Pr(e[29].text)+"")&&Kn(n,a)},d(e){e&&zn(t),i=!1,s()}}}function Ep(e){let t,n,o,i,s;function a(e,t){return e[5]?yp:e[1]?$p:void 0}let r=a(e),l=r&&r(e);return{c(){t=Bn("div"),n=Bn("button"),n.textContent=`${chrome.i18n.getMessage("ui_alternatives_title")}`,o=Fn(),l&&l.c(),Zn(n,"class","dl-toggle-show-alternatives svelte-1ejmfif"),no(n,"is-showing",e[1]),Zn(t,"class","dl-alternatives-container svelte-1ejmfif")},m(a,r){Pn(a,t,r),Nn(t,n),Nn(t,o),l&&l.m(t,null),i||(s=Wn(n,"click",e[19]),i=!0)},p(e,o){2&o[0]&&no(n,"is-showing",e[1]),r===(r=a(e))&&l?l.p(e,o):(l&&l.d(1),l=r&&r(e),l&&(l.c(),l.m(t,null)))},i:un,o:un,d(e){e&&zn(t),l&&l.d(),i=!1,s()}}}function Mp(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(4,o=e)));let{textProcessingMode:s=Ue.translate}=t,{contentProcessBuildingBlocks:a}=t,{buildAndSetReplaceData:r}=t,{activeSentence:l}=t,{activeWord:c}=t,{shouldMarkWordOrSentenceAsActive:d}=t,{registerAlternativesCallbacks:u}=t,{clearAlternativesCallbacks:g}=t,p=!1,m=!1,h=[],f=[];const _=async e=>{if(o.gDocsSegmentation===kt){n(0,l=e),n(1,p=!0),n(2,h=[]),n(5,m=!0);try{const t=await mi({action:"dlRequestGDocsSentenceAlternatives",payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text}});for(const o of t.result.translations[0].beams)o.sentences[0].text!==a.processedSentences[e].text&&h.length<4&&n(2,h=[...h,{text:o.sentences[0].text,textChunks:ss(o.sentences[0].text,a.processedSentences[e].text)}]);T(kt)}catch(e){console.error(e)}n(5,m=!1)}},v=async(e,t,i)=>{if(o.gDocsSegmentation===St){n(0,l=e),n(13,c=t),n(1,p=!0),n(3,f=[]),n(5,m=!0);try{const t=await mi({action:"dlRequestGDocsWordAlternatives",payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[e],contextBefore:e>0&&a.sentences[e-1].text,contextAfter:e<a.sentences.length-1&&a.sentences[e+1].text,partialTranslation:a.processedSentences[e].text.substring(0,i.offsetStartRaw)}});for(const o of t.result.translations[0].beams)if(o.sentences[0].text!==a.processedSentences[e].text.substring(0,i.offsetStartRaw+i.offsetLengthRaw)&&f.length<4){const e=o.sentences[0].text.substring(i.offsetStartRaw);e.trim().length>0&&n(3,f=[...f,{text:`${e}...`,partialTranslation:o.sentences[0].text}])}T(St)}catch(e){console.error(e)}n(5,m=!1)}},w=e=>{n(12,a.processedSentences[l].text=e,a),n(2,h=[]),r(),x(kt)},b=async e=>{n(12,a.processedSentences[l].text=e,a),n(3,f=[]);try{const t=await mi({action:"dlRequestGDocsSentenceFromPartialTranslation",payload:{mode:s,sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,sentence:a.sentences[l],contextBefore:l>0&&a.sentences[l-1].text,contextAfter:l<a.sentences.length-1&&a.sentences[l+1].text,partialTranslation:e}});n(12,a.processedSentences[l].text=t.result.translations[0].beams[0].sentences[0].text,a),r(),x(St)}catch(e){console.error(e)}},$=()=>{Ln(i,o.gDocsSegmentation=kt,o),n(0,l=void 0),n(13,c=void 0),C(kt)},y=()=>{Ln(i,o.gDocsSegmentation=St,o),n(0,l=void 0),n(13,c=void 0),C(St)},C=async e=>await L({eventType:pt,alternativesSegmentation:e}),x=async e=>await L({eventType:mt,alternativesSegmentation:e}),T=async e=>await L({eventType:gt,alternativesSegmentation:e}),L=async({eventType:e,alternativesSegmentation:t})=>await mi({action:"dlTrackAlternativesEvent",payload:{eventType:e,alternativesMetaData:{sourceLang:a.detectedSourceLanguage,targetLang:a.targetLang,nicheIntegration:Be.gdocs,contentProcessingMode:s,alternativesSegmentation:t}}});mo((()=>{u({showSentenceAlternatives:_,showWordAlternatives:v})})),ho((()=>{g()}));return e.$$set=e=>{"textProcessingMode"in e&&n(15,s=e.textProcessingMode),"contentProcessBuildingBlocks"in e&&n(12,a=e.contentProcessBuildingBlocks),"buildAndSetReplaceData"in e&&n(16,r=e.buildAndSetReplaceData),"activeSentence"in e&&n(0,l=e.activeSentence),"activeWord"in e&&n(13,c=e.activeWord),"shouldMarkWordOrSentenceAsActive"in e&&n(14,d=e.shouldMarkWordOrSentenceAsActive),"registerAlternativesCallbacks"in e&&n(17,u=e.registerAlternativesCallbacks),"clearAlternativesCallbacks"in e&&n(18,g=e.clearAlternativesCallbacks)},e.$$.update=()=>{30&e.$$.dirty[0]&&n(14,d=p&&(o.gDocsSegmentation===St&&f||o.gDocsSegmentation===kt&&h))},[l,p,h,f,o,m,i,w,b,$,y,T,a,c,d,s,r,u,g,()=>{n(1,p=!p),T()},()=>y(),()=>$(),e=>w(e.text),e=>b(e.partialTranslation)]}class Ip extends Yo{constructor(e){super(),Xo(this,e,Mp,Ep,_n,{textProcessingMode:15,contentProcessBuildingBlocks:12,buildAndSetReplaceData:16,activeSentence:0,activeWord:13,shouldMarkWordOrSentenceAsActive:14,registerAlternativesCallbacks:17,clearAlternativesCallbacks:18},null,[-1,-1])}}function Dp(e,t,n){const o=e.slice();return o[27]=t[n],o}function Op(e,t,n){const o=e.slice();return o[30]=t[n],o}function Np(e,t,n){const o=e.slice();return o[33]=t[n],o[35]=n,o}function Ap(e){let t,n=e[10].contentReference,o=[];for(let t=0;t<n.length;t+=1)o[t]=jp(Dp(e,n,t));return{c(){t=Bn("div");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"class","preview-text-scroller svelte-15vt8hb")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(65024&i[0]){let s;for(n=e[10].contentReference,s=0;s<n.length;s+=1){const a=Dp(e,n,s);o[s]?o[s].p(a,i):(o[s]=jp(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&zn(t),Hn(o,e)}}}function Rp(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dl-untranslatable-line svelte-15vt8hb")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Pp(e){let t,n,o=e[10].textLinesComponents[e[27].index],i=[];for(let t=0;t<o.length;t+=1)i[t]=Fp(Op(e,o,t));return{c(){t=Bn("div");for(let e=0;e<i.length;e+=1)i[e].c();n=Fn(),Zn(t,"class","dl-translatable-line svelte-15vt8hb"),no(t,"is-sentence-segmentation",e[9].gDocsSegmentation===kt),no(t,"is-word-segmentation",e[9].gDocsSegmentation===St)},m(e,o){Pn(e,t,o);for(let e=0;e<i.length;e+=1)i[e].m(t,null);Nn(t,n)},p(e,s){if(65024&s[0]){let a;for(o=e[10].textLinesComponents[e[27].index],a=0;a<o.length;a+=1){const r=Op(e,o,a);i[a]?i[a].p(r,s):(i[a]=Fp(r),i[a].c(),i[a].m(t,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=o.length}512&s[0]&&no(t,"is-sentence-segmentation",e[9].gDocsSegmentation===kt),512&s[0]&&no(t,"is-word-segmentation",e[9].gDocsSegmentation===St)},d(e){e&&zn(t),Hn(i,e)}}}function zp(e){let t,n=Pr(e[10].processedSentences[e[30]].text)+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p(e,o){1024&o[0]&&n!==(n=Pr(e[10].processedSentences[e[30]].text)+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Hp(e){let t,n=zr(e[10].processedSentences[e[30]].text),o=[];for(let t=0;t<n.length;t+=1)o[t]=qp(Np(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(48128&i[0]){let s;for(n=zr(e[10].processedSentences[e[30]].text),s=0;s<n.length;s+=1){const a=Np(e,n,s);o[s]?o[s].p(a,i):(o[s]=qp(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function Bp(e){let t,n,o=e[33].text+"";return{c(){t=Bn("span"),n=qn(o)},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){1024&t[0]&&o!==(o=e[33].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Up(e){let t,n,o,i,s=e[33].text+"";function a(){return e[20](e[30],e[35],e[33])}return{c(){t=Bn("span"),n=qn(s),Zn(t,"class","word-text svelte-15vt8hb"),no(t,"active-word",e[30]===e[11]&&e[12]===e[35]&&e[13])},m(e,s){Pn(e,t,s),Nn(t,n),o||(i=Wn(t,"click",a),o=!0)},p(o,i){e=o,1024&i[0]&&s!==(s=e[33].text+"")&&Kn(n,s),15360&i[0]&&no(t,"active-word",e[30]===e[11]&&e[12]===e[35]&&e[13])},d(e){e&&zn(t),o=!1,i()}}}function qp(e){let t;function n(e,t){return e[33].isWord?Up:Bp}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Fp(e){let t,n,o,i,s,a,r,l=e[10].processedSentences[e[30]].prefix+"",c=e[9].gDocsSegmentation===kt&&zp(e),d=e[9].gDocsSegmentation===St&&Hp(e);function u(){return e[21](e[30])}return{c(){t=Bn("span"),n=qn(l),o=Fn(),i=Bn("span"),c&&c.c(),s=Fn(),d&&d.c(),Zn(t,"class","sentence-prefix"),Zn(i,"class","sentence-text svelte-15vt8hb"),no(i,"active-sentence",e[11]===e[30]&&e[13])},m(e,l){Pn(e,t,l),Nn(t,n),Pn(e,o,l),Pn(e,i,l),c&&c.m(i,null),Nn(i,s),d&&d.m(i,null),a||(r=Wn(i,"click",u),a=!0)},p(t,o){e=t,1024&o[0]&&l!==(l=e[10].processedSentences[e[30]].prefix+"")&&Kn(n,l),e[9].gDocsSegmentation===kt?c?c.p(e,o):(c=zp(e),c.c(),c.m(i,s)):c&&(c.d(1),c=null),e[9].gDocsSegmentation===St?d?d.p(e,o):(d=Hp(e),d.c(),d.m(i,null)):d&&(d.d(1),d=null),11264&o[0]&&no(i,"active-sentence",e[11]===e[30]&&e[13])},d(e){e&&zn(t),e&&zn(o),e&&zn(i),c&&c.d(),d&&d.d(),a=!1,r()}}}function jp(e){let t;function n(e,t){return e[27].isTranslatable?Pp:Rp}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Wp(e){let t,n,o;return n=new lp({props:{platformBehaviour:Be.gdocs,websiteSettings:e[1],showDictionary:e[2],errorMessageDict:e[3],dictionaryHTML:e[4],langPair:e[5],switchVisibilityDictionary:e[6],isSingleWord:e[7]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","dl-inline-translate-toolbar-frame svelte-15vt8hb")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,t){const o={};2&t[0]&&(o.websiteSettings=e[1]),4&t[0]&&(o.showDictionary=e[2]),8&t[0]&&(o.errorMessageDict=e[3]),16&t[0]&&(o.dictionaryHTML=e[4]),32&t[0]&&(o.langPair=e[5]),64&t[0]&&(o.switchVisibilityDictionary=e[6]),128&t[0]&&(o.isSingleWord=e[7]),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function Gp(e){let t,n;return t=new up({props:{onClose:e[8]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};256&n[0]&&(o.onClose=e[8]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Vp(e){let t,n,o,i,s,a;function r(t){e[22](t)}function l(t){e[23](t)}function c(t){e[24](t)}function d(t){e[25](t)}let u={textProcessingMode:e[0],buildAndSetReplaceData:e[17],registerAlternativesCallbacks:e[18],clearAlternativesCallbacks:e[19]};return void 0!==e[10]&&(u.contentProcessBuildingBlocks=e[10]),void 0!==e[11]&&(u.activeSentence=e[11]),void 0!==e[12]&&(u.activeWord=e[12]),void 0!==e[13]&&(u.shouldMarkWordOrSentenceAsActive=e[13]),t=new Ip({props:u}),$o.push((()=>Go(t,"contentProcessBuildingBlocks",r,e[10]))),$o.push((()=>Go(t,"activeSentence",l,e[11]))),$o.push((()=>Go(t,"activeWord",c,e[12]))),$o.push((()=>Go(t,"shouldMarkWordOrSentenceAsActive",d,e[13]))),{c(){Vo(t.$$.fragment)},m(e,n){Zo(t,e,n),a=!0},p(e,a){const r={};1&a[0]&&(r.textProcessingMode=e[0]),!n&&1024&a[0]&&(n=!0,r.contentProcessBuildingBlocks=e[10],ko((()=>n=!1))),!o&&2048&a[0]&&(o=!0,r.activeSentence=e[11],ko((()=>o=!1))),!i&&4096&a[0]&&(i=!0,r.activeWord=e[12],ko((()=>i=!1))),!s&&8192&a[0]&&(s=!0,r.shouldMarkWordOrSentenceAsActive=e[13],ko((()=>s=!1))),t.$set(r)},i(e){a||(Bo(t.$$.fragment,e),a=!0)},o(e){Uo(t.$$.fragment,e),a=!1},d(e){Ko(t,e)}}}function Zp(e){let t,n,o,i,s,a,r=e[10]&&e[10].contentReference&&Ap(e),l=e[0]===Ue.translate&&Wp(e),c=e[0]===Ue.write&&Gp(e),d=e[10]&&Vp(e);return{c(){t=Bn("div"),r&&r.c(),n=Fn(),l&&l.c(),o=Fn(),c&&c.c(),i=Fn(),s=Bn("div"),d&&d.c(),Zn(s,"class","dl-alternatives-frame svelte-15vt8hb")},m(e,u){Pn(e,t,u),r&&r.m(t,null),Nn(t,n),l&&l.m(t,null),Nn(t,o),c&&c.m(t,null),Nn(t,i),Nn(t,s),d&&d.m(s,null),a=!0},p(e,a){e[10]&&e[10].contentReference?r?r.p(e,a):(r=Ap(e),r.c(),r.m(t,n)):r&&(r.d(1),r=null),e[0]===Ue.translate?l?(l.p(e,a),1&a[0]&&Bo(l,1)):(l=Wp(e),l.c(),Bo(l,1),l.m(t,o)):l&&(zo(),Uo(l,1,1,(()=>{l=null})),Ho()),e[0]===Ue.write?c?(c.p(e,a),1&a[0]&&Bo(c,1)):(c=Gp(e),c.c(),Bo(c,1),c.m(t,i)):c&&(zo(),Uo(c,1,1,(()=>{c=null})),Ho()),e[10]?d?(d.p(e,a),1024&a[0]&&Bo(d,1)):(d=Vp(e),d.c(),Bo(d,1),d.m(s,null)):d&&(zo(),Uo(d,1,1,(()=>{d=null})),Ho())},i(e){a||(Bo(l),Bo(c),Bo(d),a=!0)},o(e){Uo(l),Uo(c),Uo(d),a=!1},d(e){e&&zn(t),r&&r.d(),l&&l.d(),c&&c.d(),d&&d.d()}}}function Kp(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(9,o=e)));let s,a,r,l,{textProcessingMode:c=Ue.translate}=t,{websiteSettings:d}=t,{showDictionary:u}=t,{errorMessageDict:g}=t,{dictionaryHTML:p}=t,{langPair:m}=t,{switchVisibilityDictionary:h}=t,{isSingleWord:f}=t,{onClose:_}=t,v=!1,w=()=>{},b=()=>{};const $=()=>{if(a)try{const{processedText:e,processedEntities:t}=Rr({textLines:a.textLinesComponents.map((e=>e.map((e=>a.processedSentences[e].prefix+a.processedSentences[e].text)))),entities:a.entities,contentReference:a.contentReference});d.update({translatedSnippet:e}),s&&s.setReplaceData({entities:t,text:e,originalObject:a.originalObject})}catch(e){console.error(e)}};mo((()=>{s=document.querySelector("deepl-gdocs-icon"),n(10,a=s.getContentProcessBuildingBlocks()),$()}));return e.$$set=e=>{"textProcessingMode"in e&&n(0,c=e.textProcessingMode),"websiteSettings"in e&&n(1,d=e.websiteSettings),"showDictionary"in e&&n(2,u=e.showDictionary),"errorMessageDict"in e&&n(3,g=e.errorMessageDict),"dictionaryHTML"in e&&n(4,p=e.dictionaryHTML),"langPair"in e&&n(5,m=e.langPair),"switchVisibilityDictionary"in e&&n(6,h=e.switchVisibilityDictionary),"isSingleWord"in e&&n(7,f=e.isSingleWord),"onClose"in e&&n(8,_=e.onClose)},e.$$.update=()=>{512&e.$$.dirty[0]&&Et.includes(o.selectedTargetLanguage)&&Ln(i,o.gDocsSegmentation=kt,o)},[c,d,u,g,p,m,h,f,_,o,a,r,l,v,w,b,i,$,e=>{n(14,w=e.showSentenceAlternatives),n(15,b=e.showWordAlternatives)},()=>{n(14,w=()=>{}),n(15,b=()=>{})},(e,t,n)=>b(e,t,n),e=>w(e),function(e){a=e,n(10,a)},function(e){r=e,n(11,r)},function(e){l=e,n(12,l)},function(e){v=e,n(13,v)}]}class Xp extends Yo{constructor(e){super(),Xo(this,e,Kp,Zp,_n,{textProcessingMode:0,websiteSettings:1,showDictionary:2,errorMessageDict:3,dictionaryHTML:4,langPair:5,switchVisibilityDictionary:6,isSingleWord:7,onClose:8},null,[-1,-1])}}function Yp(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}const Qp=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),Jp=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function em(e){let t,n,o,i;return t=new mp({props:{headline:"Response - Translated DOM",jsonData:e[18]}}),o=new mp({props:{headline:"Request - Original DOM",jsonData:e[19]}}),{c(){Vo(t.$$.fragment),n=Fn(),Vo(o.$$.fragment)},m(e,s){Zo(t,e,s),Pn(e,n,s),Zo(o,e,s),i=!0},p(e,n){const i={};32&n&&(i.jsonData=e[18]),t.$set(i);const s={};32&n&&(s.jsonData=e[19]),o.$set(s)},i(e){i||(Bo(t.$$.fragment,e),Bo(o.$$.fragment,e),i=!0)},o(e){Uo(t.$$.fragment,e),Uo(o.$$.fragment,e),i=!1},d(e){Ko(t,e),e&&zn(n),Ko(o,e)}}}function tm(e){let t,n,o,i,s,a=Yp(e[5].translatedSnippet)+"",r=e[3]===Ue.translate&&am(e),l=e[3]===Ue.write&&rm(e);return{c(){t=Bn("div"),n=Fn(),r&&r.c(),o=Fn(),l&&l.c(),i=jn(),Zn(t,"class","result-frame svelte-cdfzhs")},m(e,c){Pn(e,t,c),t.innerHTML=a,Pn(e,n,c),r&&r.m(e,c),Pn(e,o,c),l&&l.m(e,c),Pn(e,i,c),s=!0},p(e,n){(!s||32&n)&&a!==(a=Yp(e[5].translatedSnippet)+"")&&(t.innerHTML=a),e[3]===Ue.translate?r?(r.p(e,n),8&n&&Bo(r,1)):(r=am(e),r.c(),Bo(r,1),r.m(o.parentNode,o)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho()),e[3]===Ue.write?l?(l.p(e,n),8&n&&Bo(l,1)):(l=rm(e),l.c(),Bo(l,1),l.m(i.parentNode,i)):l&&(zo(),Uo(l,1,1,(()=>{l=null})),Ho())},i(e){s||(Bo(r),Bo(l),s=!0)},o(e){Uo(r),Uo(l),s=!1},d(e){e&&zn(t),e&&zn(n),r&&r.d(e),e&&zn(o),l&&l.d(e),e&&zn(i)}}}function nm(e){let t,n;return t=new Xp({props:{textProcessingMode:e[3],websiteSettings:e[1],showDictionary:e[6],errorMessageDict:e[8],dictionaryHTML:e[7],langPair:e[4],switchVisibilityDictionary:e[12],isSingleWord:e[10],onClose:e[0]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.textProcessingMode=e[3]),2&n&&(o.websiteSettings=e[1]),64&n&&(o.showDictionary=e[6]),256&n&&(o.errorMessageDict=e[8]),128&n&&(o.dictionaryHTML=e[7]),16&n&&(o.langPair=e[4]),1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function om(e){let t,n;return t=new qs({props:{error:e[5].error}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.error=e[5].error),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function im(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h=e[5].originalSnippet.length+"";return{c(){t=Bn("div"),n=Bn("p"),o=qn(h),i=qn("/5000"),s=Fn(),a=Bn("div"),r=Bn("h2"),r.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")}`,l=Fn(),c=Bn("p"),c.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`,d=Fn(),u=Bn("div"),g=Bn("button"),g.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Zn(n,"class","counter svelte-cdfzhs"),Zn(r,"class","svelte-cdfzhs"),Zn(g,"class","svelte-cdfzhs"),Zn(u,"class","button-row svelte-cdfzhs"),Zn(a,"class","box svelte-cdfzhs"),Zn(t,"class","anonymous-user-max-char-exceeded svelte-cdfzhs")},m(h,f){Pn(h,t,f),Nn(t,n),Nn(n,o),Nn(n,i),Nn(t,s),Nn(t,a),Nn(a,r),Nn(a,l),Nn(a,c),Nn(a,d),Nn(a,u),Nn(u,g),p||(m=Wn(g,"click",e[13]),p=!0)},p(e,t){32&t&&h!==(h=e[5].originalSnippet.length+"")&&Kn(o,h)},i:un,o:un,d(e){e&&zn(t),p=!1,m()}}}function sm(e){let t,n,o;return n=new Za({}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","loading-spinner-container svelte-cdfzhs")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p:un,i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function am(e){let t,n;return t=new lp({props:{platformBehaviour:e[2],websiteSettings:e[1],showDictionary:e[6],errorMessageDict:e[8],dictionaryHTML:e[7],langPair:e[4],switchVisibilityDictionary:e[12],isSingleWord:e[10]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.platformBehaviour=e[2]),2&n&&(o.websiteSettings=e[1]),64&n&&(o.showDictionary=e[6]),256&n&&(o.errorMessageDict=e[8]),128&n&&(o.dictionaryHTML=e[7]),16&n&&(o.langPair=e[4]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function rm(e){let t,n;return t=new up({props:{onClose:e[0]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[0]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function lm(e){let t,n,o,i;return n=new _p({props:{html:e[7]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","dl__dictionary svelte-cdfzhs")},m(e,o){Pn(e,t,o),Zo(n,t,null),i=!0},p(e,t){const o={};128&t&&(o.html=e[7]),n.$set(o)},i(e){i||(Bo(n.$$.fragment,e),o||So((()=>{o=Fo(t,ei,{y:-50,duration:700}),o.start()})),i=!0)},o(e){Uo(n.$$.fragment,e),i=!1},d(e){e&&zn(t),Ko(n)}}}function cm(e){let t,n,o,i,a,r,l;const d=[sm,im,om,nm,tm,em],u=[];function g(e,t){return 32&t&&(n=null),null==e[5]||e[5].translationState===s?0:e[5].translationState===c?1:e[5].error?2:e[2]===Be.gdocs?3:e[5].translatedSnippet?4:(null==n&&(n=!(!jt()||!e[5].translatedDOMSnippet)),n?5:-1)}~(o=g(e,-1))&&(i=u[o]=d[o](e));let p=e[6]&&e[7]&&lm(e);return{c(){t=Bn("div"),i&&i.c(),a=Fn(),p&&p.c(),r=jn(),Zn(t,"class","tooltip-container svelte-cdfzhs"),Zn(t,"data-qa","deepl-inline-translation-result-container"),no(t,"error",e[5].error)},m(e,n){Pn(e,t,n),~o&&u[o].m(t,null),Pn(e,a,n),p&&p.m(e,n),Pn(e,r,n),l=!0},p(e,n){let s=o;o=g(e,n),o===s?~o&&u[o].p(e,n):(i&&(zo(),Uo(u[s],1,1,(()=>{u[s]=null})),Ho()),~o?(i=u[o],i?i.p(e,n):(i=u[o]=d[o](e),i.c()),Bo(i,1),i.m(t,null)):i=null),(!l||32&n)&&no(t,"error",e[5].error),e[6]&&e[7]?p?(p.p(e,n),192&n&&Bo(p,1)):(p=lm(e),p.c(),Bo(p,1),p.m(r.parentNode,r)):p&&(zo(),Uo(p,1,1,(()=>{p=null})),Ho())},i(e){l||(Bo(i),Bo(p),l=!0)},o(e){Uo(i),Uo(p),l=!1},d(e){e&&zn(t),~o&&u[o].d(),e&&zn(a),p&&p.d(e),e&&zn(r)}}}function dm(e){let t,n,o;return n=new Mg({props:{closeWindow:e[11],showLangSelect:!e[5].error,settings:ga,websiteSettings:e[1],extensionContext:e[9],platformBehaviour:e[2],textProcessingMode:e[3],showSettingsIcon:!0,$$slots:{default:[cm]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),Vo(n.$$.fragment)},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,[t]){const o={};32&t&&(o.showLangSelect=!e[5].error),2&t&&(o.websiteSettings=e[1]),4&t&&(o.platformBehaviour=e[2]),8&t&&(o.textProcessingMode=e[3]),33554943&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function um(e,t,n){let o,s,a=un,r=()=>(a(),a=vn(d,(e=>n(5,o=e))),d);wn(e,ga,(e=>n(17,s=e))),e.$$.on_destroy.push((()=>a()));let{closeTooltip:l}=t,{websiteSettings:d}=t;r();let u,g,p,m,{platformBehaviour:h=Be.default}=t,{textProcessingMode:f=Ue.translate}=t,{setPositioningStatus:_}=t,v="",w="",b="",y=$;function C(){return!!m&&1===m.trim().split(" ").length}function x(){const e=v&&p&&C()?S:k;if(o.originalSnippet&&o.originalSnippet!==b){b=o.originalSnippet;try{mi({action:"dltrackDictionaryStatus",payload:{status:e,langPair:p}})}catch(e){console.log(e)}}}async function T(){let e=chrome.i18n.getUILanguage();var t;e&&(t=e,Qp.has(t.toUpperCase()))||(e="EN"),e=e.substring(0,2).toUpperCase(),n(8,w=""),await(Lo(),xo),mi({action:"dlGetDictionary",payload:{interfaceLang:e,sourceLang:o.websiteLanguage,targetLang:s.selectedTargetLanguage,text:m}}).then((e=>{n(7,v=e)})).catch((e=>{switch(mi({action:"dlTrackLingueeErrorData",payload:{lingueeError:e.error}}),e.error){case tn:n(8,w=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"));break;case en:n(8,w=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",m));break;default:n(8,w=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"))}})).finally((()=>{x(),n(6,u=!1)}))}async function L(e){switch(f){case Ue.translate:{const t=await Pt(o.originalSnippet);let n;e===ht&&(n="dlTrackGdocsMaxCharExceededShown"),e===ft&&(n="dlTrackGDocsMaxCharExceededTryProClicked"),mi({action:n,payload:{sourceLang:t,targetLang:s.selectedTargetLanguage,sourceLength:o.originalSnippet.length}})}break;case Ue.write:{const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.trackMaxCharExceeded(e)}}}return e.$$set=e=>{"closeTooltip"in e&&n(0,l=e.closeTooltip),"websiteSettings"in e&&r(n(1,d=e.websiteSettings)),"platformBehaviour"in e&&n(2,h=e.platformBehaviour),"textProcessingMode"in e&&n(3,f=e.textProcessingMode),"setPositioningStatus"in e&&n(14,_=e.setPositioningStatus)},e.$$.update=()=>{if(36&e.$$.dirty&&h===Be.gdocs&&o.translationState===c&&o.originalSnippet.length>0&&L(ht),131104&e.$$.dirty&&o&&s&&(o.websiteLanguage,s.selectedTargetLanguage,o.originalSnippet),33&e.$$.dirty&&o&&(!o.isTranslationTooltipInjected||o.translationState!==i||o.translatedSnippet||o.error||o.translatedDOMSnippet||l()),16420&e.$$.dirty&&!o.translationState&&h===Be.default&&_&&(_(!0),setTimeout((()=>{_(!1)}),600)),196656&e.$$.dirty){if(s.selectedTargetLanguage!==o.snippetDetectedSourceLang&&o.snippetDetectedSourceLang){let e=o.snippetDetectedSourceLang,t=s.selectedTargetLanguage;["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),n(4,p=function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return Jp.get(n)}(e,t))}else n(4,p="");o.originalSnippet&&o.originalSnippet.trim()!==m?(n(16,m=o.originalSnippet.trim()),n(8,w=""),p&&C()?(n(15,g=p),T()):(n(7,v=""),x(),n(6,u=!1))):n(6,u=!1)}32784&e.$$.dirty&&p!=g&&p&&C()&&T()},[l,d,h,f,p,o,u,v,w,y,C,function(){mi({action:"dlTrackUiAction",payload:{uiAction:ve,nicheIntegration:h}}),l()},function(){p&&C()&&v&&!w&&n(6,u=!u)},function(){L(ft),mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"gdocs_customization"}})},_,g,m,s,()=>o.translatedDOMSnippet,()=>o.originalSnippet]}class gm extends Yo{constructor(e){super(),Xo(this,e,um,dm,_n,{closeTooltip:0,websiteSettings:1,platformBehaviour:2,textProcessingMode:3,setPositioningStatus:14})}}function pm(e){let t,n,o,i,s,a,r,l,c,d;return a=new gm({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],textProcessingMode:e[3],setPositioningStatus:e[7]}}),{c(){t=Bn("div"),n=Bn("div"),i=Fn(),s=Bn("div"),Vo(a.$$.fragment),Zn(n,"class","tooltip-drag-handle svelte-1ur3i4z"),Zn(n,"style",o=`max-height: ${e[4]}px`),Zn(s,"class","tooltip-body svelte-1ur3i4z"),Zn(t,"class","tooltip-wrapper svelte-1ur3i4z"),Zn(t,"style",e[6]),Zn(t,"draggable",e[5]),So((()=>e[17].call(t)))},m(o,u){Pn(o,t,u),Nn(t,n),Nn(t,i),Nn(t,s),Zo(a,s,null),r=to(t,e[17].bind(t)),l=!0,c||(d=[Wn(n,"mouseover",e[10]),Wn(n,"mouseout",e[11]),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[18]),Wn(t,"drag",e[9]),Wn(t,"dragstart",e[8])],c=!0)},p(e,[i]){(!l||16&i&&o!==(o=`max-height: ${e[4]}px`))&&Zn(n,"style",o);const s={};1&i&&(s.closeTooltip=e[0]),2&i&&(s.websiteSettings=e[1]),4&i&&(s.platformBehaviour=e[2]),8&i&&(s.textProcessingMode=e[3]),a.$set(s),(!l||64&i)&&Zn(t,"style",e[6]),(!l||32&i)&&Zn(t,"draggable",e[5])},i(e){l||(Bo(a.$$.fragment,e),l=!0)},o(e){Uo(a.$$.fragment,e),l=!1},d(e){e&&zn(t),Ko(a),r(),c=!1,hn(d)}}}function mm(e,t,n){let o;wn(e,ga,(e=>n(16,o=e))),_o("deepl_settings",ga);let i,s,{closeTooltip:a}=t,{websiteSettings:r}=t,{replaceElement:l}=t,{actualPosition:c}=t,{dragContainerTo:d}=t,{platformBehaviour:u=Be.default}=t,{textProcessingMode:g=Ue.translate}=t,p=!1,m=!1,h="visibility: hidden; opacity:0; height:0;";let f={x:0,y:0};mo((()=>{n(15,s=o.isLoggedIn),setTimeout((()=>{n(6,h="")}),100)}));return e.$$set=e=>{"closeTooltip"in e&&n(0,a=e.closeTooltip),"websiteSettings"in e&&n(1,r=e.websiteSettings),"replaceElement"in e&&n(13,l=e.replaceElement),"actualPosition"in e&&n(12,c=e.actualPosition),"dragContainerTo"in e&&n(14,d=e.dragContainerTo),"platformBehaviour"in e&&n(2,u=e.platformBehaviour),"textProcessingMode"in e&&n(3,g=e.textProcessingMode)},e.$$.update=()=>{var t,r;98305&e.$$.dirty&&!1===s&&!0===o.isLoggedIn&&a(),65536&e.$$.dirty&&n(12,(t=o.inlineTranslateTooltipPosition,c=l(i,t))),16&e.$$.dirty&&n(12,(r=i,c=m||u===Be.gdocs?l(r,o.inlineTranslateTooltipPosition):c))},[a,r,u,g,i,p,h,e=>{m=e},function(e){const t=e.target.getBoundingClientRect();f.x=e.clientX-t.left,f.y=e.clientY-t.top;const n=document.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.dataTransfer.setDragImage(n,0,0),function(){try{mi({action:"dlTrackInlineDragStart",payload:{nicheIntegration:u}})}catch(e){console.error(e)}}()},function(e){0!==e.y&&0!==e.x&&d({x:e.pageX-f.x,y:e.pageY-f.y})},function(){n(5,p=!0)},function(){n(5,p=!1)},c,l,d,s,o,function(){i=this.clientHeight,n(4,i)},()=>a()]}class hm extends Yo{constructor(e){super(),Xo(this,e,mm,pm,_n,{closeTooltip:0,websiteSettings:1,replaceElement:13,actualPosition:12,dragContainerTo:14,platformBehaviour:2,textProcessingMode:3})}}class fm extends HTMLElement{constructor(){super(),this.platformBehaviour=Be.default,this.textProcessingMode=Ue.translate,this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.selectionRange;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.dragContainerTo=this.dragContainerTo.bind(this)}createDOM(e,t,n){const{deepl_inline_ui:o}=D;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.platformBehaviour===Be.default&&(this.selectionRange=window.getSelection().getRangeAt(0));let i=e(this.selectionRange);this.shadowContainer.appendChild(this.container);let s="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),a=`position: absolute; top: ${i.y}px; left: ${i.x-200}px; z-index: ${o.z_index-100};`;switch(this.platformBehaviour){case Be.gdocs:a+="top: 600px; left: 10px;";break;case Be.default:default:a+=""}this.shadowContainer.style.cssText=s,this.container.style.cssText=a,this.mainComponent=new hm({target:this.container,props:{closeTooltip:t,websiteSettings:n,replaceElement:(t,n)=>{i=e(this.selectionRange);const o={coords:i,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.container.style};let s=n;const a=Gg(o),[r,l]=(e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]})(n);if(this.platformBehaviour===Be.gdocs){for(const e of l)if(Wg(e,o)){jg(e,o);break}}else for(const e of r)if(Wg(e,o)){s="middle"!==e?e:void 0,Fg(e,o);break}return{...a,current:s}},platformBehaviour:this.platformBehaviour,textProcessingMode:this.textProcessingMode,dragContainerTo:this.dragContainerTo}})}dragContainerTo(e){this.container.style.top=`${e.y}px`,this.container.style.left=`${e.x}px`}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}function _m(e){return"IFRAME"===e.nodeName.toUpperCase()?bm(e):e.ownerDocument===document?window:e.ownerDocument}function vm(e){return e.ownerDocument===document?document:e.ownerDocument}function wm(e){return"IFRAME"!==e.nodeName.toUpperCase()?e:bm(e).body}function bm(e){return e.contentDocument||e.contentWindow.document}function $m(e){if("IFRAME"===e.nodeName.toUpperCase())return window;if(e.ownerDocument!==document){const t=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;if(t)return t}return window}function ym(e){return"IFRAME"===e.nodeName.toUpperCase()?bm(e):e.ownerDocument===document?document:e.ownerDocument}function Cm(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{const n=vm(e).createRange();n.selectNodeContents(wm(e));const o=_m(e).getSelection();o.removeAllRanges(),o.addRange(n),t(o)}))}))}window.customElements.define("deepl-inline-translate-tooltip",fm);const xm=async(e,t)=>{const n=$m(e);await Ot(10);const o=new DataTransfer;o.setData("text/html",t.html),o.setData("text/plain",t.text),e.dispatchEvent(new n.ClipboardEvent("paste",{clipboardData:o,bubbles:!0,cancelable:!0})),o.clearData(),await Ot(10)},Tm=async(e,t)=>{const n=ym(e),o=$m(e),i=n.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,o,t.text),e.dispatchEvent(i),await Ot(10)},Lm=async(e,t)=>{const n=ym(e);e.value&&e.select(),n.execCommand("insertHTML",!1,t.html),await Ot(20),(e.value||""===e.value)&&(e.value=t.text)},Sm=(e,t,n)=>{let o=!0;return(e&&!t||!es(e,n)&&e===t||!es(t,n))&&(o=!1),o},km=(e,t)=>{const n=new($m(t).KeyboardEvent)(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},Em=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)},Mm=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),Im=e=>e.selectionStart<e.selectionEnd,Dm=async(e,t,n)=>{if(!Mm(e))return n||(e=>{Em("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),Em("mouseup",e)})(e),await(async(e,t,n)=>{n||e.focus();const o=wm(e).innerText,i=wm(e).value,s=[{method:xm,isSuccessful:()=>Sm(o,wm(e).innerText,t.text)},{method:Tm,isSuccessful:()=>Sm(o,wm(e).innerText,t.text)},{method:Lm,isSuccessful:()=>Sm(o,wm(e).innerText,t.text)||Sm(i,wm(e).value,t.text)}];for(const n of s)if(await n.method(e,t),n.isSuccessful())return;throw await Ot(1e3),mi({action:"dlTranslatedInputTextNotSet",payload:window.location.hostname}),new Error({error:nn})})(e,t,!0);if(Im(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function Om(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(Mm(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e);let o=!1;try{o=Nm(n,t)}catch(e){}return n.remove(),o}(e,n);{const t=_m(e).getSelection(),o=function(e){return"IFRAME"===e.nodeName.toUpperCase()?e.getBoundingClientRect():{top:0,left:0}}(e);if(t.rangeCount)return Nm(wm(e),n,o)}return!1}function Nm(e,t,n={top:0,left:0}){const o=_m(e).getSelection();for(const a of e.childNodes)if("#text"===a.nodeName.toLowerCase()){const e=o.getRangeAt(0).cloneRange();e.setStart(a,0),e.setEnd(a,a.textContent.length);const r=e.getClientRects();if(!r.length)continue;for(const e of r){const o={left:e.left+n.left,right:e.right+n.left,top:e.top+n.top,bottom:e.bottom+n.top};if(s=t,(i=o).left<=s.right&&i.right>=s.left&&i.top<=s.bottom&&i.bottom>=s.top)return!0}}else if(e.childNodes.length&&Nm(a,t,n))return!0;var i,s;return!1}const Am=[];window.onerror=function(e){/ResizeObserver/gm.test(e)&&Am.forEach((e=>e.resize.disconnect()))};const Rm=e=>"true"===e.contentEditable||"TEXTAREA"===e.nodeName&&e.rows>1;const Pm=({inputArea:e})=>{const t=Um(e);return{position:"absolute",top:t.top,left:t.left,width:t.width,height:t.height,isLanguageToolsPresent:!!document.querySelector("lt-toolbar"),isGrammarlyPresent:!!document.querySelector("grammarly-extension")}},zm=({inputArea:e})=>{const t=[];if(e)for(let n=e.parentElement;null!==n;n=n.parentElement)Hm(n)&&t.push(n);return t},Hm=e=>{const t=window.getComputedStyle(e),n=t.getPropertyValue("overflow-y"),o=t.getPropertyValue("overflow-x"),i=["hidden","scroll","auto"];return i.includes(n)||i.includes(o)},Bm=(e,t)=>{let n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left>=n.right||n.top>=n.bottom?null:n},Um=e=>{let t=e.getBoundingClientRect(),n={left:t.left,right:t.right,bottom:t.bottom,top:t.top};const o={top:0,left:0,right:0,bottom:0,width:0,height:0},i={top:0,left:0,right:window.innerWidth,bottom:window.innerHeight};for(let t=e.parentElement;null!==t&&t!==e.ownerDocument.body;t=t.parentElement){let e=t.getBoundingClientRect();const i=Bm(n,e);if(i)n=i;else if(Hm(t))return o}return n=Bm(n,i),n?{top:n.top,bottom:n.bottom,left:n.left,right:n.right,width:n.right-n.left,height:n.bottom-n.top}:o},qm=[{domain:"zendesk.com",selectors:['div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]'],uniqueDataAttributes:[{key:"testId",value:"ticket-rich-text-editor"}]}];const Fm="GENERAL_SETTINGS",jm="INPUT_SETTINGS",Wm=async e=>{let t=e.ownerDocument,n=_m(e).getSelection();const o=n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&(e.contains(n.baseNode)||function(e,t){return"IFRAME"===e.nodeName.toUpperCase()&&bm(e)===t.ownerDocument}(e,n.baseNode));o||(e.focus(),await Cm(e)),n=_m(e).getSelection();const{domElements:i,strings:s,container:a}=function({thisDocument:e,selection:t}){let n;t.getRangeAt?n=t.getRangeAt(0):(n=e.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="none",document.body.appendChild(i);const{domElements:s,strings:a}=hr(i);return{domElements:s,strings:a,container:i}}({thisDocument:t,selection:n});return{domElements:i,strings:s,container:a,isSubtextSelected:o}};const Gm=e=>{const{domElements:t,strings:n,cloneContainer:o}=function(e){const t=e.cloneNode(!0),n=document.createElement("div");n.appendChild(t),n.style.display="none",document.body.appendChild(n);const{domElements:o,strings:i}=hr(n);return{domElements:o,strings:i,cloneContainer:n}}(e);return{domElements:t,strings:n,cloneContainer:o}};async function Vm(e,t){const{isWriteRequest:n,targetLang:o,nicheIntegration:i,sourceLang:s,isHtml:a,clearInnerHTML:r}={isWriteRequest:!1,targetLang:null,nicheIntegration:null,sourceLang:null,isHtml:null,clearInnerHTML:null,...t};let l,c={},d=[];const u=!Mm(e);if(u)c=await Wm(e),d=c.strings.map((e=>({text:e})));else{const t=e.value;Im(e)&&(c.isSubtextSelected=!0),l=c.isSubtextSelected?t.substring(e.selectionStart,e.selectionEnd):t,d.push({text:l})}if(0===d.length)return;let g,p;if(s)g=s;else try{g=document.documentElement.lang}catch(e){console.error(e)}p=n?await mi({action:"dlRequestImproveWriting",payload:{requests:d,domainName:window.location.hostname,websiteLanguage:g,sourceLang:s,...a&&{isHtml:!0}}}):await mi({action:"dlRequestInputTranslation",payload:{requests:d,domainName:window.location.hostname,websiteLanguage:g,targetLang:o,platformBehavior:i}});const m={text:"",html:""};u?(_r({strings:p[0]?.texts,domElements:c.domElements}),m.text=c.container.innerText,m.html=c.container.innerHTML,c.container.remove()):(m.text=p[0].text,m.html=p[0].text),u&&!c.isSubtextSelected&&(e=>{const t=$m(e),n=vm(e);if(km("keydown",e)){const o=new t.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(o)&&n.execCommand("delete",!1)}km("keyup",e)})(e),r&&!c.isSubtextSelected&&(e.innerHTML=""),await Dm(e,m,c.isSubtextSelected)}function Zm(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-rj6qvq")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Km(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-rj6qvq")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Xm(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-rj6qvq")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Ym(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m;return o=new Xu({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),$$slots:{default:[Zm]},$$scope:{ctx:e}}}),a=new Xu({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_settings"),$$slots:{default:[Km]},$$scope:{ctx:e}}}),c=new Xu({props:{tooltip:e[4],$$slots:{default:[Xm]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("div"),Vo(o.$$.fragment),i=Fn(),s=Bn("div"),Vo(a.$$.fragment),r=Fn(),l=Bn("div"),Vo(c.$$.fragment),d=Fn(),u=Bn("div"),Zn(n,"class","dl-icon-circle dl-on-off svelte-rj6qvq"),Zn(s,"class","dl-icon-circle dl-settings svelte-rj6qvq"),Zn(l,"class","dl-icon-circle dl-icon svelte-rj6qvq"),Zn(l,"data-qa","input-translation-icon"),Zn(u,"class","dl-icon-circle dl-loading svelte-rj6qvq"),Zn(t,"class","dl-input-icon svelte-rj6qvq"),no(t,"is-input-translation-disabled",e[5]),no(t,"is-loading",e[3]),no(t,"is-minimized",e[2])},m(h,f){Pn(h,t,f),Nn(t,n),Zo(o,n,null),Nn(t,i),Nn(t,s),Zo(a,s,null),Nn(t,r),Nn(t,l),Zo(c,l,null),e[24](l),Nn(t,d),Nn(t,u),g=!0,p||(m=[Wn(n,"mouseenter",e[19]),Wn(n,"click",e[20]),Wn(s,"mouseenter",e[21]),Wn(s,"click",e[22]),Wn(l,"click",e[8]),Wn(l,"mouseenter",e[23])],p=!0)},p(e,n){const i={};1&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const s={};1&n[1]&&(s.$$scope={dirty:n,ctx:e}),a.$set(s);const r={};16&n[0]&&(r.tooltip=e[4]),1&n[1]&&(r.$$scope={dirty:n,ctx:e}),c.$set(r),(!g||32&n[0])&&no(t,"is-input-translation-disabled",e[5]),(!g||8&n[0])&&no(t,"is-loading",e[3]),(!g||4&n[0])&&no(t,"is-minimized",e[2])},i(e){g||(Bo(o.$$.fragment,e),Bo(a.$$.fragment,e),Bo(c.$$.fragment,e),g=!0)},o(e){Uo(o.$$.fragment,e),Uo(a.$$.fragment,e),Uo(c.$$.fragment,e),g=!1},d(n){n&&zn(t),Ko(o),Ko(a),Ko(c),e[24](null),p=!1,hn(m)}}}function Qm(e,t,n){let o,i;const s=vo("deepl_settings");wn(e,s,(e=>n(18,i=e)));let a,r,{inputArea:l}=t,{lockActiveElement:c}=t,{openSettings:d}=t,{closeSettings:u}=t,{hideOnboardingHighlighter:g}=t,{registerIconCallbacks:p}=t,{unregisterIconCallbacks:m}=t,{getActiveElement:h}=t,{setErrorMessage:f}=t,_=!1,v=!1,w="";const b=()=>{$()},$=()=>{n(2,_=Om(l,a))};async function y(e){await s.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),x()}const C=async(e,t,o)=>{const s=h();switch(e.action){case"dlTriggerTranslationShortcut":if(f(void 0),s!==l)return;try{mi({action:"dlTrackUseOfShortcut",payload:{shortcutType:he,location:U}})}catch(e){console.error(e)}if(i&&i.targetLanguageUserInput){n(3,v=!0);try{await Vm(l)}catch(e){f(e)}n(3,v=!1)}else d({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(s!==l)return;n(3,v=!0);try{d({fromShortcut:!0})}catch(e){f(e)}n(3,v=!1),o()}};async function x(){if(f(void 0),g(),i.targetLanguageUserInput&&"undefined"!=i.targetLanguageUserInput){u(),n(3,v=!0);try{await Vm(l),r||hi(O)}catch(e){f(e)}n(3,v=!1)}else d()}function T(e){mi({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host}})}mo((()=>{chrome.runtime.onMessage.addListener(C),p({processRefreshCycle:b,languageChanged:y,triggerTranslation:x})})),ho((()=>{chrome.runtime.onMessage.removeListener(C),m()}));return e.$$set=e=>{"inputArea"in e&&n(9,l=e.inputArea),"lockActiveElement"in e&&n(10,c=e.lockActiveElement),"openSettings"in e&&n(0,d=e.openSettings),"closeSettings"in e&&n(11,u=e.closeSettings),"hideOnboardingHighlighter"in e&&n(12,g=e.hideOnboardingHighlighter),"registerIconCallbacks"in e&&n(13,p=e.registerIconCallbacks),"unregisterIconCallbacks"in e&&n(14,m=e.unregisterIconCallbacks),"getActiveElement"in e&&n(15,h=e.getActiveElement),"setErrorMessage"in e&&n(16,f=e.setErrorMessage)},e.$$.update=()=>{if(262144&e.$$.dirty[0])if(i.targetLanguageUserInput&&"undefined"!=i.targetLanguageUserInput){let e;mi({action:"dlCheckCommandShortcuts"}).then((t=>{e=t?t.filter((e=>e.name==he))[0].shortcut:"",e?(e=`(${e})`,r=!0):r=!1,n(4,w=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else n(4,w=chrome.i18n.getMessage("input_translation_tooltip_translate_to_unknown"));var t,s;262144&e.$$.dirty[0]&&n(5,o=!i.enableInputTranslation||(t=window.location.host,s=window.location.href,Bc(t,E)||Bc(s,M))||i.blacklistDomainsForWriting.includes(window.location.host)||i.isGmailEnabled&&Hc())},[d,a,_,v,w,o,s,T,()=>{c(),i.targetLanguageUserInput?x():d()},l,c,u,g,p,m,h,f,y,i,()=>T(q),()=>d({page:jm}),()=>T(q),()=>d({page:Fm}),()=>T(U),function(e){$o[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class Jm extends Yo{constructor(e){super(),Xo(this,e,Qm,Ym,_n,{inputArea:9,lockActiveElement:10,openSettings:0,closeSettings:11,hideOnboardingHighlighter:12,registerIconCallbacks:13,unregisterIconCallbacks:14,getActiveElement:15,setErrorMessage:16,onLanguageChanged:17},null,[-1,-1])}get onLanguageChanged(){return this.$$.ctx[17]}}function eh(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Bn("div"),s=Fn(),a=Bn("div"),r=Bn("div"),r.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,l=Fn(),c=Bn("div"),c.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,d=Fn(),u=Bn("div"),g=Fn(),p=Bn("button"),Zn(i,"class","logo svelte-1pcvyio"),Zn(r,"class","headline svelte-1pcvyio"),Zn(a,"class","text-wrapper svelte-1pcvyio"),Zn(o,"class","content svelte-1pcvyio"),Zn(u,"class","logo-picture svelte-1pcvyio"),Zn(p,"class","close-icon svelte-1pcvyio"),Zn(n,"class",m=Tn(`body body__${e[0]}`)+" svelte-1pcvyio"),Zn(t,"class",h="container container__"+e[0]+" svelte-1pcvyio"),So((()=>e[11].call(t)))},m(m,h){Pn(m,t,h),Nn(t,n),Nn(n,o),Nn(o,i),Nn(o,s),Nn(o,a),Nn(a,r),Nn(a,l),Nn(a,c),Nn(n,d),Nn(n,u),Nn(n,g),Nn(n,p),f=to(t,e[11].bind(t)),w=!0,b||($=Wn(p,"click",e[10]),b=!0)},p(e,o){(!w||1&o&&m!==(m=Tn(`body body__${e[0]}`)+" svelte-1pcvyio"))&&Zn(n,"class",m),(!w||1&o&&h!==(h="container container__"+e[0]+" svelte-1pcvyio"))&&Zn(t,"class",h)},i(e){w||(So((()=>{v&&v.end(1),_=Fo(t,ei,{x:100,duration:1e3}),_.start()})),w=!0)},o(e){_&&_.invalidate(),v=jo(t,ei,{x:100,duration:1e3}),w=!1},d(e){e&&zn(t),f(),e&&v&&v.end(),b=!1,$()}}}function th(e){let t,n,o=e[1]&&eh(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[1]?o?(o.p(e,n),2&n&&Bo(o,1)):(o=eh(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function nh(t,n,o){let{onClose:i}=n,{icon:s}=n,{position:a="top"}=n,{registerHighlighterCallbacks:r}=n,{unregisterHighlighterCallbacks:l}=n,c={top:0,bottom:0,left:0,right:0},d={height:0,width:0},u=140,g=387;const p=()=>{if(s){const e=s.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==c[n]&&(t[n]=e[n]);Object.keys(t).length&&o(8,c={...c,...t});let n={};window.innerHeight!==d.height&&(n.height=window.innerHeight),window.innerWidth!==d.width&&(n.width=window.innerWidth),Object.keys(n).length&&o(9,d={...d,...n})}else o(8,c={top:0,bottom:0,left:0,right:0})};function m(){i(Pe)}mo((async()=>{r({recalculateHighlighterCoords:p});try{mi({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}}),p()}catch(e){console.error(e)}})),ho((()=>{l()}));return t.$$set=e=>{"onClose"in e&&o(5,i=e.onClose),"icon"in e&&o(1,s=e.icon),"position"in e&&o(0,a=e.position),"registerHighlighterCallbacks"in e&&o(6,r=e.registerHighlighterCallbacks),"unregisterHighlighterCallbacks"in e&&o(7,l=e.unregisterHighlighterCallbacks)},t.$$.update=()=>{780&t.$$.dirty&&o(0,a=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!s)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:c,viewportSize:d,highlighterHeight:u,highlighterWidth:g}))},[a,s,u,g,m,i,r,l,c,d,()=>m(),function(){u=this.clientHeight,g=this.clientWidth,o(2,u),o(3,g)}]}class oh extends Yo{constructor(e){super(),Xo(this,e,nh,th,_n,{onClose:5,icon:1,position:0,registerHighlighterCallbacks:6,unregisterHighlighterCallbacks:7})}}function ih(e){let t,n,o,i,s;return i=new Wa({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),i.$on("selection",e[5]),{c(){t=Bn("p"),n=qn(e[0]),o=Fn(),Vo(i.$$.fragment),Zn(t,"class","font-bold svelte-1bwyi2r")},m(e,a){Pn(e,t,a),Nn(t,n),Pn(e,o,a),Zo(i,e,a),s=!0},p(e,t){(!s||1&t)&&Kn(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){s||(Bo(i.$$.fragment,e),s=!0)},o(e){Uo(i.$$.fragment,e),s=!1},d(e){e&&zn(t),e&&zn(o),Ko(i,e)}}}function sh(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&ih(e);return{c(){t=Bn("div"),o&&o.c()},m(e,i){Pn(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&Bo(o,1)):(o=ih(e),o.c(),Bo(o,1),o.m(t,null)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){e&&zn(t),o&&o.d()}}}function ah(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(2,o=e)));const s=fo();let{subHeaderText:a=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:r}=t;function l(e){s("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,a=e.subHeaderText),"fromShortcut"in e&&n(1,r=e.fromShortcut)},[a,r,o,i,l,e=>l(e.detail.selectedOption)]}class rh extends Yo{constructor(e){super(),Xo(this,e,ah,sh,_n,{subHeaderText:0,fromShortcut:1})}}function lh(e){let t,n,o,i,s,a,r,l,c;const d=e[4].default,u=bn(d,e,e[3],null);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=Fn(),s=Bn("div"),u&&u.c(),Zn(o,"type","button"),Zn(o,"class","close-icon svelte-1ux16nh"),Zn(n,"class","header svelte-1ux16nh"),Zn(s,"class","content"),Zn(t,"class","container svelte-1ux16nh"),So((()=>e[6].call(t)))},m(d,g){Pn(d,t,g),Nn(t,n),Nn(n,o),Nn(t,i),Nn(t,s),u&&u.m(s,null),a=to(t,e[6].bind(t)),r=!0,l||(c=Wn(o,"click",e[5]),l=!0)},p(e,[t]){u&&u.p&&(!r||8&t)&&Cn(u,d,e,e[3],r?yn(d,e[3],t,null):xn(e[3]),null)},i(e){r||(Bo(u,e),r=!0)},o(e){Uo(u,e),r=!1},d(e){e&&zn(t),u&&u.d(e),a(),l=!1,c()}}}function ch(e,t,n){let{$$slots:o={},$$scope:i}=t;const s=fo();let a,r;return e.$$set=e=>{"$$scope"in e&&n(3,i=e.$$scope)},e.$$.update=()=>{3&e.$$.dirty&&s("resize",{offsetHeight:a,offsetWidth:r})},[a,r,s,i,o,()=>s("close"),function(){a=this.offsetHeight,r=this.offsetWidth,n(0,a),n(1,r)}]}class dh extends Yo{constructor(e){super(),Xo(this,e,ch,lh,_n,{})}}function uh(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return s=new Og({props:{name:"disable_input_translation",id:be,value:be,cssClassName:"radio--with-border",checked:e[6]===be,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),s.$on("change",e[14]),r=new Og({props:{name:"disable_input_translation",id:$e,value:$e,cssClassName:"radio--with-border",checked:e[6]===$e,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),r.$on("change",e[14]),{c(){t=Bn("div"),n=Bn("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=Fn(),i=Bn("div"),Vo(s.$$.fragment),a=Fn(),Vo(r.$$.fragment),l=Fn(),c=Bn("div"),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=Fn(),g=Bn("button"),p=qn(v),Zn(n,"class","font-bold svelte-1ogsz17"),Zn(i,"class","option-container svelte-1ogsz17"),Zn(d,"class","link svelte-1ogsz17"),Zn(g,"class",m=Tn("btn btn-primary "+(e[6]?"":"disabled"))+" svelte-1ogsz17"),Zn(g,"data-qa","input-translation_hide-icon_accept"),Zn(c,"class","action-container svelte-1ogsz17"),Zn(t,"class","dl-widget svelte-1ogsz17"),Zn(t,"data-qa","dl-input-translate-turnoff-settings")},m(m,v){Pn(m,t,v),Nn(t,n),Nn(t,o),Nn(t,i),Zo(s,i,null),Nn(i,a),Zo(r,i,null),Nn(t,l),Nn(t,c),Nn(c,d),Nn(c,u),Nn(c,g),Nn(g,p),h=!0,f||(_=[Wn(d,"click",(function(){fn(e[1]===jm?e[9]:e[11])&&(e[1]===jm?e[9]:e[11]).apply(this,arguments)})),Wn(g,"click",e[13])],f=!0)},p(t,n){e=t;const o={};64&n&&(o.checked=e[6]===be),s.$set(o);const i={};64&n&&(i.checked=e[6]===$e),r.$set(i),(!h||64&n&&m!==(m=Tn("btn btn-primary "+(e[6]?"":"disabled"))+" svelte-1ogsz17"))&&Zn(g,"class",m)},i(e){h||(Bo(s.$$.fragment,e),Bo(r.$$.fragment,e),h=!0)},o(e){Uo(s.$$.fragment,e),Uo(r.$$.fragment,e),h=!1},d(e){e&&zn(t),Ko(s),Ko(r),f=!1,hn(_)}}}function gh(e){let t,n,o,i,s;n=new rh({props:{fromShortcut:e[2]}}),n.$on("languageChanged",e[22]);let a=e[7]&&e[7].targetLanguageUserInput&&ph(e);return{c(){t=Bn("div"),Vo(n.$$.fragment),o=Fn(),a&&a.c(),i=jn(),Zn(t,"class","dl-widget svelte-1ogsz17")},m(e,r){Pn(e,t,r),Zo(n,t,null),Pn(e,o,r),a&&a.m(e,r),Pn(e,i,r),s=!0},p(e,t){const o={};4&t&&(o.fromShortcut=e[2]),n.$set(o),e[7]&&e[7].targetLanguageUserInput?a?a.p(e,t):(a=ph(e),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(e){s||(Bo(n.$$.fragment,e),s=!0)},o(e){Uo(n.$$.fragment,e),s=!1},d(e){e&&zn(t),Ko(n),e&&zn(o),a&&a.d(e),e&&zn(i)}}}function ph(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("input_translation_label_show_icon_switch")}`,i=Fn(),s=Bn("span"),a=Fn(),r=Bn("div"),l=Bn("div"),c=Bn("div"),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,u=Fn(),g=Bn("span"),Zn(o,"class","svelte-1ogsz17"),Zn(s,"class","icon icon-toggle-on svelte-1ogsz17"),Zn(n,"class","link-input-settings svelte-1ogsz17"),Zn(n,"data-qa","deepl-input-translate-hide-extension"),Zn(t,"class","dl-widget svelte-1ogsz17"),Zn(g,"class","icon icon-external-link  svelte-1ogsz17"),Zn(c,"class","link link-settings svelte-1ogsz17"),Zn(c,"data-qa","dl-input-translate-open-settings-page"),Zn(l,"class","action-container svelte-1ogsz17"),Zn(r,"class","dl-widget svelte-1ogsz17")},m(h,f){Pn(h,t,f),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Pn(h,a,f),Pn(h,r,f),Nn(r,l),Nn(l,c),Nn(c,d),Nn(c,u),Nn(c,g),p||(m=[Wn(n,"click",e[10]),Wn(c,"click",e[12])],p=!0)},p:un,d(e){e&&zn(t),e&&zn(a),e&&zn(r),p=!1,hn(m)}}}function mh(e){let t,n,o,i;const s=[gh,uh],a=[];function r(e,t){return e[5]===Fm?0:e[5]===jm?1:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,i){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(zo(),Uo(a[l],1,1,(()=>{a[l]=null})),Ho()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Bo(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function hh(e){let t,n,o,i,s;return n=new dh({props:{$$slots:{default:[mh]},$$scope:{ctx:e}}}),n.$on("close",e[23]),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class",o="settings-container settings-container__"+e[0]+" svelte-1ogsz17"),So((()=>e[24].call(t)))},m(o,a){Pn(o,t,a),Zo(n,t,null),i=to(t,e[24].bind(t)),s=!0},p(e,[i]){const a={};1073742054&i&&(a.$$scope={dirty:i,ctx:e}),n.$set(a),(!s||1&i&&o!==(o="settings-container settings-container__"+e[0]+" svelte-1ogsz17"))&&Zn(t,"class",o)},i(e){s||(Bo(n.$$.fragment,e),s=!0)},o(e){Uo(n.$$.fragment,e),s=!1},d(e){e&&zn(t),Ko(n),i()}}}function fh(e,t,n){let o;const i=fo();let s=Fm;const a=vo("deepl_settings");wn(e,a,(e=>n(7,o=e)));let{startPage:r}=t,{fromShortcut:l=!1}=t,{icon:c}=t,{position:d="top"}=t,{registerSettingsCallbacks:u}=t,{unregisterSettingsCallbacks:g}=t,{closeSettings:p}=t,m={top:0,bottom:0,left:0,right:0},h={height:0,width:0},f=140,_=387,v="";const w=()=>{if(c){const e=c.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==m[n]&&(t[n]=e[n]);Object.keys(t).length&&n(20,m={...m,...t});let o={};window.innerHeight!==h.height&&(o.height=window.innerHeight),window.innerWidth!==h.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(21,h={...h,...o})}else n(20,m={top:0,bottom:0,left:0,right:0})};function b(e){n(5,s=e)}return mo((()=>{w(),u({recalculateSettingsCoords:w})})),ho((()=>{g()})),e.$$set=e=>{"startPage"in e&&n(1,r=e.startPage),"fromShortcut"in e&&n(2,l=e.fromShortcut),"icon"in e&&n(15,c=e.icon),"position"in e&&n(0,d=e.position),"registerSettingsCallbacks"in e&&n(16,u=e.registerSettingsCallbacks),"unregisterSettingsCallbacks"in e&&n(17,g=e.unregisterSettingsCallbacks),"closeSettings"in e&&n(18,p=e.closeSettings)},e.$$.update=()=>{3145752&e.$$.dirty&&n(0,d=(({iconCoordinates:e,viewportSize:t,popupHeight:n,popupWidth:o})=>{if(!c)return"top";const i={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(i))if(t)return e;return"top"})({iconCoordinates:m,viewportSize:h,popupHeight:f,popupWidth:_})),2&e.$$.dirty&&r&&n(5,s=r)},[d,r,l,f,_,s,v,o,a,function(){i("close")},function(){b(jm)},function(){n(6,v=""),b(Fm)},function(){mi({action:"dlOpenInternalPage",payload:{destination:Ys.settings_writing}})},function(){if(!v)return;switch(v){case $e:a.set({enableInputTranslation:!1}),mi({action:"dlTrackSettingChanged",payload:{settingType:$e,domainName:window.location.hostname,uiFunction:ye,uiLocation:F}}),p();break;case be:!function(){let e=o.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),a.set({blacklistDomainsForWriting:e}),mi({action:"dlTrackSettingChanged",payload:{settingType:be,domainName:window.location.hostname,uiFunction:ye,uiLocation:F}}));p()}()}let e=qc(window.location.hostname,["www."]);mi({action:"dlSendNotification",payload:{type:N,options:{theme:P.green_theme,currentDomain:e,saveAction:v,settingsPageURL:Ys.settings_writing}}})},function(e){n(6,v=e.currentTarget.value)},c,u,g,p,w,m,h,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},function(){f=this.clientHeight,_=this.clientWidth,n(3,f),n(4,_)}]}class _h extends Yo{constructor(e){super(),Xo(this,e,fh,hh,_n,{startPage:1,fromShortcut:2,icon:15,position:0,registerSettingsCallbacks:16,unregisterSettingsCallbacks:17,closeSettings:18,recalculateSettingsCoords:19})}get recalculateSettingsCoords(){return this.$$.ctx[19]}}function vh(e){let t,n,o,i,s;return n=new qs({props:{error:e[1],config:{small:!0},close:e[2]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class",o="error-container error-container__"+e[0]+" svelte-79t8l9"),So((()=>e[11].call(t)))},m(o,a){Pn(o,t,a),Zo(n,t,null),i=to(t,e[11].bind(t)),s=!0},p(e,[i]){const a={};2&i&&(a.error=e[1]),4&i&&(a.close=e[2]),n.$set(a),(!s||1&i&&o!==(o="error-container error-container__"+e[0]+" svelte-79t8l9"))&&Zn(t,"class",o)},i(e){s||(Bo(n.$$.fragment,e),s=!0)},o(e){Uo(n.$$.fragment,e),s=!1},d(e){e&&zn(t),Ko(n),i()}}}function wh(e,t,n){let{errorMessage:o}=t,{icon:i}=t,{position:s="top"}=t,{registerErrorCallbacks:a}=t,{unregisterErrorCallbacks:r}=t,{close:l}=t,c=140,d=387,u={top:0,bottom:0,left:0,right:0},g={height:0,width:0};const p=()=>{if(i){const e=i.getBoundingClientRect();let t={};for(const n of["top","bottom","left","right"])e[n]!==u[n]&&(t[n]=e[n]);Object.keys(t).length&&n(9,u={...u,...t});let o={};window.innerHeight!==g.height&&(o.height=window.innerHeight),window.innerWidth!==g.width&&(o.width=window.innerWidth),Object.keys(o).length&&n(10,g={...g,...o})}else n(9,u={top:0,bottom:0,left:0,right:0})};return mo((()=>{p(),a({recalculateErrorCoords:p})})),ho((()=>{r()})),e.$$set=e=>{"errorMessage"in e&&n(1,o=e.errorMessage),"icon"in e&&n(5,i=e.icon),"position"in e&&n(0,s=e.position),"registerErrorCallbacks"in e&&n(6,a=e.registerErrorCallbacks),"unregisterErrorCallbacks"in e&&n(7,r=e.unregisterErrorCallbacks),"close"in e&&n(2,l=e.close)},e.$$.update=()=>{1560&e.$$.dirty&&n(0,s=(({iconCoordinates:e,viewportSize:t,highlighterHeight:n,highlighterWidth:o})=>{if(!i)return"top";const s={top:e.top>n,bottom:t.height-e.bottom>n,right:t.width-e.right>o,left:e.left>o};for(const[e,t]of Object.entries(s))if(t)return e;return"top"})({iconCoordinates:u,viewportSize:g,popupHeight:c,popupWidth:d}))},[s,o,l,c,d,i,a,r,p,u,g,function(){c=this.clientHeight,d=this.clientWidth,n(3,c),n(4,d)}]}class bh extends Yo{constructor(e){super(),Xo(this,e,wh,vh,_n,{errorMessage:1,icon:5,position:0,registerErrorCallbacks:6,unregisterErrorCallbacks:7,close:2,recalculateErrorCoords:8})}get recalculateErrorCoords(){return this.$$.ctx[8]}}function $h(e){let t,n,o;return{c(){t=Bn("div")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click_outside",e[13]),Sn(cn.call(null,t,{isShadow:!0}))],n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,hn(o)}}}function yh(e){let t,n,o,i,s,a,r,l,c,d,u,g;o=new Jm({props:{inputArea:e[1],lockActiveElement:e[14],openSettings:e[17],closeSettings:e[18],hideOnboardingHighlighter:e[15],registerIconCallbacks:e[19],unregisterIconCallbacks:e[20],getActiveElement:e[16],setErrorMessage:e[30]}});let p=e[3]&&Ch(e),m=e[4]&&xh(e),h=e[7]&&Th(e);return{c(){t=Bn("div"),n=Bn("div"),Vo(o.$$.fragment),i=Fn(),p&&p.c(),s=Fn(),m&&m.c(),a=Fn(),h&&h.c(),Zn(n,"class","dl-input-placeholder svelte-16rwmnb"),no(n,"reduced-space",!e[10]),no(n,"other-extension-present",e[0].isLanguageToolsPresent||e[0].isGrammarlyPresent),Zn(t,"class","dl-input-positioner svelte-16rwmnb"),Zn(t,"style",c=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")),no(t,"debug-mode",Sh)},m(r,l){Pn(r,t,l),Nn(t,n),Zo(o,n,null),Nn(n,i),p&&p.m(n,null),Nn(n,s),m&&m.m(n,null),Nn(n,a),h&&h.m(n,null),e[34](n),d=!0,u||(g=[Sn(cn.call(null,n,{isShadow:!0})),Wn(n,"click_outside",e[33]),Wn(n,"click",e[14])],u=!0)},p(e,i){const r={};2&i[0]&&(r.inputArea=e[1]),128&i[0]&&(r.setErrorMessage=e[30]),o.$set(r),e[3]?p?(p.p(e,i),8&i[0]&&Bo(p,1)):(p=Ch(e),p.c(),Bo(p,1),p.m(n,s)):p&&(zo(),Uo(p,1,1,(()=>{p=null})),Ho()),e[4]?m?(m.p(e,i),16&i[0]&&Bo(m,1)):(m=xh(e),m.c(),Bo(m,1),m.m(n,a)):m&&(zo(),Uo(m,1,1,(()=>{m=null})),Ho()),e[7]?h?(h.p(e,i),128&i[0]&&Bo(h,1)):(h=Th(e),h.c(),Bo(h,1),h.m(n,null)):h&&(zo(),Uo(h,1,1,(()=>{h=null})),Ho()),(!d||1024&i[0])&&no(n,"reduced-space",!e[10]),(!d||1&i[0])&&no(n,"other-extension-present",e[0].isLanguageToolsPresent||e[0].isGrammarlyPresent),(!d||1&i[0]&&c!==(c=[`top: ${e[0].top}px;`,`left: ${e[0].left}px;`,`height: ${e[0].height}px;`,`width: ${e[0].width}px;`,`position: ${e[0].position};`].join(" ")))&&Zn(t,"style",c)},i(e){d||(Bo(o.$$.fragment,e),Bo(p),Bo(m),Bo(h),So((()=>{l&&l.end(1),r=Fo(n,Jo,{duration:100}),r.start()})),d=!0)},o(e){Uo(o.$$.fragment,e),Uo(p),Uo(m),Uo(h),r&&r.invalidate(),l=jo(n,Jo,{duration:150}),d=!1},d(n){n&&zn(t),Ko(o),p&&p.d(),m&&m.d(),h&&h.d(),e[34](null),n&&l&&l.end(),u=!1,hn(g)}}}function Ch(e){let t,n,o;return n=new oh({props:{onClose:e[15],position:"top",registerHighlighterCallbacks:e[25],unregisterHighlighterCallbacks:e[26],icon:e[2]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","dl-onboarding-highlighter svelte-16rwmnb")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p(e,t){const o={};4&t[0]&&(o.icon=e[2]),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function xh(e){let t,n;return t=new _h({props:{icon:e[2],startPage:e[5],fromShortcut:e[6],position:"top",registerSettingsCallbacks:e[21],unregisterSettingsCallbacks:e[22],closeSettings:e[18]}}),t.$on("languageChanged",e[31]),t.$on("close",e[18]),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.icon=e[2]),32&n[0]&&(o.startPage=e[5]),64&n[0]&&(o.fromShortcut=e[6]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Th(e){let t,n;return t=new bh({props:{errorMessage:e[7],icon:e[2],position:"top",registerErrorCallbacks:e[23],unregisterErrorCallbacks:e[24],close:e[32]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};128&n[0]&&(o.errorMessage=e[7]),4&n[0]&&(o.icon=e[2]),128&n[0]&&(o.close=e[32]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Lh(e){let t,n,o,i;const s=[yh,$h],a=[];function r(e,t){return e[9]&&e[0]&&e[11]?0:1}return t=r(e),n=a[t]=s[t](e),{c(){n.c(),o=jn()},m(e,n){a[t].m(e,n),Pn(e,o,n),i=!0},p(e,i){let l=t;t=r(e),t===l?a[t].p(e,i):(zo(),Uo(a[l],1,1,(()=>{a[l]=null})),Ho(),n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Bo(n,1),n.m(o.parentNode,o))},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){a[t].d(e),e&&zn(o)}}}const Sh=!1;function kh(t,n,o){let i,s,a;const r=vo("deepl_settings");wn(t,r,(e=>o(43,a=e)));const l=20,c=40;let d,u,g,p,m,h,f,_,v,w,b=!1,$=!1,y=!1,C=!1,x=!1,{trackInputInjectionIfNecessary:T}=n,{registerPositionerCallbacks:L}=n,{unregisterPositionerCallbacks:S}=n,k=[],E={top:0,left:0,height:0,width:0,position:"absolute",isLanguageToolsPresent:!1,isGrammarlyPresent:!1},M=!1;const I=()=>{o(1,d=document.activeElement);const e=(t=window.location.href,qm.find((({domain:e})=>{const n=e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");return new RegExp(n).test(t)}))||null);var t;if(e?.uniqueDataAttributes&&e.uniqueDataAttributes.length>0)for(let t of e.uniqueDataAttributes)if(d.dataset[t.key]===t.value)return;if(e?.selectors&&e.selectors.length>0)for(let t of e.selectors){const e=document.querySelector(t),n=yr(e),o=yr(d),i=n.toString()===o.toString();if(e===d||e.isSameNode(d)||i)return}k=zm({inputArea:d}),q(),T(),N()},D=()=>{A(),o(7,p=void 0),F(),k=[],o(1,d=void 0)},O=()=>{b=!1},N=()=>{if(!a.isInputHighlighterShown&&!Hc()){Ln(r,a.isInputHighlighterShown=!0,a),o(3,$=!0);try{mi({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}},A=(e=He)=>{o(3,$=!1);try{mi({action:"dltrackCloseInputHighlighter",payload:{event:e}})}catch(e){console.error(e)}},R=()=>{z(),M&&(H(),w&&w(),$&&h&&h(),y&&f&&f(),_&&_())},P=(e=document.activeElement)=>{const t=e.contentDocument;return t&&t.activeElement?P(t.activeElement):e},z=()=>{const e=P(),t=!b&&e!==d,n=e&&Rm(e),o=d&&!d.isConnected;!t||n||x?(x=!1,t?(D(),n&&I()):o&&D()):x=!0},H=()=>{o(0,E=Pm({inputArea:d}))},B=()=>{H()},q=()=>{o(9,M=!0),H();for(const e of k)e.addEventListener("scroll",B);window.addEventListener("scroll",B)},F=()=>{o(9,M=!1);for(const e of k)e.removeEventListener("scroll",B);window.removeEventListener("scroll",B),G()},j=()=>{m&&m()},W=({page:e,fromShortcut:t=!1}={})=>{o(5,g=e),o(6,C=t),y||(o(4,y=!0),mi({action:"dlTrackInlineSettingOpened",payload:{uiFunction:ye,uiLocation:U}}))},G=()=>{y&&o(4,y=!1)};mo((()=>{k=zm({inputArea:d}),L({processRefreshCycle:R,triggerTranslation:j,openSettings:W})})),ho((()=>{for(const e of k)e.removeEventListener("scroll",B);S()}));return t.$$set=e=>{"trackInputInjectionIfNecessary"in e&&o(27,T=e.trackInputInjectionIfNecessary),"registerPositionerCallbacks"in e&&o(28,L=e.registerPositionerCallbacks),"unregisterPositionerCallbacks"in e&&o(29,S=e.unregisterPositionerCallbacks)},t.$$.update=()=>{1&t.$$.dirty[0]&&o(11,i=E.height>=l),1&t.$$.dirty[0]&&o(10,s=E.height>=c)},[E,d,u,$,y,g,C,p,v,M,s,i,r,O,()=>{b=!0},A,P,W,G,({processRefreshCycle:e,languageChanged:t,triggerTranslation:n})=>{w=e,o(8,v=t),m=n},()=>{w=void 0,o(8,v=void 0),m=void 0},({recalculateSettingsCoords:e})=>{f=e},()=>{f=void 0},({recalculateErrorCoords:e})=>{_=e},()=>{_=void 0},({recalculateHighlighterCoords:e})=>{h=e},()=>{h=void 0},T,L,S,e=>{o(7,p=e)},e=>v&&v(e.detail.lang),()=>{o(7,p=void 0)},()=>{O(),G()},function(e){$o[e?"unshift":"push"]((()=>{u=e,o(2,u)}))}]}class Eh extends Yo{constructor(e){super(),Xo(this,e,kh,Lh,_n,{trackInputInjectionIfNecessary:27,registerPositionerCallbacks:28,unregisterPositionerCallbacks:29},null,[-1,-1])}}function Mh(e){let t,n,o;return n=new Eh({props:{trackInputInjectionIfNecessary:e[0],registerPositionerCallbacks:e[1],unregisterPositionerCallbacks:e[2]}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","dl-input-translation-container svelte-ju4595")},m(e,i){Pn(e,t,i),Zo(n,t,null),o=!0},p:un,i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n)}}}function Ih(e,t,n){let o,i,s,a;_o("deepl_settings",ga),_o("deepl_website_settings",xa);let r=!0,l=!1;const c=()=>{o&&o()},d=async e=>{if("dlChangeActiveTabStatus"===e.action)n(5,r=e.payload.isActive)},u=()=>{a&&clearInterval(a),a=setInterval(c,300)},g=()=>{clearInterval(a)};return mo((()=>{u(),chrome.runtime.onMessage.addListener(d)})),ho((()=>{a&&g(),chrome.runtime.onMessage.removeListener(d)})),e.$$.update=()=>{32&e.$$.dirty&&(r?u():g())},[()=>{l||(l=!0,mi({action:"dlTrackInputTranslationInjection",payload:window.location.host}))},({processRefreshCycle:e,triggerTranslation:t,openSettings:n})=>{o=e,i=t,s=n},()=>{o=void 0,i=void 0,s=void 0},()=>{i&&i()},()=>{s&&s({fromShortcut:!1})},r]}class Dh extends Yo{constructor(e){super(),Xo(this,e,Ih,Mh,_n,{triggerTranslation:3,openSettingsFromShortcut:4})}get triggerTranslation(){return this.$$.ctx[3]}get openSettingsFromShortcut(){return this.$$.ctx[4]}}class Oh extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.triggerTranslation=this.triggerTranslation.bind(this),this.openSettingsFromShortcut=this.openSettingsFromShortcut.bind(this)}createDOM(){this.mainComponent=new Dh({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})}triggerTranslation(){this.mainComponent.triggerTranslation()}openSettingsFromShortcut(){this.mainComponent.openSettingsFromShortcut()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Nh(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_title")}`,o=Fn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_content")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Nn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function Ah(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_title")}`,o=Fn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_content")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Nn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function Rh(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=Fn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Nn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function Ph(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=Fn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_2")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Nn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function zh(e){let t,n,o,i;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_line_1")}`,n=Fn(),o=Bn("p"),i=Bn("strong"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_line_2")}`,Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44"),Zn(o,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Pn(e,n,s),Pn(e,o,s),Nn(o,i)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function Hh(e){let t;function n(e,t){return e[0]===Re.initial?Fh:e[0]===Re.review?qh:e[0]===Re.gmail?Uh:e[0]===Re.gslides?Bh:void 0}let o=n(e),i=o&&o(e);return{c(){t=Bn("div"),i&&i.c(),Zn(t,"class","buttons svelte-rl2s44")},m(e,n){Pn(e,t,n),i&&i.m(t,null)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&zn(t),i&&i.d()}}}function Bh(e){let t,n,o,i;return{c(){t=Bn("button"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("ui_gslides_feedback_cta")}`,Zn(t,"class","svelte-rl2s44")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",e[6]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function Uh(e){let t,n,o,i;return{c(){t=Bn("button"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_gmail_feedback_button")}`,Zn(t,"class","svelte-rl2s44")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",e[5]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function qh(e){let t,n,o,i;return{c(){t=Bn("button"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,Zn(t,"class","svelte-rl2s44")},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",e[4]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function Fh(e){let t,n,o,i,s,a,r,l,c,d,u;return{c(){t=Bn("button"),n=Bn("i"),o=Fn(),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,s=Fn(),a=Bn("button"),r=Bn("i"),l=Fn(),c=Bn("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,Zn(n,"class","icon-bad svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(r,"class","icon-good svelte-rl2s44"),Zn(a,"class","svelte-rl2s44")},m(g,p){Pn(g,t,p),Nn(t,n),Nn(t,o),Nn(t,i),Pn(g,s,p),Pn(g,a,p),Nn(a,r),Nn(a,l),Nn(a,c),d||(u=[Wn(t,"click",e[2]),Wn(a,"click",e[3])],d=!0)},p:un,d(e){e&&zn(t),e&&zn(s),e&&zn(a),d=!1,hn(u)}}}function jh(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m=[Re.initial,Re.review,Re.gmail,Re.gslides].includes(e[0]);function h(e,t){return e[0]===Re.initial?zh:e[0]===Re.review?Ph:e[0]===Re.feedback?Rh:e[0]===Re.gmail?Ah:e[0]===Re.gslides?Nh:void 0}let f=h(e),_=f&&f(e),v=m&&Hh(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Fn(),s=Bn("div"),a=Bn("button"),r=Fn(),_&&_.c(),l=Fn(),v&&v.c(),Zn(o,"class","logo svelte-rl2s44"),Zn(a,"class","close-icon svelte-rl2s44"),Zn(s,"class","content svelte-rl2s44"),Zn(n,"class","body svelte-rl2s44"),Zn(t,"class","container svelte-rl2s44")},m(c,d){Pn(c,t,d),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(s,a),Nn(s,r),_&&_.m(s,null),Nn(t,l),v&&v.m(t,null),u=!0,g||(p=Wn(a,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),g=!0)},p(n,[o]){f===(f=h(e=n))&&_?_.p(e,o):(_&&_.d(1),_=f&&f(e),_&&(_.c(),_.m(s,null))),1&o&&(m=[Re.initial,Re.review,Re.gmail,Re.gslides].includes(e[0])),m?v?v.p(e,o):(v=Hh(e),v.c(),v.m(t,null)):v&&(v.d(1),v=null)},i(e){u||(So((()=>{d&&d.end(1),c=Fo(t,fly,{x:100,duration:1e3}),c.start()})),u=!0)},o(e){c&&c.invalidate(),d=jo(t,fly,{x:100,duration:1e3}),u=!1},d(e){e&&zn(t),_&&_.d(),v&&v.d(),e&&d&&d.end(),g=!1,p()}}}function Wh(e,t,n){_o("deepl_settings",ga),_o("deepl_website_settings",xa);let{onClose:o}=t,{reviewStage:i=Re.initial}=t;return e.$$set=e=>{"onClose"in e&&n(1,o=e.onClose),"reviewStage"in e&&n(0,i=e.reviewStage)},[i,o,function(){ga.set({shouldDisplayFeedbackPopup:!0}),mi({action:"dlExternalURLRedirect",payload:{destination:Ni}}),o()},function(){n(0,i=Re.review)},function(){let e=Ui;chrome.runtime.id===Ie&&(e=qi),mi({action:"dlExternalURLRedirect",payload:{destination:e}}),o()},function(){mi({action:"dlTrackUILocationClicked",payload:ce}),mi({action:"dlExternalURLRedirect",payload:{destination:Fi}}),o()},function(){mi({action:"dlTrackUILocationClicked",payload:ge}),mi({action:"dlExternalURLRedirect",payload:{destination:ji}}),o()}]}window.customElements.define("deepl-input-controller",Oh);class Gh extends Yo{constructor(e){super(),Xo(this,e,Wh,jh,_n,{onClose:1,reviewStage:0})}}class Vh extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({reviewStage:e}){this.shadowContainer.style.cssText=`position: fixed; bottom: 32px; right: 32px; z-index: ${D.deepl_inline_ui.z_index}`,this.mainComponent=new Gh({target:this.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Zh(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&Sd(t.sourceLang,m),o();break;case"dlShowOriginal":xa.update({translationState:r}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===i&&tc(),sc(),o();break;case"dlTabChanged":setTimeout(Pd,500),o();break;case"dlTranslateInline":Pd().then((()=>Td(t))),o();break;case"dlTranslateSelectionRightClick":Pd().then((()=>Ld(t.payload))),o();break;case"dlGetWebsiteData":Pd().then((()=>o(e.websiteData)));break;case"dlShowNotification":vc(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":console.log("content listener",t),Fd(t.payload.state),o();break;case"dlShowAskForAReviewPopup":wc(Re.initial),o();break;case"dlShowAlert":Vd(t.payload),o();break;case"dlShowGmailFeedbackPopup":wc(Re.gmail),o();break;case"dlShowSlidesFeedbackPopup":wc(Re.gslides),o()}return!0}window.customElements.define("deepl-ask-for-review-popup",Vh);const Kh=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"deepl.com"===`${e.at(-2)}.${e.at(-1)}`},Xh=()=>!Kh()&&!Fr(),Yh=()=>!Kh()&&!Fr();document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(Zh),dn((()=>{xa.update({translationState:r}),Ta(),chrome.runtime.onMessage.removeListener(Zh)}))}catch(e){console.error(e),Wt(e.message)}try{Zc(window.location.host),jd(window.location.host),Kc(window.location.href),window.addEventListener("load",Hd),Xh()&&Bd(),Yh()&&Ud(),Vc(window.location.host)}catch(e){console.error(e),Wt(e.message)}function Qh(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const Jh=function(){let e={isDarkMode:Qh(document.body.style.backgroundColor)};const{subscribe:t,update:n}=vi(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:Qh(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),dn((()=>{o.disconnect()})),{subscribe:t}}();function ef(e){let t,n;return{c(){t=Bn("span"),n=qn(e[0]),Zn(t,"class","translatedText svelte-1twhl12")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function tf(e){let t,n;return t=new qs({props:{error:e[2]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function nf(e){let t,n,o=function(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h;const f=[tf,ef],_=[];function v(e,t){return e[2]?0:1}return o=v(e),i=_[o]=f[o](e),{c(){t=Bn("div"),n=Bn("div"),i.c(),s=Fn(),a=Bn("div"),a.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,r=Fn(),l=Bn("button"),c=Un("svg"),d=Un("path"),Zn(a,"class","show-alternatives svelte-1twhl12"),no(a,"dark",e[3]),Zn(d,"d","M3 9L9 3M3 3L9 9"),Zn(d,"stroke",u=e[3]?"white":"#037171"),Zn(d,"stroke-width","1.5"),Zn(d,"stroke-linecap","round"),Zn(d,"stroke-linejoin","round"),Zn(c,"width","12"),Zn(c,"height","12"),Zn(c,"viewBox","0 0 12 12"),Zn(c,"fill","none"),Zn(c,"xmlns","http://www.w3.org/2000/svg"),Zn(l,"class","svelte-1twhl12"),Zn(t,"class","container svelte-1twhl12"),no(t,"dark",e[3])},m(i,u){Pn(i,t,u),Nn(t,n),_[o].m(n,null),Nn(n,s),Nn(n,a),Nn(t,r),Nn(t,l),Nn(l,c),Nn(c,d),p=!0,m||(h=[Wn(a,"click",e[4]),Wn(l,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(r,l){let c=o;o=v(e=r),o===c?_[o].p(e,l):(zo(),Uo(_[c],1,1,(()=>{_[c]=null})),Ho(),i=_[o],i?i.p(e,l):(i=_[o]=f[o](e),i.c()),Bo(i,1),i.m(n,s)),(!p||8&l)&&no(a,"dark",e[3]),(!p||8&l&&u!==(u=e[3]?"white":"#037171"))&&Zn(d,"stroke",u),(!p||8&l)&&no(t,"dark",e[3])},i(e){p||(Bo(i),g||So((()=>{g=Fo(t,ei,{y:-10,duration:200}),g.start()})),p=!0)},o(e){Uo(i),p=!1},d(e){e&&zn(t),_[o].d(),m=!1,hn(h)}}}(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function of(e,t,n){let o,i,s;wn(e,ga,(e=>n(6,i=e))),wn(e,Jh,(e=>n(7,s=e)));let a,r,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(5,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(3,o=s&&s.isDarkMode),32&e.$$.dirty&&Pt(c).then((e=>{a=e})),64&e.$$.dirty&&(r=i.selectedTargetLanguage)},[l,d,u,o,function(){mi({action:"dlExternalURLRedirect",payload:{destination:Pi,sourceLang:a,targetLang:r,textToShare:c}})},c,i,s]}class sf extends Yo{constructor(e){super(),Xo(this,e,of,nf,_n,{translatedText:0,sourceText:5,onClose:1,error:2})}}class af extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=null;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t,n,o){this.mainComponent=new sf({target:this.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function rf(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m;return{c(){t=Bn("button"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,o=Fn(),i=Un("svg"),s=Un("g"),a=Un("path"),r=Un("path"),l=Un("path"),c=Un("defs"),d=Un("clipPath"),u=Un("rect"),Zn(n,"class","copy svelte-1wes5l4"),Zn(a,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(a,"class","deepl-icon svelte-1wes5l4"),Zn(r,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(r,"fill","white"),Zn(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(l,"fill","white"),Zn(s,"clip-path","url(#clip0)"),Zn(u,"width","18.5294"),Zn(u,"height","19"),Zn(u,"fill","white"),Zn(u,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(d,"id","clip0"),Zn(i,"width","15"),Zn(i,"height","15"),Zn(i,"viewBox","0 0 19 19"),Zn(i,"fill","none"),Zn(i,"xmlns","http://www.w3.org/2000/svg"),Zn(i,"class","svelte-1wes5l4"),Zn(t,"class","tweetLink svelte-1wes5l4"),t.disabled=g=!!e[0],no(t,"dark",e[3])},m(g,h){Pn(g,t,h),Nn(t,n),Nn(t,o),Nn(t,i),Nn(i,s),Nn(s,a),Nn(s,r),Nn(s,l),Nn(i,c),Nn(c,d),Nn(d,u),p||(m=[Wn(t,"keydown",e[4]),Wn(t,"click",e[4])],p=!0)},p(e,n){1&n&&g!==(g=!!e[0])&&(t.disabled=g),8&n&&no(t,"dark",e[3])},i:un,o:un,d(e){e&&zn(t),p=!1,hn(m)}}}function lf(e){let t,n;return t=new Za({props:{small:!0}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p:un,i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function cf(e){let t,n,o,i;const s=[lf,rf],a=[];function r(e,t){return e[1]?0:e[2]?1:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(zo(),Uo(a[l],1,1,(()=>{a[l]=null})),Ho()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Bo(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Bo(n),i=!0)},o(e){Uo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function df(e,t,n){let o,i,s;wn(e,ga,(e=>n(6,i=e))),wn(e,Jh,(e=>n(7,s=e))),_o("deepl_settings",ga),_o("deepl_website_settings",xa);let a,r,{tweetTextNode:l}=t,c=!1;return e.$$set=e=>{"tweetTextNode"in e&&n(5,l=e.tweetTextNode)},e.$$.update=()=>{if(128&e.$$.dirty&&n(3,o=s&&s.isDarkMode),64&e.$$.dirty){const e=i.blacklistDomainsForReading.includes(window.location.hostname);!i.enableInlineTranslation||e?n(2,r=!1):i.selectedTargetLanguage&&async function(){const e=l.innerText;if(e.length<20)return!1;const t=await Pt(e);return Rt(chrome.i18n.getUILanguage())!==t&&Rt(i.selectedTargetLanguage)!==t}().then((e=>n(2,r=e))).catch((()=>n(2,r=!1)))}},[a,c,r,o,async function(){if(a)return;n(1,c=!0);let e,t,o="";try{o=await Pt(l.innerText),o=Ht(o)}catch(e){console.log(e)}try{t=await mi({action:"dlRequestTwitterTweetTranslation",payload:{message:l.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(0,a=e?"":t[0].text),n(1,c=!1);const i=document.createElement("deepl-twitter-translated-tweet");i.createDOM(a,l.innerText,(()=>{n(0,a=""),i.cleanupDOM(),i.remove()}),e),l.appendChild(i)},l,i,s]}window.customElements.define("deepl-twitter-translated-tweet",af);class uf extends Yo{constructor(e){super(),Xo(this,e,df,cf,_n,{tweetTextNode:5})}}class gf extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=null;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e){this.mainComponent=new uf({target:this.shadowContainer,props:{tweetTextNode:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function pf(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=Fn(),i=Bn("span"),Zn(i,"class","icon icon-external-link  svelte-zb9mtj"),Zn(t,"class","settings-link svelte-zb9mtj")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(t,o),Nn(t,i),s||(a=Wn(t,"click",Vn(Gn(e[0]))),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function mf(e,t,n){let{page:o=Ys.settings_page}=t;return e.$$set=e=>{"page"in e&&n(1,o=e.page)},[function(){mi({action:"dlOpenInternalPage",payload:{destination:o}})},o]}window.customElements.define("deepl-twitter-tweet-link",gf);class hf extends Yo{constructor(e){super(),Xo(this,e,mf,pf,_n,{page:1})}}function ff(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","close-icon svelte-90kudc")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function _f(e){return[function(t){wo.call(this,e,t)}]}class vf extends Yo{constructor(e){super(),Xo(this,e,_f,ff,_n,{})}}function wf(e){let t,n,o,i,s,a,r,l,c,d,u,g,p;return i=new vf({}),i.$on("click",e[2]),c=new Wa({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),g=new hf({}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),Vo(i.$$.fragment),s=Fn(),a=Bn("div"),r=Bn("p"),r.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=Fn(),Vo(c.$$.fragment),d=Fn(),u=Bn("div"),Vo(g.$$.fragment),Zn(o,"class","close-icon-container svelte-1xs7ag1"),Zn(n,"class","header"),Zn(r,"class","label-language-switch svelte-1xs7ag1"),Zn(a,"class","body svelte-1xs7ag1"),Zn(u,"class","footer svelte-1xs7ag1"),Zn(t,"class","container svelte-1xs7ag1")},m(e,m){Pn(e,t,m),Nn(t,n),Nn(n,o),Zo(i,o,null),Nn(t,s),Nn(t,a),Nn(a,r),Nn(a,l),Zo(c,a,null),Nn(t,d),Nn(t,u),Zo(g,u,null),p=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){p||(Bo(i.$$.fragment,e),Bo(c.$$.fragment,e),Bo(g.$$.fragment,e),p=!0)},o(e){Uo(i.$$.fragment,e),Uo(c.$$.fragment,e),Uo(g.$$.fragment,e),p=!1},d(e){e&&zn(t),Ko(i),Ko(c),Ko(g)}}}function bf(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(0,o=e)));const s=fo();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class $f extends Yo{constructor(e){super(),Xo(this,e,bf,wf,_n,{})}}function yf(e){return/\bdark\b/gm.test(e)}const Cf=function(){let e={isDarkMode:yf(document.body.className)};const{subscribe:t,update:n}=vi(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:yf(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),dn((()=>{o.disconnect()})),{subscribe:t}}();function xf(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m;const h=[Lf,Tf],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=Bn("div"),o.c(),i=Fn(),s=Bn("div"),s.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,a=Fn(),r=Bn("button"),l=Un("svg"),c=Un("path"),Zn(s,"class","show-alternatives svelte-1csju44"),no(s,"dark",e[5]),Zn(c,"d","M3 9L9 3M3 3L9 9"),Zn(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),Zn(c,"stroke-width","1.5"),Zn(c,"stroke-linecap","round"),Zn(c,"stroke-linejoin","round"),Zn(l,"width","12"),Zn(l,"height","12"),Zn(l,"viewBox","0 0 12 12"),Zn(l,"fill","none"),Zn(l,"xmlns","http://www.w3.org/2000/svg"),Zn(r,"class","svelte-1csju44"),Zn(t,"class","container svelte-1csju44"),no(t,"dark",e[5])},m(o,d){Pn(o,t,d),f[n].m(t,null),Nn(t,i),Nn(t,s),Nn(t,a),Nn(t,r),Nn(r,l),Nn(l,c),g=!0,p||(m=[Wn(s,"click",e[6]),Wn(r,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)}))],p=!0)},p(a,r){let l=n;n=_(e=a),n===l?f[n].p(e,r):(zo(),Uo(f[l],1,1,(()=>{f[l]=null})),Ho(),o=f[n],o?o.p(e,r):(o=f[n]=h[n](e),o.c()),Bo(o,1),o.m(t,i)),(!g||32&r)&&no(s,"dark",e[5]),(!g||8&r&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&Zn(c,"stroke",d),(!g||32&r)&&no(t,"dark",e[5])},i(e){g||(Bo(o),u||So((()=>{u=Fo(t,ei,{y:-10,duration:200}),u.start()})),g=!0)},o(e){Uo(o),g=!1},d(e){e&&zn(t),f[n].d(),p=!1,hn(m)}}}function Tf(e){let t,n;return{c(){t=Bn("span"),n=qn(e[0]),Zn(t,"class","translatedText svelte-1csju44")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Lf(e){let t,n;return t=new qs({props:{error:e[2]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Sf(e){let t,n,o=e[4]&&xf(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&Bo(o,1)):(o=xf(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function kf(e,t,n){let o,i,s;wn(e,ga,(e=>n(8,i=e))),wn(e,Cf,(e=>n(3,s=e)));let a,r,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t,g=!1;return setTimeout((()=>n(4,g=!0)),50),e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(7,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{8&e.$$.dirty&&n(5,o=s&&s.isDarkMode),128&e.$$.dirty&&Pt(c).then((e=>{a=e})),256&e.$$.dirty&&(r=i.selectedTargetLanguage)},[l,d,u,s,g,o,function(){mi({action:"dlExternalURLRedirect",payload:{destination:Pi,sourceLang:a,targetLang:r,textToShare:c}})},c,i]}class Ef extends Yo{constructor(e){super(),Xo(this,e,kf,Sf,_n,{translatedText:0,sourceText:7,onClose:1,error:2})}}class Mf extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t,n,o){this.mainComponent=new Ef({target:this.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function If(e){let t,n,o,i;t=new Xu({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",$$slots:{default:[Of]},$$scope:{ctx:e}}});let s=e[7]&&Nf(e);return{c(){Vo(t.$$.fragment),n=Fn(),s&&s.c(),o=jn()},m(e,a){Zo(t,e,a),Pn(e,n,a),s&&s.m(e,a),Pn(e,o,a),i=!0},p(e,n){const i={};134217856&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[7]?s?(s.p(e,n),128&n&&Bo(s,1)):(s=Nf(e),s.c(),Bo(s,1),s.m(o.parentNode,o)):s&&(zo(),Uo(s,1,1,(()=>{s=null})),Ho())},i(e){i||(Bo(t.$$.fragment,e),Bo(s),i=!0)},o(e){Uo(t.$$.fragment,e),Uo(s),i=!1},d(e){Ko(t,e),e&&zn(n),s&&s.d(e),e&&zn(o)}}}function Df(e){let t,n;return t=new Za({props:{small:!0}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p:un,i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Of(e){let t,n,o;return{c(){t=Bn("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ptnx4w"><g clip-path="url(#clip0)"><path d="M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z" fill="#0F2B46"></path><path d="M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z" fill="white"></path><path d="M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="18.5294" height="19" fill="white" transform="matrix(-1 0 0 1 18.5294 0)"></rect></clipPath></defs></svg>',Zn(t,"class","translateTrigger svelte-ptnx4w")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"mouseover",e[20]),Wn(t,"click",e[13])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function Nf(e){let t,n;return t=new Xu({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[Af]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};134217792&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Af(e){let t,n,o,i;return{c(){t=Bn("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ptnx4w"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',Zn(t,"class","settingsTrigger svelte-ptnx4w")},m(n,s){Pn(n,t,s),o||(i=[Wn(t,"click",e[21]),Wn(t,"mousedown",Vn(Gn(e[19])))],o=!0)},p:un,i(e){n||So((()=>{n=Fo(t,ei,{x:-8,duration:600}),n.start()}))},o:un,d(e){e&&zn(t),o=!1,hn(i)}}}function Rf(e){let t,n,o,i,s;return n=new $f({}),n.$on("close",e[22]),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","settingsContainer svelte-ptnx4w"),no(t,"isTop",!e[9]),no(t,"isLeft",!e[10])},m(e,o){Pn(e,t,o),Zo(n,t,null),s=!0},p(e,n){(!s||512&n)&&no(t,"isTop",!e[9]),(!s||1024&n)&&no(t,"isLeft",!e[10])},i(e){s||(Bo(n.$$.fragment,e),So((()=>{i&&i.end(1),o=Fo(t,ei,{y:-10,duration:600}),o.start()})),s=!0)},o(e){Uo(n.$$.fragment,e),o&&o.invalidate(),i=jo(t,ei,{y:-10,duration:600}),s=!1},d(e){e&&zn(t),Ko(n),e&&i&&i.end()}}}function Pf(e){let t,n,o,i,s,a,r,l;const c=[Df,If],d=[];function u(e,t){return e[3]?0:1}n=u(e),o=d[n]=c[n](e);let g=e[6]&&Rf(e);return{c(){t=Bn("div"),o.c(),i=Fn(),g&&g.c(),Zn(t,"class","container svelte-ptnx4w"),Zn(t,"style",s=`top: ${e[5]}px; left: ${e[4]}px; z-index: ${e[12]}; opacity: ${e[11]};`),no(t,"isTranslated",e[2]),no(t,"isHidden",e[0]),no(t,"messageHasReactionIcon",e[8]),no(t,"isExpanded",e[7])},m(o,s){Pn(o,t,s),d[n].m(t,null),Nn(t,i),g&&g.m(t,null),e[23](t),a=!0,r||(l=[Wn(t,"mouseleave",e[24]),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[14]),Wn(t,"mousedown",Vn(Gn(e[18])))],r=!0)},p(e,[r]){let l=n;n=u(e),n===l?d[n].p(e,r):(zo(),Uo(d[l],1,1,(()=>{d[l]=null})),Ho(),o=d[n],o?o.p(e,r):(o=d[n]=c[n](e),o.c()),Bo(o,1),o.m(t,i)),e[6]?g?(g.p(e,r),64&r&&Bo(g,1)):(g=Rf(e),g.c(),Bo(g,1),g.m(t,null)):g&&(zo(),Uo(g,1,1,(()=>{g=null})),Ho()),(!a||2096&r&&s!==(s=`top: ${e[5]}px; left: ${e[4]}px; z-index: ${e[12]}; opacity: ${e[11]};`))&&Zn(t,"style",s),(!a||4&r)&&no(t,"isTranslated",e[2]),(!a||1&r)&&no(t,"isHidden",e[0]),(!a||256&r)&&no(t,"messageHasReactionIcon",e[8]),(!a||128&r)&&no(t,"isExpanded",e[7])},i(e){a||(Bo(o),Bo(g),a=!0)},o(e){Uo(o),Uo(g),a=!1},d(o){o&&zn(t),d[n].d(),g&&g.d(),e[23](null),r=!1,hn(l)}}}function zf(e,t,n){_o("deepl_settings",ga),_o("deepl_website_settings",xa);let{textElement:o}=t,{messageContainer:i}=t;const s=265,a=150,r=220;let l,c,d,u=!1,g=!0,p=0,m=0,h=!1,f=!1,_=!1,v=D.deepl_inline_ui.z_index,w=!0,b=!0,$=0;function y(){const e=l.parentNode.getBoundingClientRect(),t=mr(i);n(5,m=i.getBoundingClientRect().height/2),n(4,p=t.getBoundingClientRect().right-e.left),setTimeout((()=>{const t=i.querySelector('[data-icon="react"]');t&&(n(4,p=t.getBoundingClientRect().right-e.left),n(17,d=!0)),n(11,$=1)}),a);const o=i.querySelector('[data-a8n="reaction-bubble"]'),c=i.querySelector('[data-testid="reaction-bubble"]');n(8,_=!(!o&&!c)),window.innerHeight-e.bottom<r+m?n(9,w=!1):n(9,w=!0),i.getBoundingClientRect().right-t.getBoundingClientRect().right<s?n(10,b=!1):n(10,b=!0)}i.addEventListener("mouseover",(()=>{n(0,g=!1)}),!1),i.addEventListener("mouseout",(()=>{h||n(0,g=!0)}),!1);return e.$$set=e=>{"textElement"in e&&n(16,o=e.textElement),"messageContainer"in e&&n(15,i=e.messageContainer)},e.$$.update=()=>{131073&e.$$.dirty&&(g||d||y())},[g,l,c,u,p,m,h,f,_,w,b,$,v,async function(){if(c)return;n(3,u=!0),n(6,h=!1);let e,t,s="";try{s=await Pt(o.innerText)}catch(e){console.log(e)}try{t=await mi({action:"dlRequestWhatsAppMessageTranslation",payload:{message:o.innerText,messageLang:s,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(2,c=e?"":t[0].text),n(3,u=!1);const a=document.createElement("deepl-whatsapp-translated-message");a.createDOM(c,o.innerText,(()=>{n(15,i.dataset.dlIsTranslated="false",i),setTimeout((()=>n(2,c="")),600),a.cleanupDOM(),a.remove()}),e),o.appendChild(a),n(15,i.dataset.dlIsTranslated="true",i)},function(){n(6,h=!1)},i,o,d,function(t){wo.call(this,e,t)},function(t){wo.call(this,e,t)},()=>n(7,f=!0),()=>n(6,h=!h),()=>n(6,h=!1),function(e){$o[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},()=>{h||n(7,f=!1)}]}window.customElements.define("deepl-whatsapp-translated-message",Mf);class Hf extends Yo{constructor(e){super(),Xo(this,e,zf,Pf,_n,{textElement:16,messageContainer:15})}}class Bf extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t){this.mainComponent=new Hf({target:this.shadowContainer,props:{textElement:e,messageContainer:t}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Uf(e){let t,n,o,i,s,a,r,l,c,d;return i=new vf({}),i.$on("click",e[2]),c=new Wa({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),Vo(i.$$.fragment),s=Fn(),a=Bn("div"),r=Bn("p"),r.textContent=`${chrome.i18n.getMessage("whatsapp_web_chat_settings_languageswitch_label")}`,l=Fn(),Vo(c.$$.fragment),Zn(o,"class","close-icon-container svelte-1vsdnvs"),Zn(n,"class","header"),Zn(r,"class","label-language-switch svelte-1vsdnvs"),Zn(a,"class","body svelte-1vsdnvs"),Zn(t,"class","container svelte-1vsdnvs")},m(e,u){Pn(e,t,u),Nn(t,n),Nn(n,o),Zo(i,o,null),Nn(t,s),Nn(t,a),Nn(a,r),Nn(a,l),Zo(c,a,null),d=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){d||(Bo(i.$$.fragment,e),Bo(c.$$.fragment,e),d=!0)},o(e){Uo(i.$$.fragment,e),Uo(c.$$.fragment,e),d=!1},d(e){e&&zn(t),Ko(i),Ko(c)}}}function qf(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(0,o=e)));const s=fo();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0})]}window.customElements.define("deepl-whatsapp-message-in-translator",Bf);class Ff extends Yo{constructor(e){super(),Xo(this,e,qf,Uf,_n,{})}}function jf(e){let t,n,o,i,s,a,r,l;return i=new vf({}),i.$on("click",e[1]),r=new qs({props:{error:e[0]}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),Vo(i.$$.fragment),s=Fn(),a=Bn("div"),Vo(r.$$.fragment),Zn(o,"class","close-icon-container svelte-1l2i3ip"),Zn(n,"class","header"),Zn(a,"class","body svelte-1l2i3ip"),Zn(t,"class","container svelte-1l2i3ip")},m(e,c){Pn(e,t,c),Nn(t,n),Nn(n,o),Zo(i,o,null),Nn(t,s),Nn(t,a),Zo(r,a,null),l=!0},p:un,i(e){l||(Bo(i.$$.fragment,e),Bo(r.$$.fragment,e),l=!0)},o(e){Uo(i.$$.fragment,e),Uo(r.$$.fragment,e),l=!1},d(e){e&&zn(t),Ko(i),Ko(r)}}}function Wf(e){const t=fo();return[undefined,function(){t("close")}]}class Gf extends Yo{constructor(e){super(),Xo(this,e,Wf,jf,_n,{})}}function Vf(e){let t,n,o,i,s;return n=new Gf({props:{error:e[3]}}),n.$on("close",e[6]),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","errorContainer svelte-j6tuh")},m(e,o){Pn(e,t,o),Zo(n,t,null),s=!0},p(e,t){const o={};8&t&&(o.error=e[3]),n.$set(o)},i(e){s||(Bo(n.$$.fragment,e),So((()=>{i&&i.end(1),o=Fo(t,ei,{y:30,duration:600}),o.start()})),s=!0)},o(e){Uo(n.$$.fragment,e),o&&o.invalidate(),i=jo(t,ei,{y:30,duration:600}),s=!1},d(e){e&&zn(t),Ko(n),e&&i&&i.end()}}}function Zf(e){let t,n,o,i,s;return n=new Ff({}),n.$on("close",e[7]),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","settingsContainer svelte-j6tuh")},m(e,o){Pn(e,t,o),Zo(n,t,null),s=!0},p:un,i(e){s||(Bo(n.$$.fragment,e),So((()=>{i&&i.end(1),o=Fo(t,ei,{y:30,duration:600}),o.start()})),s=!0)},o(e){Uo(n.$$.fragment,e),o&&o.invalidate(),i=jo(t,ei,{y:30,duration:600}),s=!1},d(e){e&&zn(t),Ko(n),e&&i&&i.end()}}}function Kf(e){let t,n,o,i;return n=new Xu({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_chat_translator_tooltip_settings_button"),multiline:!0,width:34,$$slots:{default:[Xf]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","expanded-background svelte-j6tuh")},m(e,o){Pn(e,t,o),Zo(n,t,null),i=!0},p(e,t){const o={};16386&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){i||(Bo(n.$$.fragment,e),o||So((()=>{o=Fo(t,ei,{x:9,duration:600}),o.start()})),i=!0)},o(e){Uo(n.$$.fragment,e),i=!1},d(e){e&&zn(t),Ko(n)}}}function Xf(e){let t,n,o;return{c(){t=Bn("div"),t.innerHTML='<svg width="22" height="22" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',Zn(t,"class","icon-container svelte-j6tuh")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",e[8]),Wn(t,"mousedown",Vn(Gn(e[5])))],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function Yf(e){let t,n,o,i,s,a,r,l;return{c(){t=Un("svg"),n=Un("g"),o=Un("path"),i=Un("path"),s=Un("path"),a=Un("defs"),r=Un("clipPath"),l=Un("rect"),Zn(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(o,"fill","#0F2B46"),Zn(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(i,"fill","white"),Zn(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(s,"fill","white"),Zn(n,"clip-path","url(#clip0)"),Zn(l,"width","18.5294"),Zn(l,"height","19"),Zn(l,"fill","white"),Zn(l,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(r,"id","clip0"),Zn(t,"width","22"),Zn(t,"height","22"),Zn(t,"viewBox","0 0 19 19"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Pn(e,t,c),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(t,a),Nn(a,r),Nn(r,l)},i:un,o:un,d(e){e&&zn(t)}}}function Qf(e){let t,n;return t=new Za({}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Jf(e){let t,n,o,i,s,a;const r=[Qf,Yf],l=[];function c(e,t){return e[2]?0:1}return n=c(e),o=l[n]=r[n](e),{c(){t=Bn("div"),o.c(),Zn(t,"class","icon-container svelte-j6tuh")},m(o,r){Pn(o,t,r),l[n].m(t,null),i=!0,s||(a=[Wn(t,"click",e[4]),Wn(t,"mouseover",e[9])],s=!0)},p(e,i){let s=n;n=c(e),n!==s&&(zo(),Uo(l[s],1,1,(()=>{l[s]=null})),Ho(),o=l[n],o||(o=l[n]=r[n](e),o.c()),Bo(o,1),o.m(t,null))},i(e){i||(Bo(o),i=!0)},o(e){Uo(o),i=!1},d(e){e&&zn(t),l[n].d(),s=!1,hn(a)}}}function e_(e){let t,n,o,i,s,a,r,l,c=e[3]&&Vf(e),d=e[1]&&Zf(e),u=e[0]&&Kf(e);return s=new Xu({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_chat_translator_tooltip_translate_button"),multiline:!0,$$slots:{default:[Jf]},$$scope:{ctx:e}}}),{c(){c&&c.c(),t=Fn(),d&&d.c(),n=Fn(),o=Bn("div"),u&&u.c(),i=Fn(),Vo(s.$$.fragment),Zn(o,"class","container svelte-j6tuh")},m(g,p){c&&c.m(g,p),Pn(g,t,p),d&&d.m(g,p),Pn(g,n,p),Pn(g,o,p),u&&u.m(o,null),Nn(o,i),Zo(s,o,null),a=!0,r||(l=Wn(o,"mouseleave",e[10]),r=!0)},p(e,[a]){e[3]?c?(c.p(e,a),8&a&&Bo(c,1)):(c=Vf(e),c.c(),Bo(c,1),c.m(t.parentNode,t)):c&&(zo(),Uo(c,1,1,(()=>{c=null})),Ho()),e[1]?d?(d.p(e,a),2&a&&Bo(d,1)):(d=Zf(e),d.c(),Bo(d,1),d.m(n.parentNode,n)):d&&(zo(),Uo(d,1,1,(()=>{d=null})),Ho()),e[0]?u?(u.p(e,a),1&a&&Bo(u,1)):(u=Kf(e),u.c(),Bo(u,1),u.m(o,i)):u&&(zo(),Uo(u,1,1,(()=>{u=null})),Ho());const r={};16389&a&&(r.$$scope={dirty:a,ctx:e}),s.$set(r)},i(e){a||(Bo(c),Bo(d),Bo(u),Bo(s.$$.fragment,e),a=!0)},o(e){Uo(c),Uo(d),Uo(u),Uo(s.$$.fragment,e),a=!1},d(e){c&&c.d(e),e&&zn(t),d&&d.d(e),e&&zn(n),e&&zn(o),u&&u.d(),Ko(s),r=!1,l()}}}function t_(e,t,n){let o,i,s,a,r,l;function c(){l!==o.selectedTargetLanguage&&function(){const e=document.body.querySelectorAll(".message-in");if(e)for(let t of e){const e=t.querySelector("deepl-whatsapp-translated-message");e&&(t.dataset.dlIsTranslated="false",e.remove())}}();const e=[],t=document.body.querySelectorAll(".message-in"),n=Array.prototype.slice.call(t).reverse();let i=0;for(let t of n){const n=t.querySelector(".selectable-text.copyable-text");n&&n.innerText&&!Fc(n.innerText)&&i<1e3-n.innerText.length&&"true"!==t.dataset.dlIsTranslated&&(i+=n.innerText.length,e.push([t,n]))}return e}wn(e,ga,(e=>n(12,o=e))),_o("deepl_settings",ga),_o("deepl_website_settings",xa);return[i,s,a,r,async function(){const e=c();let t;n(3,r=void 0),n(2,a=!0);let i,s=[];try{let t=new Map;for(let n of e){const e=await Pt(n[1].innerText);s.includes(e)?t.set(e,t.get(e)+1):(s.push(e),t.set(e,1))}i=[...t.entries()].reduce(((e,t)=>t[1]>e[1]?t:e))[0]}catch(e){console.error(e)}try{t=await mi({action:"dlRequestWhatsAppMessagesTranslation",payload:{messages:e.map((e=>e[1].innerText)),messageLang:i,detectedLanguages:s,domainName:window.location.hostname}}),l=o.selectedTargetLanguage;const n=t[0].texts;for(let[t,o]of e.entries()){const e=document.createElement("deepl-whatsapp-translated-message"),i=o[0].querySelector("deepl-whatsapp-message-in-translator");i&&(i.remove(),o[0].dataset.dlHasMessageTranslator="false");const s=()=>{o[0].dataset.dlIsTranslated="false",setTimeout((()=>{}),600),e.cleanupDOM(),e.remove()};e.createDOM(n[t],o[1].innerText,s,void 0),o[1].appendChild(e),o[0].dataset.dlIsTranslated="true"}}catch(e){n(3,r=e),console.error(r)}n(2,a=!1)},function(t){wo.call(this,e,t)},()=>n(3,r=void 0),()=>n(1,s=!1),()=>n(1,s=!s),()=>n(0,i=!0),()=>{s||n(0,i=!1)}]}class n_ extends Yo{constructor(e){super(),Xo(this,e,t_,e_,_n,{})}}class o_ extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(){this.mainComponent=new n_({target:this.shadowContainer})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function i_(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function s_(e){return e.match(/[^\s.,:;'"]+|[.,:;'"]|\s+/g)||[]}function a_(e,t){const n=s_(e),o=s_(t),i=function(e,t,n){const o=n||((e,t)=>e===t),i=(()=>{let n=0;for(;o(e[n],t[n])&&n<e.length;)++n;return n})();if(i===e.length&&e.length===t.length)return[i];const s=(()=>{let n=e.length-1,s=t.length-1;for(;o(e[n],t[s])&&n>i&&s>i;)--n,--s;return e.length-n-1})(),a=e.length-i-s+1,r=t.length-i-s+1,l=a+r,c=new Map,d=new Map;c.set(1,0),d.set(1,null);for(let n=0;n<=l;++n)for(let l=-n;l<=n;l+=2){let u,g,p;for(l==-n||l!=n&&c.get(l-1)<c.get(l+1)?(u=c.get(l+1),p=[d.get(l+1),void 0,void 0]):(u=c.get(l-1)+1,p=[d.get(l-1),void 0,void 0]),g=u-l;u<a&&g<r&&o(e[u+i],t[g+i]);)++u,++g;if(u>=a&&g>=r){p[1]=a+s-1,p[2]=r+s-1;let e=-1,t=-1;const n=[];for(;p;)n.push([p[1],p[2]]),p=p[0];let o=[],l=null;for(;n.length;){const i=n.pop(),s=i[0],a=i[1],r=s-e,c=a-t,d=Math.min(r,c);r>d&&(l?l[0]+=r-d:(l=[r-d,0],o.push(l))),c>d&&(l?l[1]+=c-d:(l=[0,c-d],o.push(l))),d>0&&(o.push(d),l=null),e=s,t=a}return o[0]=o[0]-1+i,o}c.set(l,u),p[1]=u,p[2]=g,d.set(l,p)}throw new Error("[diff]","should not happen?")}(n,o),s=[];let a=0,r=0,l=0;for(;a<i.length;){const e=i[a];let t=0;for(let o=r+e-1;o>=r;o-=1)t+=n[o]?.match(/^\s/)?2:1;r+=e,l+=e;let c=0,d=0;if(r<n.length&&l<o.length&&n[r]?.match(/^\s/)&&o[l]?.match(/^\s/)&&(c-=1,d-=1,t+=1),s.push(t),a+=1,a<i.length){const[e,t]=i[a];for(let t=r+e-1;t>=r;t-=1)c+=n[t]?.match(/^\s/)?2:1;for(let e=l+t-1;e>=l;e-=1)d+=o[e]?.match(/^\s/)?2:1;s.push([Math.max(c,0),Math.max(d,0)]),a+=1,r+=e,l+=t}}return[s,n,o,i]}function r_(e,t){const n=a_(t,e),o=[];let i=0,s=0,a=0,r=0;return n[3].forEach((e=>{if(Array.isArray(e)&&"number"==typeof e[0]&&"number"==typeof e[1]){if(0!==e[1]){const t=n[2].slice(s,s+e[1]).join(""),l=n[1].slice(i,i+e[0]).join(""),c={original:l,replace:t};c.changeLength=t.length,c.changeOffset=a,c.originalLength=l.length,c.originalOffset=r,a+=t.length,r+=l.length,o.push(c)}i+=e[0],s+=e[1]}else{let t=0;n[2].slice(s,s+e).forEach((e=>t+=e.length)),a+=t;let o=0;n[1].slice(i,i+e).forEach((e=>o+=e.length)),r+=o,i+=e,s+=e}})),o}window.customElements.define("deepl-whatsapp-messages-in-translator",o_);const l_=(e,t,n,o,i)=>{const s=document.createRange();if("#text"===e.nodeName)s.setStart(e,t),s.setEnd(e,t+n);else{if(!e.firstChild||"#text"!==e.firstChild.nodeName)return console.error("Invalid textNode with no child text node."),null;{const o=e.firstChild;s.setStart(o,t),s.setEnd(o,t+n)}}const a=s.getBoundingClientRect();return{top:a.top,left:a.left,right:a.right,bottom:a.bottom,original:o,replace:i,textNode:e,changeIndex:t,changeLength:n}},c_=e=>({}),d_=e=>({}),u_=e=>({}),g_=e=>({}),p_=e=>({}),m_=e=>({}),h_=e=>({}),f_=e=>({}),__=e=>({}),v_=e=>({}),w_=e=>({}),b_=e=>({});function $_(e){let t,n;const o=e[3].warning,i=bn(o,e,e[2],b_);return{c(){t=Bn("div"),i&&i.c(),Zn(t,"class","alert-warning svelte-febp1q")},m(e,o){Pn(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&Cn(i,o,e,e[2],n?yn(o,e[2],t,w_):xn(e[2]),b_)},i(e){n||(Bo(i,e),n=!0)},o(e){Uo(i,e),n=!1},d(e){e&&zn(t),i&&i.d(e)}}}function y_(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y=e[1]&&$_(e);const C=e[3].header,x=bn(C,e,e[2],v_),T=e[3].usp1,L=bn(T,e,e[2],f_),S=e[3].usp2,k=bn(S,e,e[2],m_),E=e[3].usp3,M=bn(E,e,e[2],g_),I=e[3].graphics,D=bn(I,e,e[2],d_);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("span"),i=Fn(),s=Bn("button"),a=Fn(),y&&y.c(),r=Fn(),l=Bn("h2"),x&&x.c(),c=Fn(),d=Bn("ul"),u=Bn("li"),L&&L.c(),g=Fn(),p=Bn("li"),k&&k.c(),m=Fn(),h=Bn("li"),M&&M.c(),f=Fn(),_=Bn("div"),D&&D.c(),Zn(o,"class","logo svelte-febp1q"),Zn(s,"class","close-button svelte-febp1q"),Zn(n,"class","header svelte-febp1q"),Zn(l,"class","header svelte-febp1q"),Zn(u,"class","svelte-febp1q"),Zn(p,"class","svelte-febp1q"),Zn(h,"class","svelte-febp1q"),Zn(d,"class","ups svelte-febp1q"),Zn(_,"class","graphics"),Zn(t,"class","dl-onboarding-container svelte-febp1q")},m(v,C){Pn(v,t,C),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(t,a),y&&y.m(t,null),Nn(t,r),Nn(t,l),x&&x.m(l,null),Nn(t,c),Nn(t,d),Nn(d,u),L&&L.m(u,null),Nn(d,g),Nn(d,p),k&&k.m(p,null),Nn(d,m),Nn(d,h),M&&M.m(h,null),Nn(t,f),Nn(t,_),D&&D.m(_,null),w=!0,b||($=Wn(s,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),b=!0)},p(n,[o]){(e=n)[1]?y?(y.p(e,o),2&o&&Bo(y,1)):(y=$_(e),y.c(),Bo(y,1),y.m(t,r)):y&&(zo(),Uo(y,1,1,(()=>{y=null})),Ho()),x&&x.p&&(!w||4&o)&&Cn(x,C,e,e[2],w?yn(C,e[2],o,__):xn(e[2]),v_),L&&L.p&&(!w||4&o)&&Cn(L,T,e,e[2],w?yn(T,e[2],o,h_):xn(e[2]),f_),k&&k.p&&(!w||4&o)&&Cn(k,S,e,e[2],w?yn(S,e[2],o,p_):xn(e[2]),m_),M&&M.p&&(!w||4&o)&&Cn(M,E,e,e[2],w?yn(E,e[2],o,u_):xn(e[2]),g_),D&&D.p&&(!w||4&o)&&Cn(D,I,e,e[2],w?yn(I,e[2],o,c_):xn(e[2]),d_)},i(e){w||(Bo(y),Bo(x,e),Bo(L,e),Bo(k,e),Bo(M,e),Bo(D,e),v||So((()=>{v=Fo(t,ei,{y:-5,duration:500}),v.start()})),w=!0)},o(e){Uo(y),Uo(x,e),Uo(L,e),Uo(k,e),Uo(M,e),Uo(D,e),w=!1},d(e){e&&zn(t),y&&y.d(),x&&x.d(e),L&&L.d(e),k&&k.d(e),M&&M.d(e),D&&D.d(e),b=!1,$()}}}function C_(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t,{hasWarning:a}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"hasWarning"in e&&n(1,a=e.hasWarning),"$$scope"in e&&n(2,i=e.$$scope)},[s,a,i,o]}class x_ extends Yo{constructor(e){super(),Xo(this,e,C_,y_,_n,{onClose:0,hasWarning:1})}}function T_(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_title")+"";return{c(){t=Bn("span"),Zn(t,"slot","header")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function L_(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_1")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp1")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function S_(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_2")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp2")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function k_(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_3")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp3")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function E_(e){let t,n,o=chrome.i18n.getMessage("ui_gdocs_onboarding_image_text")+"";return{c(){t=Bn("div"),n=Bn("div"),Zn(n,"class","text-box svelte-6bb15d"),Zn(t,"slot","graphics"),Zn(t,"class","onboarding-graphics svelte-6bb15d")},m(e,i){Pn(e,t,i),Nn(t,n),n.innerHTML=o},p:un,d(e){e&&zn(t)}}}function M_(e){let t,n;return t=new x_({props:{onClose:e[0],$$slots:{graphics:[E_],usp3:[k_],usp2:[S_],usp1:[L_],header:[T_]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.onClose=e[0]),4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function I_(e,t,n){let{onClose:o}=t;return mo((()=>{mi({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Be.gdocs}})})),e.$$set=e=>{"onClose"in e&&n(0,o=e.onClose)},[o]}class D_ extends Yo{constructor(e){super(),Xo(this,e,I_,M_,_n,{onClose:0})}}function O_(e){let t,n,o,i,s,a,r,l,c,d,u;o=new Xu({props:{tooltip:e[4],zIndex:"10000000000",$$slots:{default:[N_]},$$scope:{ctx:e}}});let g=e[3]&&A_(e);return r=new Xu({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_turn_off"),zIndex:"10000000000",$$slots:{default:[P_]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("button"),Vo(o.$$.fragment),i=Fn(),g&&g.c(),s=Fn(),a=Bn("button"),Vo(r.$$.fragment),Zn(n,"class","dl-icon-circle dl-icon svelte-1lzcuuj"),Zn(a,"class","dl-icon-circle dl-on-off-icon svelte-1lzcuuj"),Zn(a,"data-qa","deepl-inline-translate-menu-icon"),Zn(t,"class","dl-gdocs-icon svelte-1lzcuuj"),Yn(t,"top",e[5].top),Yn(t,"left",e[5].left),no(t,"has-deepl-write",e[3])},m(l,p){Pn(l,t,p),Nn(t,n),Zo(o,n,null),Nn(t,i),g&&g.m(t,null),Nn(t,s),Nn(t,a),Zo(r,a,null),c=!0,d||(u=[Wn(n,"click",e[7]),Wn(n,"mouseenter",e[24]),Wn(a,"click",e[10]),Wn(a,"mouseenter",e[27])],d=!0)},p(e,n){const i={};16&n[0]&&(i.tooltip=e[4]),16777216&n[1]&&(i.$$scope={dirty:n,ctx:e}),o.$set(i),e[3]?g?(g.p(e,n),8&n[0]&&Bo(g,1)):(g=A_(e),g.c(),Bo(g,1),g.m(t,s)):g&&(zo(),Uo(g,1,1,(()=>{g=null})),Ho());const a={};16777216&n[1]&&(a.$$scope={dirty:n,ctx:e}),r.$set(a),(!c||32&n[0])&&Yn(t,"top",e[5].top),(!c||32&n[0])&&Yn(t,"left",e[5].left),(!c||8&n[0])&&no(t,"has-deepl-write",e[3])},i(e){c||(Bo(o.$$.fragment,e),Bo(g),Bo(r.$$.fragment,e),l||So((()=>{l=Fo(t,Jo,{x:-5,duration:300}),l.start()})),c=!0)},o(e){Uo(o.$$.fragment,e),Uo(g),Uo(r.$$.fragment,e),c=!1},d(e){e&&zn(t),Ko(o),g&&g.d(),Ko(r),d=!1,hn(u)}}}function N_(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-1lzcuuj")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function A_(e){let t,n,o,i,s;return n=new Xu({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_deepl_write"),zIndex:"10000000000",$$slots:{default:[R_]},$$scope:{ctx:e}}}),{c(){t=Bn("button"),Vo(n.$$.fragment),Zn(t,"class","dl-icon-circle dl-write-icon svelte-1lzcuuj")},m(a,r){Pn(a,t,r),Zo(n,t,null),o=!0,i||(s=[Wn(t,"click",e[25]),Wn(t,"mouseenter",e[26])],i=!0)},p(e,t){const o={};16777216&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n),i=!1,hn(s)}}}function R_(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-1lzcuuj")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function P_(e){let t;return{c(){t=Bn("span"),Zn(t,"class","svelte-1lzcuuj")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function z_(e){let t,n;return t=new D_({props:{onClose:e[28]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.onClose=e[28]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function H_(e){let t,n,o,i=e[6]&&!e[0]&&!e[1]&&O_(e),s=e[2]&&z_(e);return{c(){i&&i.c(),t=Fn(),s&&s.c(),n=jn()},m(e,a){i&&i.m(e,a),Pn(e,t,a),s&&s.m(e,a),Pn(e,n,a),o=!0},p(e,o){!e[6]||e[0]||e[1]?i&&(zo(),Uo(i,1,1,(()=>{i=null})),Ho()):i?(i.p(e,o),67&o[0]&&Bo(i,1)):(i=O_(e),i.c(),Bo(i,1),i.m(t.parentNode,t)),e[2]?s?(s.p(e,o),4&o[0]&&Bo(s,1)):(s=z_(e),s.c(),Bo(s,1),s.m(n.parentNode,n)):s&&(zo(),Uo(s,1,1,(()=>{s=null})),Ho())},i(e){o||(Bo(i),Bo(s),o=!0)},o(e){Uo(i),Uo(s),o=!1},d(e){i&&i.d(e),e&&zn(t),s&&s.d(e),e&&zn(n)}}}function B_(e,t,n){let o,i;wn(e,ga,(e=>n(23,i=e))),_o("deepl_settings",ga),_o("deepl_website_settings",xa);let s,a,r,l,c,d,{replaceData:u}=t,{contentProcessBuildingBlocks:g}=t,{deeplWriteTrackingData:p={lang:"",sourceLength:0,targetLength:0,nicheIntegration:Be.gdocs,error:""}}=t,m=!0,h=!1,f=!1,_="",v="",w=!1,b="",$={top:0,left:0};async function y(e,t,n){if("dlTriggerTranslationShortcut"===e.action)x(),mi({action:"dlTrackUseOfShortcut",payload:{shortcutType:he,location:z,nicheIntegration:Be.gdocs}}),n()}const C=e=>{l=Ue.translate,e&&(c=e),Lr()},x=()=>{C(i.selectedTargetLanguage)},T=()=>{l=Ue.write,Lr()},L=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:o}}=Er();e!==h&&n(1,h=e),n(5,$.left=`${Math.round(t)}px`,$),n(5,$.top=`${Math.round(o)}px`,$)};function S(e){mi({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:Be.gdocs}})}const k=()=>{s=setInterval((()=>{const e=Sr(),t=!e.text;!t&&m&&L(),t&&!m&&(()=>{if(!i.isInlineHighlighterShown){ga.set({isInlineHighlighterShown:!0});try{mi({action:"dltrackCloseInlineHighlighter",payload:{trigger:He}})}catch(e){console.error(e)}}})(),n(0,m=t),_!==e.text&&n(21,_=e.text)}),300)},E=()=>{const e=document.querySelector("#docs-instant-bubble");r=new MutationObserver((()=>{L()}));return r.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>r.unobserve()},M=async e=>{if(l&&"ClipboardEvent"===e.constructor.name){switch(l){case Ue.translate:Md({event:e,targetLang:c});break;case Ue.write:Id({event:e,lang:v})}l=void 0}},I=()=>{k(),(()=>{const e=document.querySelector("#kix-appview");a=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(L(),E())})),a.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{L()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",L),(()=>{const{editable:e}=Tr();e.addEventListener("copy",M)})()},D=()=>{a&&a.disconnect(),r&&r.disconnect(),s&&clearInterval(s),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",L),(()=>{const{editable:e}=Tr();e.removeEventListener("copy",M)})()};mo((()=>{I(),i.isGDocsOnboardingShown||(n(2,f=!0),Ln(ga,i.isGDocsOnboardingShown=!0,i)),chrome.runtime.onMessage.addListener(y),mi({action:"dlCheckCommandShortcuts"}).then((e=>n(22,b=e?e.filter((e=>e.name==he))[0].shortcut:"")))})),ho((()=>{D()}));return e.$$set=e=>{"replaceData"in e&&n(12,u=e.replaceData),"contentProcessBuildingBlocks"in e&&n(11,g=e.contentProcessBuildingBlocks),"deeplWriteTrackingData"in e&&n(13,p=e.deeplWriteTrackingData)},e.$$.update=()=>{if(8388608&e.$$.dirty[0]&&n(6,o=!i.blacklistDomainsForReading.includes("docs.google.com")&&i.enableInlineTranslation),2097152&e.$$.dirty[0]&&(async e=>{const t=await Pt(e);v=t,n(3,w=Ut(v))})(_),4194304&e.$$.dirty[0]){let e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip_2");n(4,d=b?`${e} (${b})`:e)}},[m,h,f,w,d,$,o,x,T,S,()=>{nc(Be.gdocs),mi({action:"dlTrackInlineSettingOpened",payload:{uiFunction:Ce,uiLocation:z,nicheIntegration:Be.gdocs}})},g,u,p,e=>{n(11,g=e)},()=>g,()=>{u&&Hr(u)},C,()=>{Gd({eventType:it,...p})},()=>{Gd({eventType:st,...p})},e=>{switch(e){case ht:Gd({eventType:at,...p});break;case ft:mi({action:"dlTrackGDocsMaxCharExceededTryProClicked",payload:{sourceLang:p.lang,targetLang:p.lang,sourceLength:p.sourceLength}})}},_,b,i,()=>S(z),()=>T(),()=>S(se),()=>S(H),()=>n(2,f=!1)]}class U_ extends Yo{constructor(e){super(),Xo(this,e,B_,H_,_n,{replaceData:12,contentProcessBuildingBlocks:11,deeplWriteTrackingData:13,setContentProcessBuildingBlocks:14,getContentProcessBuildingBlocks:15,applyReplacement:16,requestTranslation:17,trackDeeplWriteInsertCopy:18,trackDeeplWriteDiscardCopy:19,trackMaxCharExceeded:20},null,[-1,-1])}get setContentProcessBuildingBlocks(){return this.$$.ctx[14]}get getContentProcessBuildingBlocks(){return this.$$.ctx[15]}get applyReplacement(){return this.$$.ctx[16]}get requestTranslation(){return this.$$.ctx[17]}get trackDeeplWriteInsertCopy(){return this.$$.ctx[18]}get trackDeeplWriteDiscardCopy(){return this.$$.ctx[19]}get trackMaxCharExceeded(){return this.$$.ctx[20]}}class q_ extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.setReplaceData=this.setReplaceData.bind(this),this.applyReplacement=this.applyReplacement.bind(this),this.requestNewTranslation=this.requestNewTranslation.bind(this),this.setDeeplWriteTrackingData=this.setDeeplWriteTrackingData.bind(this),this.trackDeeplWriteInsertCopy=this.trackDeeplWriteInsertCopy.bind(this),this.trackDeeplWriteDiscardCopy=this.trackDeeplWriteDiscardCopy.bind(this),this.trackMaxCharExceeded=this.trackMaxCharExceeded.bind(this),this.setContentProcessBuildingBlocks=this.setContentProcessBuildingBlocks.bind(this),this.getContentProcessBuildingBlocks=this.getContentProcessBuildingBlocks.bind(this)}createDOM(){this.mainComponent=new U_({target:this.shadowContainer,props:{onClose:this.cleanupDOM}})}setReplaceData(e){this.mainComponent.$$set({replaceData:e})}setDeeplWriteTrackingData(e){this.mainComponent.$$set({deeplWriteTrackingData:e})}trackDeeplWriteInsertCopy(){return this.mainComponent.trackDeeplWriteInsertCopy()}trackDeeplWriteDiscardCopy(){return this.mainComponent.trackDeeplWriteDiscardCopy()}trackMaxCharExceeded(e){return this.mainComponent.trackMaxCharExceeded(e)}applyReplacement(){this.mainComponent.applyReplacement()}requestNewTranslation(e){this.mainComponent.requestTranslation(e)}setContentProcessBuildingBlocks(e){return this.mainComponent.setContentProcessBuildingBlocks(e)}getContentProcessBuildingBlocks(){return this.mainComponent.getContentProcessBuildingBlocks()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function F_(e){let t,n,o,i,s,a,r,l,c,d,u,g,p=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Bn("div"),n=Fn(),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_title")}`,i=Fn(),s=Bn("div"),a=Fn(),r=Bn("div"),l=Bn("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_login_button")}`,c=Fn(),d=Bn("button"),d.textContent=`${chrome.i18n.getMessage("gmail_char_limit_anon_sign_up_button")}`,Zn(t,"class","close-icon svelte-a2v858"),Zn(o,"class","title svelte-a2v858"),Zn(s,"class","body svelte-a2v858"),Zn(l,"class","secondary svelte-a2v858"),Zn(d,"class","primary svelte-a2v858"),Zn(r,"class","footer svelte-a2v858")},m(m,h){Pn(m,t,h),Pn(m,n,h),Pn(m,o,h),Pn(m,i,h),Pn(m,s,h),s.innerHTML=p,Pn(m,a,h),Pn(m,r,h),Nn(r,l),Nn(r,c),Nn(r,d),u||(g=[Wn(t,"click",e[1]),Wn(l,"click",e[2]),Wn(d,"click",e[3])],u=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(i),e&&zn(s),e&&zn(a),e&&zn(r),u=!1,hn(g)}}}function j_(e){let t,n,o,i,s,a,r,l,c,d,u=chrome.i18n.getMessage("gmail_char_limit_logged_in_body")+"";return{c(){t=Bn("div"),n=Fn(),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_title")}`,i=Fn(),s=Bn("div"),a=Fn(),r=Bn("div"),l=Bn("button"),l.textContent=`${chrome.i18n.getMessage("gmail_char_limit_logged_in_cta_button")}`,Zn(t,"class","close-icon svelte-a2v858"),Zn(o,"class","title svelte-a2v858"),Zn(s,"class","body svelte-a2v858"),Zn(l,"class","primary svelte-a2v858"),Zn(r,"class","footer svelte-a2v858")},m(g,p){Pn(g,t,p),Pn(g,n,p),Pn(g,o,p),Pn(g,i,p),Pn(g,s,p),s.innerHTML=u,Pn(g,a,p),Pn(g,r,p),Nn(r,l),c||(d=[Wn(t,"click",e[1]),Wn(l,"click",e[3])],c=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(i),e&&zn(s),e&&zn(a),e&&zn(r),c=!1,hn(d)}}}function W_(e){let t,n,o;function i(e,t){return e[0]?j_:F_}let s=i(e),a=s(e);return{c(){t=Bn("div"),a.c(),Zn(t,"class","dl-gmail-character-limit-popup svelte-a2v858")},m(i,s){Pn(i,t,s),a.m(t,null),n||(o=[Sn(cn.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container",".deepl-gmail-write-toolbar"]})),Wn(t,"click_outside",e[7])],n=!0)},p(e,[n]){s===(s=i(e))&&a?a.p(e,n):(a.d(1),a=s(e),a&&(a.c(),a.m(t,null)))},i:un,o:un,d(e){e&&zn(t),a.d(),n=!1,hn(o)}}}function G_(e,t,n){let o;wn(e,ga,(e=>n(6,o=e)));let{onCloseCharLimitPopup:i}=t,{cleanUpDOM:s}=t,a=!1,r=!1;const l=()=>{i&&i(),s&&s()};return e.$$set=e=>{"onCloseCharLimitPopup"in e&&n(4,i=e.onCloseCharLimitPopup),"cleanUpDOM"in e&&n(5,s=e.cleanUpDOM)},e.$$.update=()=>{64&e.$$.dirty&&n(0,r=!0===o.isLoggedIn)},[r,l,()=>{a||(mi({action:"dlTrackUILocationClicked",payload:le}),a=!0,mi({action:"dlRequestLogin"}).then((()=>{a=!1,l()})).catch((()=>{a=!1})))},()=>{mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"gmail_customization"}}),l()},i,s,o,()=>{l()}]}window.customElements.define("deepl-gdocs-icon",q_);class V_ extends Yo{constructor(e){super(),Xo(this,e,G_,W_,_n,{onCloseCharLimitPopup:4,cleanUpDOM:5})}}class Z_ extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({onCloseCharLimitPopup:e}){this.mainComponent=new V_({target:this.shadowContainer,props:{cleanUpDOM:this.cleanupDOM,onCloseCharLimitPopup:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function K_(e){let t,n,o,i,s,a,r,l;return{c(){t=Un("svg"),n=Un("g"),o=Un("path"),i=Un("path"),s=Un("path"),a=Un("defs"),r=Un("clipPath"),l=Un("rect"),Zn(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(o,"fill","#0F2B46"),Zn(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(i,"fill","white"),Zn(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(s,"fill","white"),Zn(n,"clip-path","url(#clip0)"),Zn(l,"width","18.5294"),Zn(l,"height","19"),Zn(l,"fill","white"),Zn(l,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(r,"id","clip0"),Zn(t,"width",e[1]),Zn(t,"height",e[0]),Zn(t,"class","deepl-logo-icon"),Zn(t,"viewBox","0 0 24 24"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Pn(e,t,c),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(t,a),Nn(a,r),Nn(r,l)},p(e,[n]){2&n&&Zn(t,"width",e[1]),1&n&&Zn(t,"height",e[0])},i:un,o:un,d(e){e&&zn(t)}}}function X_(e,t,n){let{height:o="16px"}=t,{width:i="16px"}=t;return e.$$set=e=>{"height"in e&&n(0,o=e.height),"width"in e&&n(1,i=e.width)},[o,i]}window.customElements.define(Tl,Z_);class Y_ extends Yo{constructor(e){super(),Xo(this,e,X_,K_,_n,{height:0,width:1})}}function Q_(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y,C,x,T,L,S=chrome.i18n.getMessage("gmail_compose_translate_button")+"";return a=new Pa({props:{selectedOption:e[1],items:e[8],placeholder:"...",allowLabelHtml:!0}}),a.$on("valueselected",e[20]),p=new Wa({props:{value:e[12]||e[2].targetLanguageUserInput,disabled:!1,fontSize:"sm"}}),p.$on("selection",e[21]),C=new Xu({props:{isEnabled:!0,tooltip:chrome.i18n.getMessage("gmail_compose_improve_tooltip"),zIndex:e[13].z_index,multiline:!0,$$slots:{default:[ev]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_from")}`,i=Fn(),s=Bn("div"),Vo(a.$$.fragment),r=Fn(),l=Bn("div"),c=Bn("div"),c.textContent=`${chrome.i18n.getMessage("gmail_compose_translate_into")}`,d=Fn(),u=Bn("div"),g=Bn("div"),Vo(p.$$.fragment),m=Fn(),h=Bn("div"),f=Bn("button"),_=qn(S),w=Fn(),b=Bn("div"),$=Fn(),y=Bn("div"),Vo(C.$$.fragment),Zn(o,"class","translation-label svelte-16fkh9y"),Zn(s,"class","wrapper shortcode-wrapper svelte-16fkh9y"),Zn(n,"class","translation-selection-wrapper svelte-16fkh9y"),Zn(c,"class","translation-label svelte-16fkh9y"),Zn(g,"class","dropdown"),Zn(u,"class","wrapper language-wrapper svelte-16fkh9y"),Zn(l,"class","translation-selection-wrapper svelte-16fkh9y"),f.disabled=v=e[6]||!e[12],Zn(f,"class","svelte-16fkh9y"),no(f,"isTranslating",e[6]),Zn(h,"class","wrapper button-wrapper"),Zn(b,"class","divider svelte-16fkh9y"),Zn(y,"class","wrapper button-wrapper"),Zn(t,"class","dl-gmail-translate-toolbar svelte-16fkh9y"),no(t,"hasLoaded",e[4]),no(t,"isExpanded",e[5])},m(v,S){Pn(v,t,S),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Zo(a,s,null),Nn(t,r),Nn(t,l),Nn(l,c),Nn(l,d),Nn(l,u),Nn(u,g),Zo(p,g,null),Nn(t,m),Nn(t,h),Nn(h,f),Nn(f,_),Nn(t,w),Nn(t,b),Nn(t,$),Nn(t,y),Zo(C,y,null),x=!0,T||(L=Wn(f,"mousedown",Vn(Gn(e[14]))),T=!0)},p(e,n){const o={};2&n[0]&&(o.selectedOption=e[1]),256&n[0]&&(o.items=e[8]),a.$set(o);const i={};4100&n[0]&&(i.value=e[12]||e[2].targetLanguageUserInput),p.$set(i),(!x||4160&n[0]&&v!==(v=e[6]||!e[12]))&&(f.disabled=v),(!x||64&n[0])&&no(f,"isTranslating",e[6]);const s={};192&n[0]|64&n[2]&&(s.$$scope={dirty:n,ctx:e}),C.$set(s),(!x||16&n[0])&&no(t,"hasLoaded",e[4]),(!x||32&n[0])&&no(t,"isExpanded",e[5])},i(e){x||(Bo(a.$$.fragment,e),Bo(p.$$.fragment,e),Bo(C.$$.fragment,e),x=!0)},o(e){Uo(a.$$.fragment,e),Uo(p.$$.fragment,e),Uo(C.$$.fragment,e),x=!1},d(e){e&&zn(t),Ko(a),Ko(p),Ko(C),T=!1,L()}}}function J_(e){let t,n,o,i,s,a,r,l,c;return o=new Xu({props:{tooltip:chrome.i18n.getMessage("gmail_compose_undo_icon"),zIndex:e[13].z_index,$$slots:{default:[tv]},$$scope:{ctx:e}}}),a=new Xu({props:{tooltip:chrome.i18n.getMessage("gmail_compose_accept_icon"),zIndex:e[13].z_index,$$slots:{default:[nv]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("div"),Vo(o.$$.fragment),i=Fn(),s=Bn("div"),Vo(a.$$.fragment),Zn(n,"class","wrapper undo-wrapper svelte-16fkh9y"),Zn(s,"class","wrapper accept-wrapper svelte-16fkh9y"),Zn(t,"class","accept-changes svelte-16fkh9y")},m(d,u){Pn(d,t,u),Nn(t,n),Zo(o,n,null),Nn(t,i),Nn(t,s),Zo(a,s,null),r=!0,l||(c=[Sn(cn.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Wn(t,"click_outside",e[16])],l=!0)},p(e,t){const n={};64&t[2]&&(n.$$scope={dirty:t,ctx:e}),o.$set(n);const i={};64&t[2]&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){r||(Bo(o.$$.fragment,e),Bo(a.$$.fragment,e),r=!0)},o(e){Uo(o.$$.fragment,e),Uo(a.$$.fragment,e),r=!1},d(e){e&&zn(t),Ko(o),Ko(a),l=!1,hn(c)}}}function ev(e){let t,n,o,i,s,a=chrome.i18n.getMessage("gmail_compose_improve_button")+"";return{c(){t=Bn("button"),n=qn(a),t.disabled=o=e[6]||!e[7],Zn(t,"class","svelte-16fkh9y"),no(t,"isTranslating",e[6])},m(o,a){Pn(o,t,a),Nn(t,n),i||(s=Wn(t,"mousedown",Vn(Gn(e[15]))),i=!0)},p(e,n){192&n[0]&&o!==(o=e[6]||!e[7])&&(t.disabled=o),64&n[0]&&no(t,"isTranslating",e[6])},d(e){e&&zn(t),i=!1,s()}}}function tv(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg height="32px" width="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 8.33398H10.8333C14.5152 8.33398 17.5 11.3188 17.5 15.0007V16.6673M2.5 8.33398L7.5 13.334M2.5 8.33398L7.5 3.33398" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-16fkh9y"></path></svg>',Zn(t,"class","confirm-button svelte-16fkh9y")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",Vn(Gn(e[17]))),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function nv(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg width="24px" height="24px" class="checkmark" viewBox="0 0 16 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 7L5 11L15 1" stroke="#727A83" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-16fkh9y"></path></svg>',Zn(t,"class","confirm-button right svelte-16fkh9y")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",Vn(Gn(e[16]))),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function ov(e){let t,n,o,i,s,a,r,l,c,d,u,g;const p=[J_,Q_],m=[];function h(e,t){return e[3]?0:1}return o=h(e),i=m[o]=p[o](e),l=new Y_({props:{height:"24px",width:"24px"}}),{c(){t=Bn("div"),n=Bn("div"),i.c(),s=Fn(),a=Bn("div"),r=Bn("div"),Vo(l.$$.fragment),Zn(r,"class","wrapper icon-wrapper svelte-16fkh9y"),Zn(a,"class","dl-toolbar-closed svelte-16fkh9y"),Zn(n,"class","dl-toolbar-positioner svelte-16fkh9y"),Zn(t,"class","deepl-gmail-write-toolbar svelte-16fkh9y"),Zn(t,"style",c=`top: ${e[9]}px; left: ${e[10]}px`)},m(i,c){Pn(i,t,c),Nn(t,n),m[o].m(n,null),Nn(n,s),Nn(n,a),Nn(a,r),Zo(l,r,null),d=!0,u||(g=[Wn(r,"click",e[22]),Wn(t,"click",Vn(Gn(e[23]))),Sn(cn.call(null,t,{isShadow:!0,exceptions:[".deepl-gmail-message-container"]})),Wn(t,"click_outside",e[24])],u=!0)},p(e,a){let r=o;o=h(e),o===r?m[o].p(e,a):(zo(),Uo(m[r],1,1,(()=>{m[r]=null})),Ho(),i=m[o],i?i.p(e,a):(i=m[o]=p[o](e),i.c()),Bo(i,1),i.m(n,s)),(!d||1536&a[0]&&c!==(c=`top: ${e[9]}px; left: ${e[10]}px`))&&Zn(t,"style",c)},i(e){d||(Bo(i),Bo(l.$$.fragment,e),d=!0)},o(e){Uo(i),Uo(l.$$.fragment,e),d=!1},d(e){e&&zn(t),m[o].d(),Ko(l),u=!1,hn(g)}}}function iv(e){const t=[];return e&&function e(n){if(n&&n.nodeType===Node.TEXT_NODE)t.push(n);else if(n&&n.nodeType===Node.ELEMENT_NODE)for(let t=0;t<n.childNodes.length;t++)e(n.childNodes[t])}(e),t}function sv(e,t,n){let o;wn(e,ga,(e=>n(2,o=e)));const{deepl_inline_ui:i}=D;let{messageContainer:s}=t,{updateLockStatus:a}=t,{subjectInput:r}=t;const l="WRITE",c="TRANSLATE";let d,u,g,p,m,h,f,_,v,w,b,$,y,C,x,T,L,S,k=null,E=!1,M=!1,I=!1,O=!1;_o("deepl_settings",ga),mo((async()=>{s&&(s.addEventListener("input",A),s.addEventListener("paste",A),s.classList.add("deepl-gmail-message-container"),N(),r&&r.value&&(f=r.value)),n(8,m=Rl()),n(12,x=o.targetLanguageUserInput),j(),K(),window.addEventListener("popstate",z)})),ho((()=>{window.removeEventListener("popstate",z),s.removeEventListener("input",A),s.removeEventListener("paste",A),s.classList.remove("deepl-gmail-message-container"),W()}));const N=async()=>{const e=s.getInnerHTML(),t=e.replace(/<[^>]+>/g,"");const o=await Pt(t);o.length&&(e=>{const t=m.find((t=>t.value===e));t&&n(1,k=t)})(o)},A=()=>{E&&(P(!1),te()),R()},R=()=>{N()},P=(e,t)=>{if(!e)return n(3,E=!1),u=null,void(d=null);n(3,E=!0),u=t},z=()=>{document.querySelectorAll("deepl-gmail-character-limit-popup").forEach((e=>{e.cleanupDOM,e.remove()}))},H=(e,t=!0)=>{for(;null!==e;){const n=e.getAttribute("role");if("TABLE"===e.tagName&&("dialog"===n||"presentation"===n))return t?e.parentElement:e;e=e.parentElement}return null},B=()=>{const e=H(s);e&&(_=document.createElement("deepl-gmail-character-limit-popup"),_.createDOM({onCloseCharLimitPopup:z}),e.appendChild(_))},U=(e=!0)=>{if(!s)return;s.classList.add("deepl-loading-skeleton");const t=document.createElement("style");t.textContent="\n        ::selection {\n          color: transparent !important;\n        }\n      ",document.head.appendChild(t),v=t,e&&r&&r.classList.add("deepl-selection-loading-skeleton-subject")},q=()=>{s&&(s.classList.remove("deepl-loading-skeleton"),document.head.removeChild(v),v=null,r&&r.classList.remove("deepl-selection-loading-skeleton-subject"))},F=e=>{xa.update({error:e.message?e.message:e})},j=()=>{w=setInterval(G,100)},W=()=>{clearInterval(w)},G=()=>{const e=JSON.stringify(s.getBoundingClientRect());e!==b&&(b=e,K())},V=()=>{const e=H(s),t=e.getBoundingClientRect();if(!e||!t)return;return e.querySelector("[role=toolbar]")},Z=()=>{const e=H(s),t=e.getBoundingClientRect();if(!e||!t)return;const n=e.querySelector("[role='group']"),o=n.querySelectorAll("[role='button']");if(!n||!o)return;const i=Array.from(o);return i[i.length-1]},K=()=>{const e=H(s),t=e.getBoundingClientRect();if(!e||!t)return;const o=V(),i=Z();if(o&&0!==o.getBoundingClientRect().top){const e=o.getBoundingClientRect();return i&&i.getBoundingClientRect()?(n(9,$=e.top-10),void n(10,y=i.getBoundingClientRect().right-30)):(n(9,$=e.top-10),void n(10,y=t.right-45))}if(!i||!i.getBoundingClientRect())return;const a=i.getBoundingClientRect();n(9,$=a.top-18),n(10,y=a.right-30)},X=({lang:e,sourceLength:t,targetLang:n,targetLength:o})=>{d={lang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:Be.gmail}},Y=({sourceLang:e,sourceLength:t,targetLang:n,targetLength:o})=>{d={sourceLang:e,sourceLength:t,targetLang:n,targetLength:o,nicheIntegration:Be.gmail}},Q=e=>{mi({action:"dlTrackTranslateAcceptOrRevertEvent",payload:{eventType:e?dt:ut,acceptOrRevertMetadata:d}})},J=e=>{mi({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:tr(e)}})},ee=e=>/^[\n\s]*$/.test(e),te=()=>{S=!1,L=null,T&&(document.body.removeChild(T),T=null)},ne=()=>{(()=>{if(!T)return;T.getContext("2d").clearRect(0,0,T.width,T.height)})();const e=(e=>{const t=H(s,!1),n=V();let o,i;if(n&&0!==n.getBoundingClientRect().top&&(o=n.getBoundingClientRect().top),!o){const e=Z();if(!e)return;o=e.getBoundingClientRect().top-21}const a=t.querySelector("[name='subjectbox']").getBoundingClientRect();if(0===a.bottom){const e=t.querySelector('table[role="presentation"]');e&&(i=e.getBoundingClientRect().bottom)}else i=a.bottom;return e.filter((e=>e.top>i&&e.bottom<o))})(((e,t)=>{const n=iv(e),o=iv(t),i=n.filter((e=>!ee(e.nodeValue))),s=o.filter((e=>!ee(e.nodeValue))),a=[];return i.forEach(((e,t)=>{const n=s[t];if(!n)return;const o=e.nodeValue,i=n.nodeValue;if(!o||!i)return;let r=[];r=r_(o,i);const l=r.map((t=>l_(e,t.changeOffset,t.changeLength,t.original,t.replace)));a.push([e,r,l])})),a.map((e=>e[2])).flat()})(s,L)),t=(e=>{const{top:t,left:n}=s.getBoundingClientRect();return e.map((e=>({...e,top:e.top-t,bottom:e.bottom-t,right:e.right-n,left:e.left-n})))})(e);ie(t),S&&setTimeout((()=>{requestAnimationFrame(ne)}),1e3/30)},oe=()=>{T||(T=document.createElement("canvas"),document.body.appendChild(T));const e=s.getBoundingClientRect(),t=window.devicePixelRatio||1,n=e.width*t,o=e.height*t;T.width=n,T.height=o,T.style.backgroundColor="transparent",T.style.pointerEvents="none",T.style.position="fixed",T.style.top=`${e.top}px`,T.style.left=`${e.left}px`,T.style.width=`${n}px`,T.style.height=`${o}px`,T.style.zIndex="100"},ie=e=>{oe();const t=T.getContext("2d");t.strokeStyle="#006494",t.lineWidth=2,e.forEach((({left:e,bottom:n,right:o})=>{t.beginPath(),t.moveTo(e,n),t.lineTo(o,n),t.stroke()}))};return e.$$set=e=>{"messageContainer"in e&&n(18,s=e.messageContainer),"updateLockStatus"in e&&n(0,a=e.updateLockStatus),"subjectInput"in e&&n(19,r=e.subjectInput)},e.$$.update=()=>{2&e.$$.dirty[0]&&n(8,m=Rl(k)),4&e.$$.dirty[0]&&(g=!0===o.isLoggedIn&&!0===o.isProUser),2&e.$$.dirty[0]&&k&&k.value&&n(7,O=["EN","DE"].includes(k.value))},[a,k,o,E,M,I,p,O,m,$,y,C,x,i,async()=>{if(!s)return;h=s.getInnerHTML();const e=r&&r.value;e&&(f=r.value);const t=s.innerText,o=t.length>Sl;if(!g&&o)return B(),void J(vt);U();const i=C?C.value:k.value;try{if(await Vm(s,{targetLang:x,nicheIntegration:Be.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await mi({action:"dlRequestInputTranslation",payload:{requests:[{text:r.value}],domainName:window.location.hostname,websiteLanguage:i,targetLang:x,skipDapReporting:!0}});if(e[0]?.text){const t=e[0]?.text;n(19,r.value=t,r)}}n(6,p=!1),P(!0,c),q(),Y({sourceLang:i,targetLang:x,sourceLength:t.length,targetLength:s.innerText.length})}catch(e){F(e),q(),n(6,p=!1),P(!1)}},async()=>{if(!s)return;const e=r&&r.value;h=s.getInnerHTML(),L=s.cloneNode(!0),oe(),e&&(f=r.value);const t=s.innerText,o=t.length>Sl;if(!g&&o)return B(),void J(wt);n(6,p=!0),U();const i=k.value;let a=!1;try{if(Gd({eventType:ot,lang:k.value,sourceLength:t.length,nicheIntegration:Be.gmail}),await Vm(s,{isWriteRequest:!0,sourceLang:i,nicheIntegration:Be.gmail,isHtml:!0,clearInnerHTML:!0}),e){const e=await mi({action:"dlRequestImproveWriting",payload:{requests:[{text:r.value}],domainName:window.location.hostname,websiteLanguage:i,sourceLang:i}});if(e[0]?.text){const t=e[0]?.text;n(19,r.value=t,r)}}X({lang:i,sourceLength:t.length,targetLength:s.innerText.length}),n(6,p=!1),P(!0,l),q(),S=!0,a=!0}catch(e){F(e),q(),n(6,p=!1),P(!1)}if(a)try{S=!0,ne()}catch(e){te()}},()=>{u===c?Q(!0):Gd({eventType:rt,...d}),h=null,f=null,P(!1),N(),n(5,I=!1),te()},()=>{u===c?Q(!1):Gd({eventType:lt,...d}),n(18,s.innerHTML=h,s),r&&f&&n(19,r.value=f,r),N(),P(!1),te()},s,r,e=>{n(11,C=e.detail.selectedOption)},async e=>{n(12,x=e.detail.selectedOption.value)},()=>{a(!0),n(5,I=!I),n(4,M=!0)},()=>{a(!0)},()=>{a(!1),n(5,I=!1)}]}class av extends Yo{constructor(e){super(),Xo(this,e,sv,ov,_n,{messageContainer:18,updateLockStatus:0,subjectInput:19},null,[-1,-1,-1])}}class rv extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({container:e,subjectInput:t,updateLockStatus:n}){this.mainComponent=new av({target:this.shadowContainer,props:{messageContainer:e,updateLockStatus:n,subjectInput:t}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function lv(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dl-gmail")},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}window.customElements.define(xl,rv);function cv(e,t,n){let o,i,s,a,r;wn(e,ga,(e=>n(5,o=e)));let l=!1;const c=()=>{g(),o.isGmailEnabled?d():u()},d=()=>{p(),m()},u=()=>{Ml([Tl,$l,xl])},g=()=>{const e="data-has-dl-icon",t=document.querySelector("header");if(!t||"banner"!==t.getAttribute("role")||t.hasAttribute(e))return;const n=t.querySelector("[role='search']");if(!n)return;const o=n.parentNode;if(!o)return;const i=document.createElement(yl);o.insertAdjacentElement("afterend",i),i.createDOM(),t.setAttribute(e,!0)},p=()=>{if(Il()){const e=Dl();if(!e)return;e.forEach((e=>{const t=Al(e);if(!t||Ol(e))return;const n=t.parentNode;if(!n)return;const o=document.createElement($l);n.after(o),o.createDOM({container:e})}))}},m=()=>{const e=document.activeElement;if(!e)return;const t=e.hasAttribute("contenteditable"),n=Nl(e),o=e.hasAttribute(Ll),i=e!==a,s=!r&&(!t||n||i),c=t&&(!o||i)&&!n;!s||c||l?(l=!1,s&&f(),c&&(f(),h(e))):l=!0},h=e=>{const t=document.createElement(xl);s=t,a=e,e.setAttribute(Ll,"true"),document.body.appendChild(t);const n=(e=>{const t=function(e){let t=e;for(;null!==t;){if("dialog"===t.getAttribute("role"))return t;t=t.parentElement}return null}(e);return t?t.querySelector('input[name="subjectbox"]'):null})(e);t.createDOM({container:e,subjectInput:n,updateLockStatus:_})},f=()=>{s&&s.cleanupDOM();const e=Array.from(document.querySelectorAll(xl));for(const t of e)t.remove();document.querySelectorAll('[contenteditable][deepl-writing-ui-added="true"]').forEach((e=>e.removeAttribute(Ll))),s=null},_=e=>{r=e},v=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?w():b()},w=()=>{i&&clearInterval(i),i=setInterval(c,200)},b=()=>{clearInterval(i)};return mo((()=>{w(),chrome.runtime.onMessage.addListener(v)})),ho((()=>{u(),i&&b(),chrome.runtime.onMessage.removeListener(v)})),[]}class dv extends Yo{constructor(e){super(),Xo(this,e,cv,lv,_n,{})}}class uv extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new dv({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}showOnboarding(){this.mainComponent.showOnboarding()}}function gv(e){let t,n,o,i;return{c(){t=Bn("button"),n=Bn("span"),Zn(n,"class","svelte-1mtvz9f"),Zn(t,"class","switch svelte-1mtvz9f"),Zn(t,"data-qa",e[1]),no(t,"checked",e[0])},m(s,a){Pn(s,t,a),Nn(t,n),o||(i=Wn(t,"click",e[2]),o=!0)},p(e,[n]){2&n&&Zn(t,"data-qa",e[1]),1&n&&no(t,"checked",e[0])},i:un,o:un,d(e){e&&zn(t),o=!1,i()}}}function pv(e,t,n){let{checked:o=!1}=t,{qaRoot:i="dl-switch"}=t;const s=fo();return e.$$set=e=>{"checked"in e&&n(0,o=e.checked),"qaRoot"in e&&n(1,i=e.qaRoot)},[o,i,function(){s("change",{checked:!o})}]}window.customElements.define(Cl,uv);class mv extends Yo{constructor(e){super(),Xo(this,e,pv,gv,_n,{checked:0,qaRoot:1})}}function hv(e){let t,n,o,i;return{c(){t=Un("svg"),n=Un("path"),Zn(n,"d","M1 7L5 11L15 1"),Zn(n,"stroke",o=e[0]?e[3]:e[4]),Zn(n,"stroke-width","2"),Zn(n,"stroke-linecap","round"),Zn(n,"stroke-linejoin","round"),Zn(n,"class","svelte-mrm8jk"),Zn(t,"width",e[2]),Zn(t,"height",e[1]),Zn(t,"class","checkmark svelte-mrm8jk"),Zn(t,"viewBox","0 0 16 12"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg"),Zn(t,"style",i=`padding: ${e[6]};`),no(t,"enableHover",e[5])},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,[s]){25&s&&o!==(o=e[0]?e[3]:e[4])&&Zn(n,"stroke",o),4&s&&Zn(t,"width",e[2]),2&s&&Zn(t,"height",e[1]),64&s&&i!==(i=`padding: ${e[6]};`)&&Zn(t,"style",i),32&s&&no(t,"enableHover",e[5])},i:un,o:un,d(e){e&&zn(t)}}}function fv(e,t,n){let{disabled:o=!1}=t,{height:i="16px"}=t,{width:s="16px"}=t,{disabledColor:a="#727A83"}=t,{enabledColor:r="#007E5E"}=t,{enableHover:l=!1}=t,{padding:c}=t;return e.$$set=e=>{"disabled"in e&&n(0,o=e.disabled),"height"in e&&n(1,i=e.height),"width"in e&&n(2,s=e.width),"disabledColor"in e&&n(3,a=e.disabledColor),"enabledColor"in e&&n(4,r=e.enabledColor),"enableHover"in e&&n(5,l=e.enableHover),"padding"in e&&n(6,c=e.padding)},[o,i,s,a,r,l,c]}class _v extends Yo{constructor(e){super(),Xo(this,e,fv,hv,_n,{disabled:0,height:1,width:2,disabledColor:3,enabledColor:4,enableHover:5,padding:6})}}function vv(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dot svelte-oyeyv8")},m(e,n){Pn(e,t,n)},d(e){e&&zn(t)}}}function wv(e){let t,n,o,i,s,a,r,l,c,d,u,g,p=!e[2]&&!e[0].wasGmailOnboardingShown&&bv();return c=new mv({props:{checked:e[0].isGmailEnabled}}),c.$on("change",e[7]),{c(){t=Bn("div"),n=Bn("div"),p&&p.c(),o=Fn(),i=Bn("div"),s=Bn("div"),a=Bn("div"),a.textContent=`${chrome.i18n.getMessage("gmail_onboarding_toggle")}`,r=Fn(),l=Bn("div"),Vo(c.$$.fragment),Zn(n,"class","svelte-oyeyv8"),no(n,"content",!e[2]&&!e[0].wasGmailOnboardingShown),Zn(a,"class","switch-content svelte-oyeyv8"),Zn(l,"class","switch"),Zn(s,"class","switch-container svelte-oyeyv8"),no(s,"topBorder",!e[0].wasGmailOnboardingShown),Zn(i,"class","footer"),Zn(t,"class","onboarding-popup svelte-oyeyv8")},m(m,h){Pn(m,t,h),Nn(t,n),p&&p.m(n,null),Nn(t,o),Nn(t,i),Nn(i,s),Nn(s,a),Nn(s,r),Nn(s,l),Zo(c,l,null),d=!0,u||(g=[Sn(cn.call(null,t,{isShadow:!0,exceptions:["#dl-gmail-settings-icon"]})),Wn(t,"click_outside",e[8])],u=!0)},p(e,t){e[2]||e[0].wasGmailOnboardingShown?p&&(zo(),Uo(p,1,1,(()=>{p=null})),Ho()):p?(p.p(e,t),5&t&&Bo(p,1)):(p=bv(),p.c(),Bo(p,1),p.m(n,null)),(!d||5&t)&&no(n,"content",!e[2]&&!e[0].wasGmailOnboardingShown);const o={};1&t&&(o.checked=e[0].isGmailEnabled),c.$set(o),(!d||1&t)&&no(s,"topBorder",!e[0].wasGmailOnboardingShown)},i(e){d||(Bo(p),Bo(c.$$.fragment,e),d=!0)},o(e){Uo(p),Uo(c.$$.fragment,e),d=!1},d(e){e&&zn(t),p&&p.d(),Ko(c),u=!1,hn(g)}}}function bv(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y;return c=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),m=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),w=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("gmail_onboarding_title")}`,i=Fn(),s=Bn("div"),a=Fn(),r=Bn("div"),l=Bn("div"),Vo(c.$$.fragment),d=Fn(),u=Bn("div"),u.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_1")}`,g=Fn(),p=Bn("div"),Vo(m.$$.fragment),h=Fn(),f=Bn("div"),f.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_2")}`,_=Fn(),v=Bn("div"),Vo(w.$$.fragment),b=Fn(),$=Bn("div"),$.textContent=`${chrome.i18n.getMessage("gmail_onboarding_body_3")}`,Zn(n,"class","left svelte-oyeyv8"),Zn(s,"class","right"),Zn(t,"class","title svelte-oyeyv8"),Zn(u,"class","copy-text svelte-oyeyv8"),Zn(l,"class","copy svelte-oyeyv8"),Zn(f,"class","copy-text svelte-oyeyv8"),Zn(p,"class","copy svelte-oyeyv8"),Zn($,"class","copy-text svelte-oyeyv8"),Zn(v,"class","copy svelte-oyeyv8"),Zn(r,"class","body svelte-oyeyv8")},m(e,C){Pn(e,t,C),Nn(t,n),Nn(n,o),Nn(t,i),Nn(t,s),Pn(e,a,C),Pn(e,r,C),Nn(r,l),Zo(c,l,null),Nn(l,d),Nn(l,u),Nn(r,g),Nn(r,p),Zo(m,p,null),Nn(p,h),Nn(p,f),Nn(r,_),Nn(r,v),Zo(w,v,null),Nn(v,b),Nn(v,$),y=!0},p:un,i(e){y||(Bo(c.$$.fragment,e),Bo(m.$$.fragment,e),Bo(w.$$.fragment,e),y=!0)},o(e){Uo(c.$$.fragment,e),Uo(m.$$.fragment,e),Uo(w.$$.fragment,e),y=!1},d(e){e&&zn(t),e&&zn(a),e&&zn(r),Ko(c),Ko(m),Ko(w)}}}function $v(e){let t,n,o,i,s,a,r,l=e[3]&&vv(),c=e[1]&&wv(e);return{c(){t=Bn("div"),n=Bn("div"),o=Fn(),l&&l.c(),i=Fn(),c&&c.c(),Zn(n,"class","icon svelte-oyeyv8"),Zn(n,"id","dl-gmail-settings-icon"),no(n,"notification",e[3]),no(n,"isOnboardingPopupOpen",e[1]),no(n,"enabled",e[0].isGmailEnabled),Zn(t,"class","deepl-gmail-header-toolbar svelte-oyeyv8")},m(d,u){Pn(d,t,u),Nn(t,n),Nn(t,o),l&&l.m(t,null),Nn(t,i),c&&c.m(t,null),s=!0,a||(r=Wn(n,"click",Vn(Gn(e[6]))),a=!0)},p(e,[o]){(!s||8&o)&&no(n,"notification",e[3]),(!s||2&o)&&no(n,"isOnboardingPopupOpen",e[1]),(!s||1&o)&&no(n,"enabled",e[0].isGmailEnabled),e[3]?l||(l=vv(),l.c(),l.m(t,i)):l&&(l.d(1),l=null),e[1]?c?(c.p(e,o),2&o&&Bo(c,1)):(c=wv(e),c.c(),Bo(c,1),c.m(t,null)):c&&(zo(),Uo(c,1,1,(()=>{c=null})),Ho())},i(e){s||(Bo(c),s=!0)},o(e){Uo(c),s=!1},d(e){e&&zn(t),l&&l.d(),c&&c.d(),a=!1,r()}}}function yv(e,t,n){let o;wn(e,ga,(e=>n(0,o=e)));let i=!1,s=!1,a=!1;const r=async e=>{n(1,i=e),e||o.wasGmailOnboardingShown||await ga.set({wasGmailOnboardingShown:!0}),mi({action:"dlTrackUILocationClicked",payload:re}),e&&mi({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Be.gmail}})},l=async e=>{await ga.set({isGmailEnabled:e}),mi({action:"dlTrackCustomizationEnabledEvent",payload:{nicheIntegration:Be.gmail,uiLocation:ae,customizationEnabled:e}})};return e.$$.update=()=>{1&e.$$.dirty&&n(2,s=!0===o.isLoggedIn&&!0===o.isProUser),1&e.$$.dirty&&n(3,a=!o.wasGmailOnboardingShown)},[o,i,s,a,r,l,()=>{r(!i)},e=>l(e.detail.checked),()=>{r(!1)}]}class Cv extends Yo{constructor(e){super(),Xo(this,e,yv,$v,_n,{})}}class xv extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new Cv({target:this.shadowContainer})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Tv(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b,$,y,C,x,T,L,S,k,E,M,I,D,O,N,A,R,P=chrome.i18n.getMessage("gmail_reading_translate_button")+"",z=chrome.i18n.getMessage("gmail_reading_forward_button")+"",H=null!=e[4]&&Lv(e);return l=new Wa({props:{disabled:e[0],websiteSettings:xa,value:e[1].selectedTargetLanguage}}),l.$on("selection",e[14]),x=new Xu({props:{tooltip:chrome.i18n.getMessage("gmail_reading_view_original_button"),multiline:!1,zIndex:2,$$slots:{default:[Sv]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Fn(),s=Bn("div"),H&&H.c(),a=Fn(),r=Bn("div"),Vo(l.$$.fragment),c=Fn(),d=Bn("div"),u=Bn("button"),g=Un("svg"),p=Un("g"),m=Un("path"),h=Un("path"),f=Un("path"),_=Un("defs"),v=Un("clipPath"),w=Un("rect"),b=Fn(),$=qn(P),y=Fn(),C=Bn("div"),Vo(x.$$.fragment),T=Fn(),L=Bn("div"),S=Bn("button"),k=Un("svg"),E=Un("path"),I=Fn(),D=qn(z),Zn(o,"class","language-icon svelte-163ya3z"),Zn(s,"class","language-selection-wrapper svelte-163ya3z"),Zn(r,"class","language-selection-wrapper svelte-163ya3z"),Zn(m,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(m,"class","deepl-icon"),Zn(h,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(h,"fill","#0f2b46"),Zn(f,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(f,"fill","#0f2b46"),Zn(p,"clip-path","url(#clip0)"),Zn(w,"width","18.5294"),Zn(w,"height","19"),Zn(w,"fill","white"),Zn(w,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(v,"id","clip0"),Zn(g,"width","15"),Zn(g,"height","15"),Zn(g,"viewBox","0 0 19 19"),Zn(g,"fill","white"),Zn(g,"xmlns","http://www.w3.org/2000/svg"),Zn(g,"class","deepl-logo-svg svelte-163ya3z"),Zn(u,"class","translate-button svelte-163ya3z"),u.disabled=e[0],Zn(u,"paddingx","none"),Zn(n,"class","left-side svelte-163ya3z"),Zn(E,"d","M15 1L19 5M19 5L15 9M19 5L1 5"),Zn(E,"stroke",M=e[2]?"#0F2B46":"#848F9B"),Zn(E,"stroke-width","1.5"),Zn(E,"stroke-linecap","round"),Zn(E,"stroke-linejoin","round"),Zn(k,"width","20"),Zn(k,"height","10"),Zn(k,"viewBox","0 0 20 10"),Zn(k,"fill","none"),Zn(k,"xmlns","http://www.w3.org/2000/svg"),Zn(k,"class","svelte-163ya3z"),S.disabled=O=!e[2],Zn(S,"class","forward-button svelte-163ya3z"),Zn(S,"paddingx","none"),Zn(L,"class","right-side svelte-163ya3z"),Zn(t,"class","dl-gmail-email-toolbar svelte-163ya3z")},m(M,O){Pn(M,t,O),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),H&&H.m(s,null),Nn(n,a),Nn(n,r),Zo(l,r,null),Nn(n,c),Nn(n,d),Nn(d,u),Nn(u,g),Nn(g,p),Nn(p,m),Nn(p,h),Nn(p,f),Nn(g,_),Nn(_,v),Nn(v,w),Nn(u,b),Nn(u,$),Nn(n,y),Nn(n,C),Zo(x,C,null),Nn(t,T),Nn(t,L),Nn(L,S),Nn(S,k),Nn(k,E),Nn(S,I),Nn(S,D),N=!0,A||(R=[Wn(u,"click",Vn(Gn(e[8]))),Wn(S,"click",e[9])],A=!0)},p(e,t){null!=e[4]?H?(H.p(e,t),16&t[0]&&Bo(H,1)):(H=Lv(e),H.c(),Bo(H,1),H.m(s,null)):H&&(zo(),Uo(H,1,1,(()=>{H=null})),Ho());const n={};1&t[0]&&(n.disabled=e[0]),2&t[0]&&(n.value=e[1].selectedTargetLanguage),l.$set(n),(!N||1&t[0])&&(u.disabled=e[0]);const o={};4&t[0]|4&t[1]&&(o.$$scope={dirty:t,ctx:e}),x.$set(o),(!N||4&t[0]&&M!==(M=e[2]?"#0F2B46":"#848F9B"))&&Zn(E,"stroke",M),(!N||4&t[0]&&O!==(O=!e[2]))&&(S.disabled=O)},i(e){N||(Bo(H),Bo(l.$$.fragment,e),Bo(x.$$.fragment,e),N=!0)},o(e){Uo(H),Uo(l.$$.fragment,e),Uo(x.$$.fragment,e),N=!1},d(e){e&&zn(t),H&&H.d(),Ko(l),Ko(x),A=!1,hn(R)}}}function Lv(e){let t,n;return t=new Wa({props:{disabled:e[0],value:e[4],websiteSettings:xa,customClass:"borderless",fontSize:"sm"}}),t.$on("selection",e[13]),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.disabled=e[0]),16&n[0]&&(o.value=e[4]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function Sv(e){let t,n,o,i,s,a;return{c(){t=Bn("button"),n=Un("svg"),o=Un("path"),Zn(o,"d","M7 16L3 12M3 12L7 8M3 12L21 12"),Zn(o,"stroke",i=e[2]?"#000":"#848F9B"),Zn(o,"stroke-width","2"),Zn(o,"stroke-linecap","round"),Zn(o,"stroke-linejoin","round"),Zn(n,"height","20px"),Zn(n,"width","20px"),Zn(n,"viewBox","0 0 24 24"),Zn(n,"fill","none"),Zn(n,"xmlns","http://www.w3.org/2000/svg"),Zn(t,"class","show-original-button svelte-163ya3z"),Zn(t,"paddingx","none"),no(t,"enabled",e[2])},m(i,r){Pn(i,t,r),Nn(t,n),Nn(n,o),s||(a=Wn(t,"click",Vn(Gn(e[7]))),s=!0)},p(e,n){4&n[0]&&i!==(i=e[2]?"#000":"#848F9B")&&Zn(o,"stroke",i),4&n[0]&&no(t,"enabled",e[2])},d(e){e&&zn(t),s=!1,a()}}}function kv(e){let t,n,o=e[5]&&e[6]&&Tv(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,n){e[5]&&e[6]?o?(o.p(e,n),96&n[0]&&Bo(o,1)):(o=Tv(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Ev(e,t,n){let o,i,s,a,r,l,c,d,u;wn(e,ga,(e=>n(1,o=e)));let g,p,m,h,f=!1,_=!1,v=!1,w=!1,b=!1,{container:$}=t;mo((async()=>{S(),k(),await T(),n(3,g=o.selectedTargetLanguage),setTimeout((()=>{n(6,b=!0)}),250),window.addEventListener("popstate",x)})),ho((()=>{window.removeEventListener("popstate",x)}));const y=()=>{i.innerText=s.innerText,i.innerHTML=s.innerHTML,c.innerText=l,n(11,_=!1)},C=e=>{c&&(e?c.classList.add("deepl-gmail-loading-skeleton"):c.classList.remove("deepl-gmail-loading-skeleton"))},x=()=>{document.querySelectorAll("deepl-gmail-character-limit-popup").forEach((e=>{e.cleanupDOM,e.remove()}))},T=async()=>{if(!a)return;if(d=await Pt(a),n(5,h=At(d)),!h)return;const e=Ht(Rt(d));n(4,m=e)},L=async()=>{const e=`<a href="https://www.deepl.com/pro" target="_blank">${chrome.i18n.getMessage("gmail_forwarding_link")}</a>`;let t;if(f)t=i.getInnerHTML();else{const n=`<p style="text-align: center;">${chrome.i18n.getMessage("gmail_forwarding_title")} ${e}</p>`;t=`${i.getInnerHTML()}<br>${n}`}const o={html:t,text:(new DOMParser).parseFromString(t,"text/html").body.textContent},s=document.querySelector("[contenteditable='true']");s.focus(),setTimeout((()=>{s.focus(),xm(s,o),n(12,w=!1)}),300)},S=()=>{const e=Array.from($.children).filter((e=>"div"===e.tagName.toLowerCase()));if(3!==e.length)return;const t=e[1];if(!t)return;const n=Array.from(t.children).filter((e=>"div"===e.tagName.toLowerCase()));if(!n||!n.length)return;const o=n[2];o&&(s=o.cloneNode(!0),i=o,o.innerHTML,a=o.innerText)},k=()=>{const e=document.querySelector("[data-thread-perm-id]");e&&(c=e,r=e.innerText,l=e.innerText)};return e.$$set=e=>{"container"in e&&n(10,$=e.container)},e.$$.update=()=>{6145&e.$$.dirty[0]&&n(2,u=_&&!v&&!w),2&e.$$.dirty[0]&&(f=!0===o.isLoggedIn&&!0===o.isProUser)},[v,o,u,g,m,h,b,y,async()=>{if(!i)return;const{domElements:e,strings:t,cloneContainer:o}=Gm(i),s=t.reduce(((e,t)=>e+t.length),0);if(!f&&s>Sl)return mi({action:"dlTrackGmailCharLimitReached",payload:{gmailActionType:tr(_t)}}),p=document.createElement("deepl-gmail-character-limit-popup"),p.createDOM({onCloseCharLimitPopup:x}),void document.body.appendChild(p);n(0,v=!0);const a=t.map((e=>({text:e}))),l=[{text:r}];(e=>{if(!e)return;const{height:t}=e.getBoundingClientRect(),n=Math.floor(t/20),o=[];for(let e=0;e<n;e++)o.push(`<div style="width: ${i=35,s=99,Math.floor(Math.random()*(s-i+1))+i}%" class="deepl-gmail-loading-skeleton">line</div>`);var i,s;e.innerHTML=o.join("")})(i),C(!0);try{const[t,s]=await Promise.all([mi({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:g,sourceLang:m,requests:a,domainName:window.location.hostname}}),mi({action:"dlRequestGmailReceivedEmailTranslation",payload:{targetLang:g,sourceLang:m,requests:l,domainName:window.location.hostname}})]);if(_r({strings:t[0]?.texts,domElements:e}),i.innerText=o.innerText,i.innerHTML=o.innerHTML,C(!1),s[0]?.text){const e=s[0]?.text;r=e,c.innerText=e}n(0,v=!1),n(11,_=!0)}catch(e){(e=>{xa.update({error:e.message?e.message:e})})(e),n(0,v=!1),y()}},()=>{n(12,w=!0);if(!Ul())return void n(12,w=!1);const e=ql();e?(e.scrollIntoView(),setTimeout((()=>{Hl(e),Bl("[contenteditable='true']",L)}),300)):n(12,w=!1)},$,_,w,e=>{n(4,m=e.detail.selectedOption.value)},e=>{n(3,g=e.detail.selectedOption.value)}]}window.customElements.define(yl,xv);class Mv extends Yo{constructor(e){super(),Xo(this,e,Ev,kv,_n,{container:10},null,[-1,-1])}}class Iv extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({container:e}){this.mainComponent=new Mv({target:this.shadowContainer,props:{container:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Dv(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}window.customElements.define($l,Iv);function Ov(e,t,n){let o,i,s;wn(e,ga,(e=>n(1,o=e)));const a=()=>{const e=window.location.pathname,t=Wr(e);if(t){const e=Gr();if(!e)return;const n=Vr(e)||Zr(e,t);n&&n.processRefreshUI()}},r=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?l():c()},l=()=>{i&&clearInterval(i),i=setInterval(a,800)},c=()=>{clearInterval(i)};mo((()=>{const e=o.zendeskSuccessfulTranslations>=50;n(0,s=o?.featureSet?.customizations?.includes("zendesk")),e&&!s&&Ln(ga,o.isZendeskEnabled=!1,o),d()}));const d=()=>{l(),chrome.runtime.onMessage.addListener(r)};return ho((()=>{i&&c(),chrome.runtime.onMessage.removeListener(r),Xr()})),e.$$.update=()=>{2&e.$$.dirty&&!o?.featureSet?.customizations?.includes("zendesk")&&o.zendeskSuccessfulTranslations>=50&&(Ln(ga,o.isZendeskEnabled=!1,o),Yr()),3&e.$$.dirty&&!1===s&&o?.featureSet?.customizations?.includes("zendesk")&&(n(0,s=!0),Ln(ga,o.isZendeskEnabled=!0,o),l()),2&e.$$.dirty&&(o.isZendeskEnabled?l():Yr())},[s,o]}class Nv extends Yo{constructor(e){super(),Xo(this,e,Ov,Dv,_n,{})}}class Av extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new Nv({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Rv(e){let t,n,o,i,s,a=chrome.i18n.getMessage("ui_gslides_write_cta")+"";return{c(){t=Bn("button"),n=qn(a),Zn(t,"class","action-button svelte-11lof0z"),t.disabled=o=!Ut(e[3])},m(o,a){Pn(o,t,a),Nn(t,n),i||(s=Wn(t,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),i=!0)},p(n,i){e=n,8&i&&o!==(o=!Ut(e[3]))&&(t.disabled=o)},d(e){e&&zn(t),i=!1,s()}}}function Pv(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w;return a=new Wa({props:{disabled:e[2],websiteSettings:e[6],value:e[3],showSortCode:!0,showRegionalVariants:!1,extraPadding:!0}}),a.$on("selection",e[10]),u=new Wa({props:{disabled:e[2],websiteSettings:e[6],value:e[4].selectedTargetLanguage,extraPadding:!0}}),u.$on("selection",e[11]),f=new Xu({props:{tooltip:chrome.i18n.getMessage("ui_gslides_write_tooltip"),zIndex:"10000000000",multiline:!0,$$slots:{default:[Rv]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_from")}`,i=Fn(),s=Bn("div"),Vo(a.$$.fragment),r=Fn(),l=Bn("p"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_into")}`,c=Fn(),d=Bn("div"),Vo(u.$$.fragment),g=Fn(),p=Bn("button"),p.textContent=`${chrome.i18n.getMessage("ui_gslides_translate_cta")}`,m=Fn(),h=Bn("div"),Vo(f.$$.fragment),Zn(o,"class","svelte-11lof0z"),Zn(s,"class","dropdown svelte-11lof0z"),Zn(l,"class","svelte-11lof0z"),Zn(d,"class","dropdown svelte-11lof0z"),Zn(p,"class","action-button svelte-11lof0z"),Zn(n,"class","translate-container svelte-11lof0z"),Zn(h,"class","write-container svelte-11lof0z"),Zn(t,"class","dl-gslides-toolbar svelte-11lof0z")},m(b,$){Pn(b,t,$),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Zo(a,s,null),Nn(n,r),Nn(n,l),Nn(n,c),Nn(n,d),Zo(u,d,null),Nn(n,g),Nn(n,p),Nn(t,m),Nn(t,h),Zo(f,h,null),_=!0,v||(w=Wn(p,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),v=!0)},p(t,[n]){e=t;const o={};4&n&&(o.disabled=e[2]),8&n&&(o.value=e[3]),a.$set(o);const i={};4&n&&(i.disabled=e[2]),16&n&&(i.value=e[4].selectedTargetLanguage),u.$set(i);const s={};4106&n&&(s.$$scope={dirty:n,ctx:e}),f.$set(s)},i(e){_||(Bo(a.$$.fragment,e),Bo(u.$$.fragment,e),Bo(f.$$.fragment,e),_=!0)},o(e){Uo(a.$$.fragment,e),Uo(u.$$.fragment,e),Uo(f.$$.fragment,e),_=!1},d(e){e&&zn(t),Ko(a),Ko(u),Ko(f),v=!1,w()}}}function zv(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(4,o=e)));const s=vo("deepl_website_settings");let{onTranslateSelection:a}=t,{onImproveSelection:r}=t,{isLoading:l}=t,{sourceLang:c}=t,{manualSourceLang:d}=t;const u=e=>{n(9,d=e)},g=e=>{Ln(i,o.selectedTargetLanguage=e,o)};return e.$$set=e=>{"onTranslateSelection"in e&&n(0,a=e.onTranslateSelection),"onImproveSelection"in e&&n(1,r=e.onImproveSelection),"isLoading"in e&&n(2,l=e.isLoading),"sourceLang"in e&&n(3,c=e.sourceLang),"manualSourceLang"in e&&n(9,d=e.manualSourceLang)},[a,r,l,c,o,i,s,u,g,d,e=>{u(e.detail.selectedOption.value)},e=>{g(e.detail.selectedOption.value)}]}window.customElements.define("deepl-zendesk-controller",Av);class Hv extends Yo{constructor(e){super(),Xo(this,e,zv,Pv,_n,{onTranslateSelection:0,onImproveSelection:1,isLoading:2,sourceLang:3,manualSourceLang:9})}}function Bv(e){let t,n,o,i,s,a,r;function l(t){e[12](t)}let c={onTranslateSelection:e[7],onImproveSelection:e[8],isLoading:e[4],sourceLang:e[1]};return void 0!==e[0]&&(c.manualSourceLang=e[0]),n=new Hv({props:c}),$o.push((()=>Go(n,"manualSourceLang",l,e[0]))),{c(){t=Bn("div"),Vo(n.$$.fragment),Zn(t,"class","dl-gslides-toolbar svelte-1n1cq2p")},m(o,i){Pn(o,t,i),Zo(n,t,null),s=!0,a||(r=[Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[13])],a=!0)},p(e,t){const i={};16&t&&(i.isLoading=e[4]),2&t&&(i.sourceLang=e[1]),!o&&1&t&&(o=!0,i.manualSourceLang=e[0],ko((()=>o=!1))),n.$set(i)},i(e){s||(Bo(n.$$.fragment,e),So((()=>{i||(i=Wo(t,Jo,{},!0)),i.run(1)})),s=!0)},o(e){Uo(n.$$.fragment,e),i||(i=Wo(t,Jo,{},!1)),i.run(0),s=!1},d(e){e&&zn(t),Ko(n),e&&i&&i.end(),a=!1,hn(r)}}}function Uv(e){let t,n;return t=new Za({props:{small:!0}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function qv(e){let t,n,o,i,s,a,r,l=e[3]&&Bv(e),c=e[4]&&Uv();return{c(){t=Bn("div"),l&&l.c(),n=Fn(),o=Bn("button"),c&&c.c(),Zn(o,"class","dl-gslides-button svelte-1n1cq2p"),Zn(o,"title","Translate with DeepL"),no(o,"is-loading",e[4]),Zn(t,"class","dl-gslides-icon svelte-1n1cq2p"),Yn(t,"bottom",e[2].bottom+"px"),Yn(t,"right",e[2].right+"px")},m(i,d){Pn(i,t,d),l&&l.m(t,null),Nn(t,n),Nn(t,o),c&&c.m(o,null),s=!0,a||(r=Wn(o,"click",e[6]),a=!0)},p(e,[i]){e[3]?l?(l.p(e,i),8&i&&Bo(l,1)):(l=Bv(e),l.c(),Bo(l,1),l.m(t,n)):l&&(zo(),Uo(l,1,1,(()=>{l=null})),Ho()),e[4]?c?16&i&&Bo(c,1):(c=Uv(),c.c(),Bo(c,1),c.m(o,null)):c&&(zo(),Uo(c,1,1,(()=>{c=null})),Ho()),(!s||16&i)&&no(o,"is-loading",e[4]),(!s||4&i)&&Yn(t,"bottom",e[2].bottom+"px"),(!s||4&i)&&Yn(t,"right",e[2].right+"px")},i(e){s||(Bo(l),Bo(c),So((()=>{i||(i=Wo(o,Jo,{},!0)),i.run(1)})),s=!0)},o(e){Uo(l),Uo(c),i||(i=Wo(o,Jo,{},!1)),i.run(0),s=!1},d(e){e&&zn(t),l&&l.d(),c&&c.d(),e&&i&&i.end(),a=!1,r()}}}const Fv="application/x-vnd.google-docs-drawings-object+wrapped",jv="application/x-vnd.google-docs-document-slice-clip+wrapped";function Wv(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(15,o=e)));let s,{registerActionIconCallbacks:a}=t,{clearActionIconCallbacks:r}=t,{sourceLang:l}=t,{manualSourceLang:c}=t,{charLimitError:d}=t,u={bottom:0,right:0},g=!1,p=!1;const m=()=>{const e=document.querySelector("#canvas-container");if(e){const t=e.getBoundingClientRect(),o=t.right>window.innerWidth?0:window.innerWidth-t.right,i=t.bottom>window.innerHeight?0:window.innerHeight-t.bottom;n(2,u={bottom:i+16,right:o+16})}else n(2,u={bottom:16,right:16})},h=async(e,t)=>{try{let i=e.clipboardData.getData(Fv),a=e.clipboardData.getData(jv);if(i){n(4,p=!0);const e=await(async(e,t)=>{const n=JSON.parse(e),i=JSON.parse(n.data),s=i.unresolved,{entities:a,sentencesToTranslate:r}=kc(s),c=await Dd({targetLang:o.selectedTargetLanguage,sourceLang:l,sentences:r,mode:t}),d=[];for(let e=0;e<a.length;e++)Ec({entity:a[e],translatedSentences:c,modifiersToDelete:d});return i.unresolved=i.unresolved.filter((e=>!d.includes(e))),n.data=JSON.stringify(i),JSON.stringify(n)})(i,t);km("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),f(e),n(4,p=!1)}else if(a){n(4,p=!0);const i=await(async(e,t)=>await Od({event:e,sourceLang:l,targetLang:o.selectedTargetLanguage,mode:t}))(e,t);km("keydown",document.querySelector("svg > g > g[pointer-events=visiblePainted]")),_(i),n(4,p=!1)}else await Sc(),s=t,n(3,g=!1),Lr()}catch(e){e.name===an?n(9,d=Tt):e.name===sn&&n(9,d=Lt),console.error(e),n(4,p=!1)}},f=e=>{const{editable:t}=Tr(),n=new DataTransfer;n.setData(Fv,e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});t.dispatchEvent(o)},_=e=>{const{editable:t}=Tr(),n=new DataTransfer;n.setData(jv,e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});t.dispatchEvent(o)};mo((()=>{setTimeout((()=>{const{editable:e}=Tr();e.addEventListener("copy",(e=>{if(s){const t=s;s=void 0,h(e,t)}}))}),2e3),a({repositionActionIcon:m})})),ho((()=>{r()}));return e.$$set=e=>{"registerActionIconCallbacks"in e&&n(10,a=e.registerActionIconCallbacks),"clearActionIconCallbacks"in e&&n(11,r=e.clearActionIconCallbacks),"sourceLang"in e&&n(1,l=e.sourceLang),"manualSourceLang"in e&&n(0,c=e.manualSourceLang),"charLimitError"in e&&n(9,d=e.charLimitError)},[c,l,u,g,p,i,()=>{n(3,g=!g)},()=>{s=Ue.translate,n(3,g=!1),Lr()},()=>{s=Ue.write,n(3,g=!1),Lr()},d,a,r,function(e){c=e,n(0,c)},()=>{n(3,g=!1)}]}class Gv extends Yo{constructor(e){super(),Xo(this,e,Wv,qv,_n,{registerActionIconCallbacks:10,clearActionIconCallbacks:11,sourceLang:1,manualSourceLang:0,charLimitError:9})}}function Vv(e){let t,n,o,i,s,a,r,l,c,d,u=e[1]&&Zv();return r=new mv({props:{checked:e[3].isGSlidesEnabled}}),r.$on("change",e[8]),{c(){t=Bn("div"),u&&u.c(),n=Fn(),o=Bn("div"),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("ui_gslides_toggle_customization")}`,s=Fn(),a=Bn("div"),Vo(r.$$.fragment),Zn(i,"class","legend"),Zn(a,"class","switch svelte-ixdewa"),Zn(o,"class","turn-on-off-panel svelte-ixdewa"),Zn(t,"class","dl-gslides-top-icon-modal svelte-ixdewa"),Yn(t,"left",e[2]+"px")},m(g,p){Pn(g,t,p),u&&u.m(t,null),Nn(t,n),Nn(t,o),Nn(o,i),Nn(o,s),Nn(o,a),Zo(r,a,null),l=!0,c||(d=[Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[9])],c=!0)},p(e,o){e[1]?u?u.p(e,o):(u=Zv(),u.c(),u.m(t,n)):u&&(u.d(1),u=null);const i={};8&o&&(i.checked=e[3].isGSlidesEnabled),r.$set(i),(!l||4&o)&&Yn(t,"left",e[2]+"px")},i(e){l||(Bo(r.$$.fragment,e),l=!0)},o(e){Uo(r.$$.fragment,e),l=!1},d(e){e&&zn(t),u&&u.d(),Ko(r),c=!1,hn(d)}}}function Zv(e){let t,n,o,i,s,a,r,l,c,d;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_title")}`,i=Fn(),s=Bn("div"),s.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_label_beta")}`,a=Fn(),r=Bn("div"),l=Bn("div"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_1")}`,c=Fn(),d=Bn("div"),d.textContent=`${chrome.i18n.getMessage("ui_gslides_onboarding_ups_2")}`,Zn(o,"class","svelte-ixdewa"),Zn(s,"class","beta-label svelte-ixdewa"),Zn(n,"class","header svelte-ixdewa"),Zn(l,"class","ups-item svelte-ixdewa"),Zn(d,"class","ups-item svelte-ixdewa"),Zn(r,"class","ups-list"),Zn(t,"class","onboarding svelte-ixdewa")},m(e,u){Pn(e,t,u),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(t,a),Nn(t,r),Nn(r,l),Nn(r,c),Nn(r,d)},p:un,d(e){e&&zn(t)}}}function Kv(e){let t,n,o,i,s,a,r=e[0]&&Vv(e);return{c(){t=Bn("button"),n=Fn(),r&&r.c(),o=jn(),Zn(t,"class","dl-gslides-top-icon svelte-ixdewa"),Yn(t,"left",e[2]+"px"),no(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown)},m(l,c){Pn(l,t,c),Pn(l,n,c),r&&r.m(l,c),Pn(l,o,c),i=!0,s||(a=Wn(t,"click",e[7]),s=!0)},p(e,[n]){(!i||4&n)&&Yn(t,"left",e[2]+"px"),(!i||8&n)&&no(t,"onboarding-pending",!e[3].isGSlidesOnboardingShown),e[0]?r?(r.p(e,n),1&n&&Bo(r,1)):(r=Vv(e),r.c(),Bo(r,1),r.m(o.parentNode,o)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho())},i(e){i||(Bo(r),i=!0)},o(e){Uo(r),i=!1},d(e){e&&zn(t),e&&zn(n),r&&r.d(e),e&&zn(o),s=!1,a()}}}function Xv(e,t,n){let o;const i=vo("deepl_settings");wn(e,i,(e=>n(3,o=e)));let s,{registerTopIconCallbacks:a}=t,{clearTopIconCallbacks:r}=t,l=!1,c=!1;const d=()=>{const e=document.querySelector(".docs-titlebar-buttons #docs-presence-container");if(e){const t=e.getBoundingClientRect();n(2,s=t.left-45)}};mo((()=>{d(),a({repositionTopIcon:d})})),ho((()=>{r()}));return e.$$set=e=>{"registerTopIconCallbacks"in e&&n(5,a=e.registerTopIconCallbacks),"clearTopIconCallbacks"in e&&n(6,r=e.clearTopIconCallbacks)},e.$$.update=()=>{3&e.$$.dirty&&l&&c&&mi({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:Be.gslides}})},[l,c,s,o,i,a,r,()=>{n(0,l=!0),o.isGSlidesOnboardingShown||(Ln(i,o.isGSlidesOnboardingShown=!0,o),n(1,c=!0))},e=>Ln(i,o.isGSlidesEnabled=e.detail.checked,o),()=>{n(1,c=!1),n(0,l=!1)}]}class Yv extends Yo{constructor(e){super(),Xo(this,e,Xv,Kv,_n,{registerTopIconCallbacks:5,clearTopIconCallbacks:6})}}function Qv(e){let t,n,o,i,s,a,r,l,c,d;return{c(){t=Bn("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_title")}`,n=Fn(),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_content")}`,i=Fn(),s=Bn("div"),a=Bn("button"),a.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_login")}`,r=Fn(),l=Bn("button"),l.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_anonymous_cta_signup")}`,Zn(t,"class","svelte-v544cy"),Zn(o,"class","svelte-v544cy"),Zn(a,"class","btn-secondary svelte-v544cy"),Zn(l,"class","btn-primary svelte-v544cy"),Zn(s,"class","buttons-row svelte-v544cy")},m(u,g){Pn(u,t,g),Pn(u,n,g),Pn(u,o,g),Pn(u,i,g),Pn(u,s,g),Nn(s,a),Nn(s,r),Nn(s,l),c||(d=[Wn(a,"click",e[3]),Wn(l,"click",e[2])],c=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(i),e&&zn(s),c=!1,hn(d)}}}function Jv(e){let t,n,o,i,s,a,r,l;return{c(){t=Bn("h2"),t.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_title")}`,n=Fn(),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_content")}`,i=Fn(),s=Bn("div"),a=Bn("button"),a.textContent=`${chrome.i18n.getMessage("ui_gslides_limit_reached_logged_in_cta")}`,Zn(t,"class","svelte-v544cy"),Zn(o,"class","svelte-v544cy"),Zn(a,"class","btn-primary svelte-v544cy"),Zn(s,"class","buttons-row svelte-v544cy")},m(c,d){Pn(c,t,d),Pn(c,n,d),Pn(c,o,d),Pn(c,i,d),Pn(c,s,d),Nn(s,a),r||(l=Wn(a,"click",e[2]),r=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(i),e&&zn(s),r=!1,l()}}}function ew(e){let t,n,o,i,s,a;function r(e,t){return e[0]===Lt?Jv:e[0]===Tt?Qv:void 0}let l=r(e),c=l&&l(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=Fn(),c&&c.c(),Zn(o,"class","close-button svelte-v544cy"),Zn(n,"class","dl-char-limit-error-container svelte-v544cy"),Zn(t,"class","dl-char-limit-error-overlay svelte-v544cy")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(n,o),Nn(n,i),c&&c.m(n,null),s||(a=[Wn(o,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),Sn(cn.call(null,n,{isShadow:!0})),Wn(n,"click_outside",(function(){fn(e[1])&&e[1].apply(this,arguments)}))],s=!0)},p(t,[o]){l===(l=r(e=t))&&c?c.p(e,o):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(n,null)))},i:un,o:un,d(e){e&&zn(t),c&&c.d(),s=!1,hn(a)}}}function tw(e,t,n){let{charLimitError:o}=t,{closeModal:i}=t;let s=!1;return e.$$set=e=>{"charLimitError"in e&&n(0,o=e.charLimitError),"closeModal"in e&&n(1,i=e.closeModal)},[o,i,()=>{mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"gslides_customization"}}),i()},()=>{s||(mi({action:"dlTrackUILocationClicked",payload:pe}),s=!0,mi({action:"dlRequestLogin"}).then((()=>{s=!1,i()})).catch((()=>{s=!1})))}]}class nw extends Yo{constructor(e){super(),Xo(this,e,tw,ew,_n,{charLimitError:0,closeModal:1})}}function ow(e){let t,n;return t=new nw({props:{charLimitError:e[1],closeModal:e[9]}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};2&n&&(o.charLimitError=e[1]),2&n&&(o.closeModal=e[9]),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function iw(e){let t,n,o,i;function s(t){e[10](t)}function a(t){e[11](t)}let r={registerActionIconCallbacks:e[6],clearActionIconCallbacks:e[7],sourceLang:e[2]};return void 0!==e[0]&&(r.manualSourceLang=e[0]),void 0!==e[1]&&(r.charLimitError=e[1]),t=new Gv({props:r}),$o.push((()=>Go(t,"manualSourceLang",s,e[0]))),$o.push((()=>Go(t,"charLimitError",a,e[1]))),{c(){Vo(t.$$.fragment)},m(e,n){Zo(t,e,n),i=!0},p(e,i){const s={};4&i&&(s.sourceLang=e[2]),!n&&1&i&&(n=!0,s.manualSourceLang=e[0],ko((()=>n=!1))),!o&&2&i&&(o=!0,s.charLimitError=e[1],ko((()=>o=!1))),t.$set(s)},i(e){i||(Bo(t.$$.fragment,e),i=!0)},o(e){Uo(t.$$.fragment,e),i=!1},d(e){Ko(t,e)}}}function sw(e){let t,n,o,i,s;t=new Yv({props:{registerTopIconCallbacks:e[4],clearTopIconCallbacks:e[5]}});let a=e[1]&&ow(e),r=e[3].isGSlidesEnabled&&iw(e);return{c(){Vo(t.$$.fragment),n=Fn(),a&&a.c(),o=Fn(),r&&r.c(),i=jn()},m(e,l){Zo(t,e,l),Pn(e,n,l),a&&a.m(e,l),Pn(e,o,l),r&&r.m(e,l),Pn(e,i,l),s=!0},p(e,[t]){e[1]?a?(a.p(e,t),2&t&&Bo(a,1)):(a=ow(e),a.c(),Bo(a,1),a.m(o.parentNode,o)):a&&(zo(),Uo(a,1,1,(()=>{a=null})),Ho()),e[3].isGSlidesEnabled?r?(r.p(e,t),8&t&&Bo(r,1)):(r=iw(e),r.c(),Bo(r,1),r.m(i.parentNode,i)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho())},i(e){s||(Bo(t.$$.fragment,e),Bo(a),Bo(r),s=!0)},o(e){Uo(t.$$.fragment,e),Uo(a),Uo(r),s=!1},d(e){Ko(t,e),e&&zn(n),a&&a.d(e),e&&zn(o),r&&r.d(e),e&&zn(i)}}}function aw(e,t,n){let o,i,s,a,r,l,c,d;wn(e,ga,(e=>n(3,i=e))),_o("deepl_settings",ga),_o("deepl_website_settings",xa);const u=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?g():p()},g=()=>{s&&clearInterval(s),s=setInterval(m,800)},p=()=>{clearInterval(s)},m=()=>{a&&a(),r&&r(),c||h()},h=async()=>{n(8,l=await Lc()||"EN-US")};mo((()=>{g(),chrome.runtime.onMessage.addListener(u)})),ho((()=>{s&&p(),chrome.runtime.onMessage.removeListener(u)}));return e.$$.update=()=>{257&e.$$.dirty&&n(2,o=c||l)},[c,d,o,i,e=>{a=e.repositionTopIcon},()=>{a=void 0},e=>{r=e.repositionActionIcon},()=>{r=void 0},l,()=>n(1,d=void 0),function(e){c=e,n(0,c)},function(e){d=e,n(1,d)}]}class rw extends Yo{constructor(e){super(),Xo(this,e,aw,sw,_n,{})}}class lw extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new rw({target:this.shadowContainer,props:{onClose:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function cw(e){let t,n,o,i,s;return n=new Pa({props:{items:e[1],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-formality-selection-button",dataQaList:"deepl-formality-selection-list",variant:"zendesk",isFullWidth:e[0],direction:"up"}}),n.$on("valueselected",e[3]),{c(){t=Bn("div"),Vo(n.$$.fragment)},m(a,r){Pn(a,t,r),Zo(n,t,null),o=!0,i||(s=Wn(t,"mousedown",Vn(Gn(e[5]))),i=!0)},p(e,[t]){const o={};2&t&&(o.items=e[1]),4&t&&(o.selectedOption=e[2]),1&t&&(o.isFullWidth=e[0]),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n),i=!1,s()}}}function dw(e,t,n){let o,i;const s=fo();let{value:a}=t,{isFullWidth:r=!1}=t;return e.$$set=e=>{"value"in e&&n(4,a=e.value),"isFullWidth"in e&&n(0,r=e.isFullWidth)},e.$$.update=()=>{18&e.$$.dirty&&n(2,i=a?o.find((e=>e.value===a)):o.find((e=>"auto"===e.value)))},n(1,o=[{value:"auto",label:chrome.i18n.getMessage("ui_formality_automatic"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_automatic")},{value:"formal",label:chrome.i18n.getMessage("ui_formality_formal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_formal")},{value:"informal",label:chrome.i18n.getMessage("ui_formality_informal"),selectedOptionLabel:chrome.i18n.getMessage("ui_formality_informal")}]),[r,o,i,function(e){e.detail.selectedOption.value!==a&&s("selection",e.detail)},a,function(t){wo.call(this,e,t)}]}window.customElements.define("deepl-gslides-controller",lw);class uw extends Yo{constructor(e){super(),Xo(this,e,dw,cw,_n,{value:4,isFullWidth:0})}}function gw(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),n=Bn("button"),o=Fn(),i=qn(e[3]),Zn(n,"class","close-button svelte-13n3z3n"),Zn(t,"class","dl-zendesk-error-message svelte-13n3z3n")},m(s,a){Pn(s,t,a),Nn(t,n),Nn(t,o),Nn(t,i),r=!0,l||(c=[Wn(n,"click",e[8]),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[8])],l=!0)},p(e,t){(!r||8&t[0])&&Kn(i,e[3])},i(e){r||(So((()=>{a&&a.end(1),s=Fo(t,ei,{y:-5,duration:300}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=jo(t,ei,{y:-5,duration:300}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,hn(c)}}}function pw(e){let t,n;return t=new uw({props:{value:e[6].zendeskFormality}}),t.$on("selection",e[9]),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};64&n[0]&&(o.value=e[6].zendeskFormality),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function mw(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<span class="svelte-13n3z3n"></span>',Zn(t,"class","dl-zendesk-input-icon svelte-13n3z3n"),no(t,"is-active",e[1]),no(t,"is-loading",e[2]),no(t,"is-language-mismatching",e[0])},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[7]),n=!0)},p(e,n){2&n[0]&&no(t,"is-active",e[1]),4&n[0]&&no(t,"is-loading",e[2]),1&n[0]&&no(t,"is-language-mismatching",e[0])},d(e){e&&zn(t),n=!1,o()}}}function hw(e){let t,n,o,i,s,a=e[3]&&gw(e),r=e[4]&&pw(e);return i=new Xu({props:{tooltip:e[5],zIndex:"0",$$slots:{default:[mw]},$$scope:{ctx:e}}}),{c(){a&&a.c(),t=Fn(),n=Bn("div"),r&&r.c(),o=Fn(),Vo(i.$$.fragment),Zn(n,"class","dl-icons-holder svelte-13n3z3n"),no(n,"has-formality",e[4])},m(e,l){a&&a.m(e,l),Pn(e,t,l),Pn(e,n,l),r&&r.m(n,null),Nn(n,o),Zo(i,n,null),s=!0},p(e,l){e[3]?a?(a.p(e,l),8&l[0]&&Bo(a,1)):(a=gw(e),a.c(),Bo(a,1),a.m(t.parentNode,t)):a&&(zo(),Uo(a,1,1,(()=>{a=null})),Ho()),e[4]?r?(r.p(e,l),16&l[0]&&Bo(r,1)):(r=pw(e),r.c(),Bo(r,1),r.m(n,o)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho());const c={};32&l[0]&&(c.tooltip=e[5]),7&l[0]|2&l[1]&&(c.$$scope={dirty:l,ctx:e}),i.$set(c),(!s||16&l[0])&&no(n,"has-formality",e[4])},i(e){s||(Bo(a),Bo(r),Bo(i.$$.fragment,e),s=!0)},o(e){Uo(a),Uo(r),Uo(i.$$.fragment,e),s=!1},d(e){a&&a.d(e),e&&zn(t),e&&zn(n),r&&r.d(),Ko(i)}}}function fw(e,n,o){let i,s,a;wn(e,ga,(e=>o(6,a=e)));let r,l,c,d,{controller:u}=n,{editable:g}=n,p=!1,m=!1,h=!1,f=!1,_="",v="",w=!1;const b=()=>{o(1,p=!0)},$=()=>{o(1,p=!1)};async function y(e,t,n){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==g)return;try{mi({action:"dlTrackUseOfShortcut",payload:{shortcutType:he,location:U}})}catch(e){console.error(e)}await C(),n()}}const C=async()=>{if(f)return;const e=()=>{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});m=!0,g.dispatchEvent(e)},t=window.getSelection(),n=t&&t.baseNode&&"#text"==t.baseNode.nodeName&&"Range"==t.type&&g.contains(t.baseNode);0!==g.innerText.trim().length&&(n?e():(await Cm(g),setTimeout(e,300)))},x=async e=>{if(!m)return;m=!1,o(2,f=!0),o(0,w=!1);const t=u.getTicketLanguageInformation()?.language,n=e.clipboardData.getData("text/html"),s=u.getInputWorkingArea();s.innerHTML=n;const[r,l]=await Nd({element:s,targetLang:t,...i&&["formal","informal"].includes(a.zendeskFormality)&&{formality:a.zendeskFormality}});l?(console.error({e:l}),o(3,c=l),Wd({eventType:Ye,controller:u,error:l})):r&&L(r,n),o(2,f=!1)},T=()=>{if(!h)return;h=!1;window.getSelection().collapse(null)},L=(e,t)=>{const n=new DataTransfer;n.setData("text/html",e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});h=!0,g.dispatchEvent(o),Wd({eventType:Xe,controller:u,sourceTextLength:t.length,targetTextLength:e.length})},S=()=>{const e=g.innerText;e!==v&&(v=e,d&&(clearTimeout(d),d=void 0),d=setTimeout(k,400))},k=async()=>{const e=u.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=g.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let n=await Pt(t),i=e.language;n=Ht(n),i=Ht(i);let s=!1;n&&i&&n!==i&&(s=!0),w!==s&&o(0,w=s)}else console.log("There is no content"),o(0,w=!1),E()},E=()=>{r&&r.resetTooltip()};return mo((()=>{chrome.runtime.onMessage.addListener(y),mi({action:"dlCheckCommandShortcuts"}).then((e=>{o(14,_=e?e.filter((e=>e.name==he))[0].shortcut:"")})),g.addEventListener("focus",b),g.addEventListener("blur",$),g.addEventListener("copy",x),g.addEventListener("paste",T),g.addEventListener("keydown",S),r=wl(u),document.activeElement===g&&b()})),ho((()=>{chrome.runtime.onMessage.removeListener(y),g&&(g.removeEventListener("focus",b),g.removeEventListener("blur",$),g.removeEventListener("copy",x),g.removeEventListener("paste",T),g.removeEventListener("keydown",S),r&&(r.cleanupDOM(),r.remove()))})),e.$$set=e=>{"controller"in e&&o(10,u=e.controller),"editable"in e&&o(11,g=e.editable)},e.$$.update=()=>{32768&e.$$.dirty[0]&&o(4,i=(e=>{const n=t.find((t=>t.langCode===e));return n&&n.supportsFormality})(l)),49152&e.$$.dirty[0]&&o(5,s=t.find((e=>e.langCode===l))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(_?` (${_})`:""):""),1&e.$$.dirty[0]&&r&&r.setIsLanguageMismatching(w)},[w,p,f,c,i,s,a,C,()=>{o(3,c=void 0)},e=>{const t=e.detail.selectedOption.value;Ln(ga,a.zendeskFormality=t,a)},u,g,e=>{o(15,l=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&g.contains(e.baseNode)},_,l]}class _w extends Yo{constructor(e){super(),Xo(this,e,fw,hw,_n,{controller:10,editable:11,updateTargetLanguage:12,getInputHasSelection:13},null,[-1,-1])}get updateTargetLanguage(){return this.$$.ctx[12]}get getInputHasSelection(){return this.$$.ctx[13]}}class vw extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.getInputHasSelection=this.getInputHasSelection.bind(this),this.updateTargetLanguage=this.updateTargetLanguage.bind(this)}createDOM({controller:e,editable:t}){this.mainComponent=new _w({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})}getInputHasSelection(){return this.mainComponent.getInputHasSelection()}updateTargetLanguage(e){this.mainComponent?.updateTargetLanguage(e)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function ww(e,t,n){const o=e.slice();return o[16]=t[n],o[18]=n,o}function bw(e){let t,n,o=!e[0]&&yw(e),i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=Tw(ww(e,i,t));return{c(){t=Bn("div"),o&&o.c(),n=Fn();for(let e=0;e<s.length;e+=1)s[e].c();Zn(t,"class","dl-zendesk-translation-placeholder svelte-38njeq"),no(t,"loading-skeleton",e[0])},m(e,i){Pn(e,t,i),o&&o.m(t,null),Nn(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,a){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,a):(o=yw(e),o.c(),o.m(t,n)),8&a){let n;for(i=e[3],n=0;n<i.length;n+=1){const o=ww(e,i,n);s[n]?s[n].p(o,a):(s[n]=Tw(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}1&a&&no(t,"loading-skeleton",e[0])},d(e){e&&zn(t),o&&o.d(),Hn(s,e)}}}function $w(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("button"),o=Fn(),i=qn(e[2]),Zn(n,"class","close-button svelte-38njeq"),Zn(t,"class","dl-zendesk-translation-placeholder has-error svelte-38njeq")},m(r,l){Pn(r,t,l),Nn(t,n),Nn(t,o),Nn(t,i),s||(a=Wn(n,"click",e[6]),s=!0)},p(e,t){4&t&&Kn(i,e[2])},d(e){e&&zn(t),s=!1,a()}}}function yw(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"class","close-button svelte-38njeq")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[5]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function Cw(e){let t,n,o=e[16]+"";return{c(){t=Bn("span"),n=qn(o),Zn(t,"class","svelte-38njeq")},m(e,o){Pn(e,t,o),Nn(t,n)},p(e,t){8&t&&o!==(o=e[16]+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function xw(e){let t;return{c(){t=Bn("br")},m(e,n){Pn(e,t,n)},d(e){e&&zn(t)}}}function Tw(e){let t,n,o=e[16]&&Cw(e),i=e[18]<e[3].length-1&&xw();return{c(){o&&o.c(),t=Fn(),i&&i.c(),n=jn()},m(e,s){o&&o.m(e,s),Pn(e,t,s),i&&i.m(e,s),Pn(e,n,s)},p(e,s){e[16]?o?o.p(e,s):(o=Cw(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[18]<e[3].length-1?i||(i=xw(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&zn(t),i&&i.d(e),e&&zn(n)}}}function Lw(e){let t,n,o,i,s,a;function r(e,t){return e[2]?$w:e[1]||e[0]?bw:void 0}let l=r(e),c=l&&l(e);return{c(){t=Bn("div"),n=Bn("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=Fn(),c&&c.c(),i=jn(),Zn(n,"class","dl-zendesk-translate-this-ticket svelte-38njeq")},m(r,l){Pn(r,t,l),Nn(t,n),Pn(r,o,l),c&&c.m(r,l),Pn(r,i,l),s||(a=Wn(n,"click",e[4]),s=!0)},p(e,[t]){l===(l=r(e))&&c?c.p(e,t):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(i.parentNode,i)))},i:un,o:un,d(e){e&&zn(t),e&&zn(o),c&&c.d(e),e&&zn(i),s=!1,a()}}}function Sw(e,t,n){let o,i;wn(e,ga,(e=>n(14,i=e)));let s,{controller:a}=t,{message:r}=t,l=!1,c=!1,d=!1,u="",g=!1;const h=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,s=void 0);let t=al(r).innerText;n(11,u=t);const[o,c]=await Ad({targetLang:i.selectedTargetLanguage,sourceLang:a.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,s=c),g=!0,Wd({eventType:Ye,controller:a,error:c});else if(o){n(11,u=o),n(1,d=!0),Wd({eventType:Ke,controller:a,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,a=e.controller),"message"in e&&n(8,r=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,s,o,()=>{l||h({trigger:m})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),a.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,s=void 0)},a,r,()=>{!a.getIsAutoTranslatedEnabled()||d||l||c||g||h({trigger:p})},()=>{!d||l||c||h({trigger:m})},u]}window.customElements.define("deepl-zendesk-input-icon",vw);class kw extends Yo{constructor(e){super(),Xo(this,e,Sw,Lw,_n,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class Ew extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.processRefreshUI=this.processRefreshUI.bind(this),this.triggerTranslateAgain=this.triggerTranslateAgain.bind(this)}createDOM({controller:e,message:t}){this.mainComponent=new kw({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})}processRefreshUI(){this.mainComponent.processRefreshUI()}triggerTranslateAgain(){this.mainComponent.triggerTranslateAgain()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Mw(e){let t,n,o;return{c(){t=Bn("div"),n=Fn(),o=Bn("div"),Zn(t,"class","dl-zendesk-icon svelte-i3vxpb"),Zn(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){Pn(e,t,i),Pn(e,n,i),Pn(e,o,i)},p:un,i:un,o:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function Iw(e,n,o){let i;wn(e,ga,(e=>o(17,i=e)));let{pane:s}=n,{ticketId:a}=n,{controller:r}=n;const l={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1};let c,d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},g=(e,t)=>{u[e]=t},p=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},m=async()=>{if(!c)return;let e;switch(c){case Qe:e=await rl(s);break;case Je:e=await ll(s)}e&&(e=Ht(e),o(13,l.hasAttemptedLanguageDetection=!0,l),o(13,l.language=e,l),o(13,l.isDetected=!0,l),o(13,l.isSupported=!!t.find((t=>t.langCode===e)),l),Wd({eventType:We,controller:r}),bl(s))};return mo((()=>{Wd({eventType:je,controller:r}),g("ticketTypeDetection",(()=>{const e=nl(s);return!!e&&(c=e,m(),!0)}))})),e.$$set=e=>{"pane"in e&&o(0,s=e.pane),"ticketId"in e&&o(1,a=e.ticketId),"controller"in e&&o(2,r=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&g("toolbarLanguageUpdate",(()=>cl(s,{language:l.language,isDetected:l.isDetected,isSupported:l.isSupported}))),8193&e.$$.dirty&&(g("inputIconLanguageUpdate",(()=>gl(s,l.language))),g("topIconLanguageUpdate",(()=>ul(s)))),16385&e.$$.dirty&&g("toolbarAutoTranslateStatus",(()=>{dl(s,{isEnabled:d})}))},[s,a,r,()=>s,()=>a,()=>l,()=>d,e=>{o(13,l.language=e.language,l),o(13,l.isDetected=e.isDetected,l),o(13,l.isSupported=e.isSupported,l)},e=>{o(14,d=e)},()=>c,e=>{c=e},async()=>{if(l.hasAttemptedLanguageDetection||await m(),(l.language||i.isZendeskEnabled)&&Kr(r,i.isZendeskEnabled),l.isSupported&&i.isZendeskEnabled){pl(r);for(const e of ol(s)){const t=ml(e);t&&t.processRefreshUI()}}_l(s),p()},()=>{vl(s)},l,d]}window.customElements.define("deepl-zendesk-message-controller",Ew);class Dw extends Yo{constructor(e){super(),Xo(this,e,Iw,Mw,_n,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class Ow extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.getTicketId=this.getTicketId.bind(this),this.getPane=this.getPane.bind(this),this.getTicketLanguageInformation=this.getTicketLanguageInformation.bind(this),this.getIsAutoTranslatedEnabled=this.getIsAutoTranslatedEnabled.bind(this),this.setIsAutoTranslateEnabled=this.setIsAutoTranslateEnabled.bind(this),this.getInputWorkingArea=this.getInputWorkingArea.bind(this),this.setLanguageInformation=this.setLanguageInformation.bind(this),this.processRefreshUI=this.processRefreshUI.bind(this),this.getInputHasSelection=this.getInputHasSelection.bind(this)}createDOM({ticketId:e,pane:t}){this.mainComponent=new Dw({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this,ticketId:e,pane:t}})}getTicketId(){return this.mainComponent?.getTicketId()}getPane(){return this.mainComponent?.getPane()}getTicketLanguageInformation(){return this.mainComponent?.getTicketLanguageInformation()}getIsAutoTranslatedEnabled(){return this.mainComponent?.getIsAutoTranslatedEnabled()}setIsAutoTranslateEnabled(e){this.mainComponent?.setIsAutoTranslateEnabled(e)}getInputWorkingArea(){return this.shadowContainer.querySelector(".dl-zendesk-working-area")}setLanguageInformation(e){this.mainComponent?.setLanguageInformation(e)}getTicketType(){return this.mainComponent?.getTicketType()}setTicketType(e){this.mainComponent?.setTicketType(e)}processRefreshUI(){this.mainComponent.processRefreshUI()}getInputHasSelection(){return this.mainComponent?.getInputHasSelection()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Nw(e){let t,n,o,i,s,a,r,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=Bn("div"),n=Bn("button"),o=Fn(),i=qn(d),Zn(n,"class","dismiss-tooltip svelte-1h7bxtg"),Zn(t,"class","dl-zendesk-submit-button-tooltip svelte-1h7bxtg"),Yn(t,"max-width",(e[1].width||0)+"px"),Yn(t,"bottom",e[0].height+12+"px")},m(s,a){Pn(s,t,a),Nn(t,n),Nn(t,o),Nn(t,i),r=!0,l||(c=Wn(n,"click",e[4]),l=!0)},p(e,n){(!r||2&n)&&Yn(t,"max-width",(e[1].width||0)+"px"),(!r||1&n)&&Yn(t,"bottom",e[0].height+12+"px")},i(e){r||(So((()=>{a&&a.end(1),s=Fo(t,ei,{y:-5,duration:500}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=jo(t,ei,{y:-5,duration:500}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,c()}}}function Aw(e){let t,n,o=e[2]&&!e[3]&&Nw(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&Bo(o,1)):(o=Nw(e),o.c(),Bo(o,1),o.m(t.parentNode,t)):o&&(zo(),Uo(o,1,1,(()=>{o=null})),Ho())},i(e){n||(Bo(o),n=!0)},o(e){Uo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Rw(e,t,n){let{coords:o}=t,{containerCoords:i}=t,s=!1,a=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,s,a,()=>{n(3,a=!0)},e=>{n(2,s=e)},()=>{console.log("Resetting tooltip..."),n(2,s=!1),n(3,a=!1)}]}window.customElements.define("deepl-zendesk-ticket-controller",Ow);class Pw extends Yo{constructor(e){super(),Xo(this,e,Rw,Aw,_n,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class zw extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.setIsLanguageMismatching=this.setIsLanguageMismatching.bind(this),this.resetTooltip=this.resetTooltip.bind(this),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({coords:e,containerCoords:t}){this.mainComponent=new Pw({target:this.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})}setIsLanguageMismatching(e){this.mainComponent?.setIsLanguageMismatching(e)}resetTooltip(){this.mainComponent?.resetTooltip()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Hw(e,t,n){const o=e.slice();return o[15]=t[n],o}function Bw(e){let t,n,o,i,s,a;const r=[jw,Fw,qw,Uw],l=[];function c(e,t){return"onboarding"===e[4]?0:"user_has_reached_limit"===e[4]?1:"language_not_supported"===e[4]?2:3}n=c(e),o=l[n]=r[n](e);let d=!e[1]&&"onboarding"!==e[4]&&Gw(e),u=(!e[2].isZendeskEnabled||"default"===e[4]||"onboarding"===e[4])&&!e[5]&&Yw(e);return{c(){t=Bn("div"),o.c(),i=Fn(),d&&d.c(),s=Fn(),u&&u.c(),Zn(t,"class","dl-zendesk-modal svelte-1utwzvc"),no(t,"onboarding","onboarding"===e[4])},m(e,o){Pn(e,t,o),l[n].m(t,null),Nn(t,i),d&&d.m(t,null),Nn(t,s),u&&u.m(t,null),a=!0},p(e,g){let p=n;n=c(e),n===p?l[n].p(e,g):(zo(),Uo(l[p],1,1,(()=>{l[p]=null})),Ho(),o=l[n],o?o.p(e,g):(o=l[n]=r[n](e),o.c()),Bo(o,1),o.m(t,i)),e[1]||"onboarding"===e[4]?d&&(d.d(1),d=null):d?d.p(e,g):(d=Gw(e),d.c(),d.m(t,s)),e[2].isZendeskEnabled&&"default"!==e[4]&&"onboarding"!==e[4]||e[5]?u&&(u.d(1),u=null):u?u.p(e,g):(u=Yw(e),u.c(),u.m(t,null)),(!a||16&g)&&no(t,"onboarding","onboarding"===e[4])},i(e){a||(Bo(o),a=!0)},o(e){Uo(o),a=!1},d(e){e&&zn(t),l[n].d(),d&&d.d(),u&&u.d()}}}function Uw(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"",_=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"",v=!e[1]&&Ww(e);return r=new Wa({props:{value:e[2].selectedTargetLanguage,websiteSettings:xa,disabled:!e[2].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md",dropdownMaxHeight:150}}),r.$on("selection",e[13]),{c(){v&&v.c(),t=Fn(),n=Bn("div"),o=qn(f),i=Fn(),s=Bn("div"),a=Bn("div"),Vo(r.$$.fragment),l=Fn(),c=Bn("div"),d=Bn("button"),u=qn(_),Zn(a,"class","dropdown svelte-1utwzvc"),Zn(d,"class","btn-primary svelte-1utwzvc"),d.disabled=g=!e[2].isZendeskEnabled,Zn(c,"class","right svelte-1utwzvc"),Zn(s,"class","dropdown-container svelte-1utwzvc"),Zn(n,"class","modal-section language-selector svelte-1utwzvc")},m(g,f){v&&v.m(g,f),Pn(g,t,f),Pn(g,n,f),Nn(n,o),Nn(n,i),Nn(n,s),Nn(s,a),Zo(r,a,null),Nn(s,l),Nn(s,c),Nn(c,d),Nn(d,u),p=!0,m||(h=Wn(d,"click",e[14]),m=!0)},p(e,n){e[1]?v&&(v.d(1),v=null):v?v.p(e,n):(v=Ww(e),v.c(),v.m(t.parentNode,t));const o={};4&n&&(o.value=e[2].selectedTargetLanguage),4&n&&(o.disabled=!e[2].isZendeskEnabled),r.$set(o),(!p||4&n&&g!==(g=!e[2].isZendeskEnabled))&&(d.disabled=g)},i(e){p||(Bo(r.$$.fragment,e),p=!0)},o(e){Uo(r.$$.fragment,e),p=!1},d(e){v&&v.d(e),e&&zn(t),e&&zn(n),Ko(r),m=!1,h()}}}function qw(e){let t,n,o;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=Fn(),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,Zn(t,"class","modal-section language-not-supported svelte-1utwzvc"),Zn(o,"class","modal-section secondary-text svelte-1utwzvc")},m(e,i){Pn(e,t,i),Pn(e,n,i),Pn(e,o,i)},p:un,i:un,o:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function Fw(e){let t,n,o,i,s;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Fn(),s=Bn("div"),s.textContent=`${chrome.i18n.getMessage("zendesk_limit_reached_infobox")}`,Zn(o,"class","icon svelte-1utwzvc"),Zn(s,"class","text svelte-1utwzvc"),Zn(n,"class","upgrade-infobox svelte-1utwzvc"),Zn(t,"class","modal-section reached-limit svelte-1utwzvc")},m(e,a){Pn(e,t,a),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s)},p:un,i:un,o:un,d(e){e&&zn(t)}}}function jw(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_,v,w,b=chrome.i18n.getMessage("zendesk_onboarding_content_one",[50])+"",$=chrome.i18n.getMessage("zendesk_onboarding_content_two")+"",y=chrome.i18n.getMessage("zendesk_onboarding_content_three")+"";return a=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),u=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),f=new _v({props:{width:"16px",height:"16px",padding:"3px 0 0 0"}}),{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,o=Fn(),i=Bn("div"),s=Bn("div"),Vo(a.$$.fragment),r=Fn(),l=Bn("div"),c=Fn(),d=Bn("div"),Vo(u.$$.fragment),g=Fn(),p=Bn("div"),m=Fn(),h=Bn("div"),Vo(f.$$.fragment),_=Fn(),v=Bn("div"),Zn(n,"class","welcome svelte-1utwzvc"),Zn(l,"class","copy-text svelte-1utwzvc"),Zn(s,"class","copy svelte-1utwzvc"),Zn(p,"class","copy-text svelte-1utwzvc"),Zn(d,"class","copy svelte-1utwzvc"),Zn(v,"class","copy-text svelte-1utwzvc"),Zn(h,"class","copy svelte-1utwzvc"),Zn(i,"class","body svelte-1utwzvc"),Zn(t,"class","modal-section onboarding svelte-1utwzvc")},m(e,C){Pn(e,t,C),Nn(t,n),Nn(t,o),Nn(t,i),Nn(i,s),Zo(a,s,null),Nn(s,r),Nn(s,l),l.innerHTML=b,Nn(i,c),Nn(i,d),Zo(u,d,null),Nn(d,g),Nn(d,p),p.innerHTML=$,Nn(i,m),Nn(i,h),Zo(f,h,null),Nn(h,_),Nn(h,v),v.innerHTML=y,w=!0},p:un,i(e){w||(Bo(a.$$.fragment,e),Bo(u.$$.fragment,e),Bo(f.$$.fragment,e),w=!0)},o(e){Uo(a.$$.fragment,e),Uo(u.$$.fragment,e),Uo(f.$$.fragment,e),w=!1},d(e){e&&zn(t),Ko(a),Ko(u),Ko(f)}}}function Ww(e){let t,n,o,i,s,a=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[6]])+"",r=chrome.i18n.getMessage("zendesk_popup_char_limit_content")+"";return{c(){t=Bn("div"),n=Bn("div"),o=qn(a),i=Fn(),s=qn(r),Zn(n,"class","translation-count svelte-1utwzvc"),Zn(t,"class","modal-section svelte-1utwzvc")},m(e,a){Pn(e,t,a),Nn(t,n),Nn(n,o),Nn(t,i),Nn(t,s)},p(e,t){64&t&&a!==(a=chrome.i18n.getMessage("zendesk_popup_char_limit_label",[e[6]])+"")&&Kn(o,a)},d(e){e&&zn(t)}}}function Gw(e){let t,n,o,i,s,a,r,l=e[5]&&Vw(),c=ns(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"]),d=[];for(let t=0;t<c.length;t+=1)d[t]=Xw(Hw(e,c,t));return{c(){t=Bn("div"),l&&l.c(),n=Fn(),o=Bn("button"),o.textContent=`${chrome.i18n.getMessage("zendesk_try_pro_advanced_button")}`,i=Fn(),s=Bn("div");for(let e=0;e<d.length;e+=1)d[e].c();Zn(o,"class","upgrade-button svelte-1utwzvc"),Zn(s,"class","login-text svelte-1utwzvc"),Zn(t,"class","modal-section upgrade-button-container svelte-1utwzvc")},m(c,u){Pn(c,t,u),l&&l.m(t,null),Nn(t,n),Nn(t,o),Nn(t,i),Nn(t,s);for(let e=0;e<d.length;e+=1)d[e].m(s,null);a||(r=Wn(o,"click",e[10]),a=!0)},p(e,o){if(e[5]?l?l.p(e,o):(l=Vw(),l.c(),l.m(t,n)):l&&(l.d(1),l=null),512&o){let t;for(c=ns(chrome.i18n.getMessage("zendesk_try_pro_log_in_link"),["loginLink"]),t=0;t<c.length;t+=1){const n=Hw(e,c,t);d[t]?d[t].p(n,o):(d[t]=Xw(n),d[t].c(),d[t].m(s,null))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length}},d(e){e&&zn(t),l&&l.d(),Hn(d,e),a=!1,r()}}}function Vw(e){let t,n=chrome.i18n.getMessage("zendesk_limit_reached_content")+"";return{c(){t=Bn("span"),Zn(t,"class","svelte-1utwzvc")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function Zw(e){let t,n,o=e[15].text+"";return{c(){t=new io(!1),n=jn(),t.a=n},m(e,i){t.m(o,e,i),Pn(e,n,i)},p:un,d(e){e&&zn(n),e&&t.d()}}}function Kw(e){let t,n,o,i=e[15].text+"";return{c(){t=Bn("span"),Zn(t,"class","upgrade-link svelte-1utwzvc")},m(s,a){Pn(s,t,a),t.innerHTML=i,n||(o=Wn(t,"click",e[9]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function Xw(e){let t;let n=function(e,t){return"loginLink"===e[15].block?Kw:Zw}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Yw(e){let t,n,o,i,s,a,r;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("zendesk_popup_on_off_label")}`,o=Fn(),i=Bn("div"),s=Bn("span"),s.innerHTML='<span class="svelte-1utwzvc"></span>',Zn(n,"class","text svelte-1utwzvc"),Zn(s,"class","on-off-switch svelte-1utwzvc"),no(s,"on",e[2].isZendeskEnabled),Zn(i,"class","switch"),Zn(t,"class","modal-section switch-container svelte-1utwzvc")},m(l,c){Pn(l,t,c),Nn(t,n),Nn(t,o),Nn(t,i),Nn(i,s),a||(r=Wn(s,"click",e[8]),a=!0)},p(e,t){4&t&&no(s,"on",e[2].isZendeskEnabled)},d(e){e&&zn(t),a=!1,r()}}}function Qw(e){let t,n,o,i,s,a,r=e[3]&&Bw(e);return{c(){t=Bn("div"),n=Bn("button"),o=Fn(),r&&r.c(),Zn(n,"class","dl-zendesk-top-icon svelte-1utwzvc")},m(l,c){Pn(l,t,c),Nn(t,n),Nn(t,o),r&&r.m(t,null),i=!0,s||(a=[Wn(n,"click",e[12]),Sn(cn.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[7])],s=!0)},p(e,[n]){e[3]?r?(r.p(e,n),8&n&&Bo(r,1)):(r=Bw(e),r.c(),Bo(r,1),r.m(t,null)):r&&(zo(),Uo(r,1,1,(()=>{r=null})),Ho())},i(e){i||(Bo(r),i=!0)},o(e){Uo(r),i=!1},d(e){e&&zn(t),r&&r.d(),s=!1,hn(a)}}}function Jw(e,t,n){let o;wn(e,ga,(e=>n(2,o=e)));let i,{controller:s}=t,a=!1,r="default",l=!1,c=!1;const d=()=>{l?n(4,r="user_has_reached_limit"):o.isZendeskOnboarded?s.getTicketLanguageInformation().isSupported?(n(3,a=!1),n(4,r="default")):(n(4,r="language_not_supported"),n(3,a=o.isZendeskEnabled&&s.getTicketLanguageInformation().hasAttemptedLanguageDetection)):(n(4,r="onboarding"),n(3,a=!0))},u=()=>{"onboarding"===r&&(Ln(ga,o.isZendeskOnboarded=!0,o),n(4,r="default")),"welcome"===r&&n(4,r="default"),n(3,a=!1)};mo((()=>{d()}));return e.$$set=e=>{"controller"in e&&n(0,s=e.controller)},e.$$.update=()=>{4&e.$$.dirty&&n(1,c=o?.featureSet?.customizations?.includes("zendesk")),4&e.$$.dirty&&n(6,i=50-o.zendeskSuccessfulTranslations),6&e.$$.dirty&&o.zendeskSuccessfulTranslations>=50&&!c&&(n(5,l=!0),d()),2&e.$$.dirty&&c&&(n(5,l=!1),n(4,r="default"))},[s,c,o,a,r,l,i,u,()=>{Ln(ga,o.isZendeskEnabled=!o.isZendeskEnabled,o)},()=>{mi({action:"dlRequestLogin"})},function(){mi({action:"dlTrackUILocationClicked",payload:me}),mi({action:"dlExternalURLRedirect",payload:{destination:Ri,utmContent:"zendesk_customization"}})},d,()=>{a?u():n(3,a=!0)},e=>{Ln(ga,o.selectedTargetLanguage=e.detail.selectedOption.value,o),fl(s)},()=>{o.isZendeskEnabled&&u()}]}window.customElements.define("deepl-zendesk-submit-button-tooltip",zw);class eb extends Yo{constructor(e){super(),Xo(this,e,Jw,Qw,_n,{controller:0,updateIconSettings:11})}get updateIconSettings(){return this.$$.ctx[11]}}class tb extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({controller:e}){this.mainComponent=new eb({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})}triggerUpdateIconSettings(){this.mainComponent.updateIconSettings()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function nb(e){let t,n,o,i,s;return n=new Pa({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=Bn("div"),Vo(n.$$.fragment)},m(a,r){Pn(a,t,r),Zo(n,t,null),o=!0,i||(s=Wn(t,"mousedown",Vn(Gn(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(Bo(n.$$.fragment,e),o=!0)},o(e){Uo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Ko(n),i=!1,s()}}}function ob(e,t,n){let o,i;const s=fo(),a=zt();let{value:r}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,r=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...a]),96&e.$$.dirty&&n(2,i=c?r?a.find((e=>e.value===r)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==r&&s("selection",e.detail)},r,c,function(t){wo.call(this,e,t)}]}window.customElements.define("deepl-zendesk-top-icon",tb);class ib extends Yo{constructor(e){super(),Xo(this,e,ob,nb,_n,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function sb(e){let t,n,o,i;function s(e,t){return e[2]?lb:rb}let a=s(e),r=a(e);return{c(){t=Bn("button"),r.c(),Zn(t,"class","translate-all svelte-1uw1ok2"),t.disabled=n=!e[1].isSupported},m(n,s){Pn(n,t,s),r.m(t,null),o||(i=Wn(t,"click",e[6]),o=!0)},p(e,o){a===(a=s(e))&&r?r.p(e,o):(r.d(1),r=a(e),r&&(r.c(),r.m(t,null))),2&o&&n!==(n=!e[1].isSupported)&&(t.disabled=n)},i:un,o:un,d(e){e&&zn(t),r.d(),o=!1,i()}}}function ab(e){let t,n;return t=new Xu({props:{tooltip:chrome.i18n.getMessage(e[2]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[cb]},$$scope:{ctx:e}}}),{c(){Vo(t.$$.fragment)},m(e,o){Zo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.tooltip=chrome.i18n.getMessage(e[2]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),32770&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Bo(t.$$.fragment,e),n=!0)},o(e){Uo(t.$$.fragment,e),n=!1},d(e){Ko(t,e)}}}function rb(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function lb(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=qn(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function cb(e){let t,n,o,i;return{c(){t=Bn("button"),Zn(t,"class","translate-all btn-icon svelte-1uw1ok2"),t.disabled=n=!e[1].isSupported},m(n,s){Pn(n,t,s),o||(i=Wn(t,"click",e[6]),o=!0)},p(e,o){2&o&&n!==(n=!e[1].isSupported)&&(t.disabled=n)},d(e){e&&zn(t),o=!1,i()}}}function db(e){let t,n,o,i,s,a,r,l,c,d,u,g,p,m,h,f,_;c=new ib({props:{value:e[1].language,isDetected:e[1].isDetected,isSupported:e[1].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const v=[ab,sb],w=[];function b(e,t){return"sm"===e[4]?0:1}return g=b(e),p=w[g]=v[g](e),{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=Fn(),s=Bn("div"),a=Bn("div"),a.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,r=Fn(),l=Bn("div"),Vo(c.$$.fragment),d=Fn(),u=Bn("div"),p.c(),Zn(o,"class","senders-language-toggle svelte-1uw1ok2"),Zn(a,"class","label svelte-1uw1ok2"),Zn(l,"class","dropdown-container svelte-1uw1ok2"),Zn(s,"class","container svelte-1uw1ok2"),no(s,"show",e[3]),Zn(n,"class","senders-language svelte-1uw1ok2"),Zn(u,"class","translate-all-container"),Zn(t,"class","dl-zendesk-toolbar svelte-1uw1ok2"),So((()=>e[12].call(t))),no(t,"toolbar-sm","sm"===e[4]),no(t,"toolbar-md","md"===e[4]),no(t,"toolbar-lg","lg"===e[4])},m(p,v){Pn(p,t,v),Nn(t,n),Nn(n,o),Nn(n,i),Nn(n,s),Nn(s,a),Nn(s,r),Nn(s,l),Zo(c,l,null),Nn(t,d),Nn(t,u),w[g].m(u,null),m=to(t,e[12].bind(t)),h=!0,f||(_=[Wn(o,"click",e[7]),Sn(cn.call(null,n,{isShadow:!0})),Wn(n,"click_outside",e[11])],f=!0)},p(e,[n]){const o={};2&n&&(o.value=e[1].language),2&n&&(o.isDetected=e[1].isDetected),2&n&&(o.isSupported=e[1].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!h||8&n)&&no(s,"show",e[3]);let i=g;g=b(e),g===i?w[g].p(e,n):(zo(),Uo(w[i],1,1,(()=>{w[i]=null})),Ho(),p=w[g],p?p.p(e,n):(p=w[g]=v[g](e),p.c()),Bo(p,1),p.m(u,null)),(!h||16&n)&&no(t,"toolbar-sm","sm"===e[4]),(!h||16&n)&&no(t,"toolbar-md","md"===e[4]),(!h||16&n)&&no(t,"toolbar-lg","lg"===e[4])},i(e){h||(Bo(c.$$.fragment,e),Bo(p),h=!0)},o(e){Uo(c.$$.fragment,e),Uo(p),h=!1},d(e){e&&zn(t),Ko(c),w[g].d(),m(),f=!1,hn(_)}}}function ub(e,t,n){let o;const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:s}=t;const a={language:"",isDetected:!1,isSupported:!1};let r,l=!1,c=!1;return e.$$set=e=>{"controller"in e&&n(8,s=e.controller)},e.$$.update=()=>{1&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(r))},[r,a,l,c,o,e=>{const t=e.detail.selectedOption.value;s.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),Wd({eventType:Ge,controller:s,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!l;s.setIsAutoTranslateEnabled(e),Wd({eventType:e?Ve:Ze,controller:s,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,c=!c)},s,({language:e,isDetected:t,isSupported:o})=>{n(1,a.language=e,a),n(1,a.isDetected=t,a),n(1,a.isSupported=o,a)},e=>{n(2,l=e)},()=>n(3,c=!1),function(){r=this.clientWidth,n(0,r)}]}class gb extends Yo{constructor(e){super(),Xo(this,e,ub,db,_n,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class pb extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.updateLanguageInformation=this.updateLanguageInformation.bind(this),this.updateAutoTranslateStatus=this.updateAutoTranslateStatus.bind(this)}createDOM({controller:e}){this.mainComponent=new gb({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})}updateLanguageInformation(e){this.mainComponent.updateLanguageInformation(e)}updateAutoTranslateStatus(e){this.mainComponent.updateAutoTranslateStatus(e)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}return window.customElements.define("deepl-zendesk-toolbar",pb),e.GMAIL_CHAR_LIMIT_ANONYMOUS_USER=1500,e.GMAIL_CHAR_LIMIT_FREE_USER=Sl,e.GMAIL_CHAR_LIMIT_POPUP=Tl,e.GMAIL_CONTROLLER_UI=Cl,e.GMAIL_ONBOARDING=yl,e.GMAIL_TRANSLATE_EMAIL_TOOLBAR=$l,e.GMAIL_UI_ADDED_ATTRIBUTE=Ll,e.GMAIL_WRITE_MESSAGE_UI=xl,e.autodetectLanguage=Rd,e.buildGDocsPasteData=Ur,e.calculateNewIconPosition=Er,e.canInjectInlineTranslation=Yh,e.canInjectInputTranslation=Xh,e.canTranslateElementForDomain=Yc,e.checkForIntersectionWithOpenDialogs=Nl,e.checkIfInputHasSelection=vl,e.clearMessageControllers=fl,e.clickAtCoordinates=zl,e.clickOnElement=Hl,e.createAlert=Ca,e.createGmailController=gc,e.createGmailControllerUtil=El,e.createGoogleDocsIcon=ac,e.createGoogleSlidesController=function(){try{if(document.querySelector("deepl-gslides-controller"))return;Xl=document.createElement("deepl-gslides-controller"),document.documentElement.appendChild(Xl),Xl.createDOM(),dn((()=>{lc()}))}catch(e){jt()&&console.error(e),Wt(e.message)}},e.createHighlightsForSentence=r_,e.createInlineTranslateSettingsTooltip=nc,e.createInlineTranslateTooltip=ec,e.createInlineTranslationTrigger=fc,e.createInlineTranslationTriggerListener=_c,e.createInputTranslationController=uc,e.createNotification=vc,e.createPageLoadPopup=ic,e.createSubmitButtonTooltip=wl,e.createTicketController=Zr,e.customizePage=Vc,e.detectTicketLanguageInLiveChat=ll,e.detectTicketLanguageInTicket=rl,e.detectTicketType=nl,e.disableExtension=Yr,e.elementHasTranslateToolbar=Ol,e.extractSentencesAndEntitiesFromData=kc,e.findEditableContent=async function t(n,o){try{if(o.dataset&&"true"===o.dataset.dlInputTranslation||o.dataset&&"true"===o.dataset.dlNoInputTranslation)return;if("true"===o.contentEditable||"TEXTAREA"===o.nodeName&&o.rows>1){if("none"===window.getComputedStyle(o).display)return;if(!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(o))return;if(!Xc(o,e.websiteData.hostname))return;o.dataset.dlInputTranslation="true",n.push(o)}for(const e of o.childNodes)t(n,e)}catch(e){jt()&&console.error(e),Wt(e.message)}},e.findEmailToAndFromAddressTable=Al,e.findForwardButtonInDocument=ql,e.findSiblingDivWithAnyMessageId=Ul,e.generateLanguagesWithShortcodeForDropdown=Rl,e.getActivePane=Gr,e.getBlocksFromString=function(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,a]=i_(e,t,o);if("end"===s&&(i=!0),o<a&&n.push({block:"main",text:e.substring(o,a)}),i)break;const r=e.indexOf(`</${s}>`,a);-1===r?(n.push({block:s,text:e.substring(a+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(a+`<${s}>`.length,r)}),o=r+`</${s}>`.length)}return n},e.getContextMessages=e=>{const t=[],n=ol(e).map(al).map((e=>e.innerText)),o=[],i=[];for(let e=0;e<n.length;e++){const s=e%2==0?"start":"end";let a=Math.floor(e/2);if("end"===s&&(a=n.length-1-a),t.includes(a))break;if([...o,...i].reduce(((e,t)=>e+t.length),0)+n[a].length>3e3)break;"end"===s?i.unshift(n[a]):o.push(n[a]),t.push(a)}return[...o,...i]},e.getControllerFromMessage=ml,e.getCoordsOfWord=l_,e.getElementCenterCoordinates=Pl,e.getGDocsisEditMode=Mr,e.getGmailControllerUtil=kl,e.getIFrameAndEditable=Tr,e.getIconCoordinates=kr,e.getMessageContent=al,e.getMessageViewContainers=Dl,e.getMessageWriteContainers=()=>{const e=Array.from(document.querySelectorAll('[role="textbox"]')).filter((e=>"true"===e.getAttribute("contenteditable")));return e},e.getMessagesFromTicket=ol,e.getScrollableElements=zm,e.getSelectionContent=Sr,e.getSourceLangFromSlide=Lc,e.getTicketController=Vr,e.getTicketId=Wr,e.getTicketStartingMessage=il,e.getTicketStartingMessages=sl,e.getUserState=zd,e.getWebsiteSettings=Pd,e.getWordsFromSentence=zr,e.getZendeskController=jr,e.improveGDocsSelectionContent=Id,e.injectAskAReviewPopup=wc,e.injectControllerInMessage=hl,e.injectInlineTranslation=Ud,e.injectInputTranslation=Bd,e.injectMissingMessageControllers=pl,e.injectMissingUIElements=Kr,e.isDeepLCom=Kh,e.isGDocs=xr,e.isGSlides=()=>{const e="https://docs.google.com";return window.location.href.substr(0,e.length)===e&&!!document.querySelector("#sketchy-hidden-iframe")},e.isGmail=Hc,e.isIncludedInTheText=function(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)},e.isInputArea=Rm,e.isOnMessageViewScreen=Il,e.isZendesk=Fr,e.onOpenPage=Hd,e.pageListener=Zh,e.processEntityAfterTranslation=Ec,e.processGDocsCopyEvent=Ir,e.reassembleGDocsTranslatedResult=Rr,e.removeAllDeeplElements=function(){!function(e){const t=document.getElementsByTagName(e);if(!t.length)return;for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}("deepl-input-controller")},e.removeGDocsEntities=Pr,e.removeGmailController=pc,e.removeGoogleDocsIcon=rc,e.removeGoogleSlidesController=lc,e.removeInlineTranslateSettingsTooltip=oc,e.removeInlineTranslateTooltip=tc,e.removeInlineTranslateTrigger=hc,e.removeInputTranslationController=mc,e.removePageLoadPopup=sc,e.removeUIElementsFromList=Ml,e.removeZendeskController=dc,e.removeZendeskToolbar=bl,e.removeZendeskUIElements=Xr,e.replaceTranslatedGDocsContent=Hr,e.runCustomScriptsForDomain=Zc,e.runCustomScriptsForSpecificUrl=Kc,e.scanForTranslatables=yd,e.setErrorVisibility=Fd,e.shouldBeTranslated=vd,e.shouldInjectInputIcon=Xc,e.showAlert=Vd,e.simulateGSLidesSelectAll=Sc,e.trackDeeplWriteEvent=Gd,e.trackPageLandingIfNeeded=jd,e.trackZendeskCustomizationEvent=Wd,e.translateGDocsSelectionContent=Md,e.translateGSlidesInbloxkSelectionContent=Od,e.translateGSlidesSelectionContent=Dd,e.translateInlineText=Td,e.translateSelectionRightClick=Ld,e.translateWebsite=Sd,e.translateZendeskMessage=Ad,e.translateZendeskSelectionContent=Nd,e.triggerCopyEvent=Lr,e.twitterState=Jh,e.unsubscribeToWebsiteState=Ta,e.updateInputIconLanguageInformation=gl,e.updateInputPositionerCoords=Pm,e.updateIntegrationPanelIfExists=_l,e.updateToolbarAutoTranslateStatus=dl,e.updateToolbarLanguageInformation=cl,e.updateTopIconLanguageInformation=ul,e.waitForElement=Bl,e.websiteState=xa,e.whatsAppState=Cf,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=content.js.map
